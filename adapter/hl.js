var __getOwnPropNames=Object.getOwnPropertyNames;var __commonJS=(cb,mod)=>function __require(){return mod||(0,cb[__getOwnPropNames(cb)[0]])((mod={exports:{}}).exports,mod),mod.exports};var require_messages=__commonJS({"../../../src/hashlink-debugger/node_modules/vscode-debugadapter/lib/messages.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.Event=exports2.Response=exports2.Message=void 0;var Message=class{constructor(type){this.seq=0;this.type=type}};exports2.Message=Message;var Response=class extends Message{constructor(request,message){super("response");this.request_seq=request.seq;this.command=request.command;if(message){this.success=false;this.message=message}else{this.success=true}}};exports2.Response=Response;var Event=class extends Message{constructor(event,body){super("event");this.event=event;if(body){this.body=body}}};exports2.Event=Event}});var require_protocol=__commonJS({"../../../src/hashlink-debugger/node_modules/vscode-debugadapter/lib/protocol.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.ProtocolServer=void 0;var ee=require("events");var messages_1=require_messages();var Emitter=class{get event(){if(!this._event){this._event=(listener,thisArg)=>{this._listener=listener;this._this=thisArg;let result;result={dispose:()=>{this._listener=void 0;this._this=void 0}};return result}}return this._event}fire(event){if(this._listener){try{this._listener.call(this._this,event)}catch(e){}}}hasListener(){return!!this._listener}dispose(){this._listener=void 0;this._this=void 0}};var ProtocolServer=class _ProtocolServer extends ee.EventEmitter{constructor(){super();this._sendMessage=new Emitter;this._pendingRequests=new Map;this.onDidSendMessage=this._sendMessage.event}dispose(){}handleMessage(msg){if(msg.type==="request"){this.dispatchRequest(msg)}else if(msg.type==="response"){const response=msg;const clb=this._pendingRequests.get(response.request_seq);if(clb){this._pendingRequests.delete(response.request_seq);clb(response)}}}_isRunningInline(){return this._sendMessage&&this._sendMessage.hasListener()}start(inStream,outStream){this._sequence=1;this._writableStream=outStream;this._rawData=Buffer.alloc(0);inStream.on("data",data=>this._handleData(data));inStream.on("close",()=>{this._emitEvent(new messages_1.Event("close"))});inStream.on("error",error=>{this._emitEvent(new messages_1.Event("error","inStream error: "+(error&&error.message)))});outStream.on("error",error=>{this._emitEvent(new messages_1.Event("error","outStream error: "+(error&&error.message)))});inStream.resume()}stop(){if(this._writableStream){this._writableStream.end()}}sendEvent(event){this._send("event",event)}sendResponse(response){if(response.seq>0){console.error(`attempt to send more than one response for command ${response.command}`)}else{this._send("response",response)}}sendRequest(command,args,timeout,cb){const request={command:command};if(args&&Object.keys(args).length>0){request.arguments=args}this._send("request",request);if(cb){this._pendingRequests.set(request.seq,cb);const timer=setTimeout(()=>{clearTimeout(timer);const clb=this._pendingRequests.get(request.seq);if(clb){this._pendingRequests.delete(request.seq);clb(new messages_1.Response(request,"timeout"))}},timeout)}}dispatchRequest(request){}_emitEvent(event){this.emit(event.event,event)}_send(typ,message){message.type=typ;message.seq=this._sequence++;if(this._writableStream){const json=JSON.stringify(message);this._writableStream.write(`Content-Length: ${Buffer.byteLength(json,"utf8")}\r\n\r\n${json}`,"utf8")}this._sendMessage.fire(message)}_handleData(data){this._rawData=Buffer.concat([this._rawData,data]);while(true){if(this._contentLength>=0){if(this._rawData.length>=this._contentLength){const message=this._rawData.toString("utf8",0,this._contentLength);this._rawData=this._rawData.slice(this._contentLength);this._contentLength=-1;if(message.length>0){try{let msg=JSON.parse(message);this.handleMessage(msg)}catch(e){this._emitEvent(new messages_1.Event("error","Error handling data: "+(e&&e.message)))}}continue}}else{const idx=this._rawData.indexOf(_ProtocolServer.TWO_CRLF);if(idx!==-1){const header=this._rawData.toString("utf8",0,idx);const lines=header.split("\r\n");for(let i=0;i<lines.length;i++){const pair=lines[i].split(/: +/);if(pair[0]=="Content-Length"){this._contentLength=+pair[1]}}this._rawData=this._rawData.slice(idx+_ProtocolServer.TWO_CRLF.length);continue}}break}}};exports2.ProtocolServer=ProtocolServer;ProtocolServer.TWO_CRLF="\r\n\r\n"}});var require_runDebugAdapter=__commonJS({"../../../src/hashlink-debugger/node_modules/vscode-debugadapter/lib/runDebugAdapter.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.runDebugAdapter=void 0;var Net=require("net");function runDebugAdapter(debugSession){let port=0;const args=process.argv.slice(2);args.forEach(function(val,index,array){const portMatch=/^--server=(\d{4,5})$/.exec(val);if(portMatch){port=parseInt(portMatch[1],10)}});if(port>0){console.error(`waiting for debug protocol on port ${port}`);Net.createServer(socket=>{console.error(">> accepted connection from client");socket.on("end",()=>{console.error(">> client connection closed\n")});const session=new debugSession(false,true);session.setRunAsServer(true);session.start(socket,socket)}).listen(port)}else{const session=new debugSession(false);process.on("SIGTERM",()=>{session.shutdown()});session.start(process.stdin,process.stdout)}}exports2.runDebugAdapter=runDebugAdapter}});var require_debugSession=__commonJS({"../../../src/hashlink-debugger/node_modules/vscode-debugadapter/lib/debugSession.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.DebugSession=exports2.ErrorDestination=exports2.InvalidatedEvent=exports2.ProgressEndEvent=exports2.ProgressUpdateEvent=exports2.ProgressStartEvent=exports2.CapabilitiesEvent=exports2.LoadedSourceEvent=exports2.ModuleEvent=exports2.BreakpointEvent=exports2.ThreadEvent=exports2.OutputEvent=exports2.ExitedEvent=exports2.TerminatedEvent=exports2.InitializedEvent=exports2.ContinuedEvent=exports2.StoppedEvent=exports2.CompletionItem=exports2.Module=exports2.Breakpoint=exports2.Variable=exports2.Thread=exports2.StackFrame=exports2.Scope=exports2.Source=void 0;var protocol_1=require_protocol();var messages_1=require_messages();var runDebugAdapter_1=require_runDebugAdapter();var url_1=require("url");var Source=class{constructor(name,path,id=0,origin,data){this.name=name;this.path=path;this.sourceReference=id;if(origin){this.origin=origin}if(data){this.adapterData=data}}};exports2.Source=Source;var Scope=class{constructor(name,reference,expensive=false){this.name=name;this.variablesReference=reference;this.expensive=expensive}};exports2.Scope=Scope;var StackFrame=class{constructor(i,nm,src,ln=0,col=0){this.id=i;this.source=src;this.line=ln;this.column=col;this.name=nm}};exports2.StackFrame=StackFrame;var Thread=class{constructor(id,name){this.id=id;if(name){this.name=name}else{this.name="Thread #"+id}}};exports2.Thread=Thread;var Variable=class{constructor(name,value,ref=0,indexedVariables,namedVariables){this.name=name;this.value=value;this.variablesReference=ref;if(typeof namedVariables==="number"){this.namedVariables=namedVariables}if(typeof indexedVariables==="number"){this.indexedVariables=indexedVariables}}};exports2.Variable=Variable;var Breakpoint=class{constructor(verified,line,column,source){this.verified=verified;const e=this;if(typeof line==="number"){e.line=line}if(typeof column==="number"){e.column=column}if(source){e.source=source}}setId(id){this.id=id}};exports2.Breakpoint=Breakpoint;var Module=class{constructor(id,name){this.id=id;this.name=name}};exports2.Module=Module;var CompletionItem=class{constructor(label,start,length=0){this.label=label;this.start=start;this.length=length}};exports2.CompletionItem=CompletionItem;var StoppedEvent=class extends messages_1.Event{constructor(reason,threadId,exceptionText){super("stopped");this.body={reason:reason};if(typeof threadId==="number"){this.body.threadId=threadId}if(typeof exceptionText==="string"){this.body.text=exceptionText}}};exports2.StoppedEvent=StoppedEvent;var ContinuedEvent=class extends messages_1.Event{constructor(threadId,allThreadsContinued){super("continued");this.body={threadId:threadId};if(typeof allThreadsContinued==="boolean"){this.body.allThreadsContinued=allThreadsContinued}}};exports2.ContinuedEvent=ContinuedEvent;var InitializedEvent=class extends messages_1.Event{constructor(){super("initialized")}};exports2.InitializedEvent=InitializedEvent;var TerminatedEvent=class extends messages_1.Event{constructor(restart){super("terminated");if(typeof restart==="boolean"||restart){const e=this;e.body={restart:restart}}}};exports2.TerminatedEvent=TerminatedEvent;var ExitedEvent=class extends messages_1.Event{constructor(exitCode){super("exited");this.body={exitCode:exitCode}}};exports2.ExitedEvent=ExitedEvent;var OutputEvent=class extends messages_1.Event{constructor(output,category="console",data){super("output");this.body={category:category,output:output};if(data!==void 0){this.body.data=data}}};exports2.OutputEvent=OutputEvent;var ThreadEvent=class extends messages_1.Event{constructor(reason,threadId){super("thread");this.body={reason:reason,threadId:threadId}}};exports2.ThreadEvent=ThreadEvent;var BreakpointEvent=class extends messages_1.Event{constructor(reason,breakpoint){super("breakpoint");this.body={reason:reason,breakpoint:breakpoint}}};exports2.BreakpointEvent=BreakpointEvent;var ModuleEvent=class extends messages_1.Event{constructor(reason,module3){super("module");this.body={reason:reason,module:module3}}};exports2.ModuleEvent=ModuleEvent;var LoadedSourceEvent=class extends messages_1.Event{constructor(reason,source){super("loadedSource");this.body={reason:reason,source:source}}};exports2.LoadedSourceEvent=LoadedSourceEvent;var CapabilitiesEvent=class extends messages_1.Event{constructor(capabilities){super("capabilities");this.body={capabilities:capabilities}}};exports2.CapabilitiesEvent=CapabilitiesEvent;var ProgressStartEvent=class extends messages_1.Event{constructor(progressId,title,message){super("progressStart");this.body={progressId:progressId,title:title};if(typeof message==="string"){this.body.message=message}}};exports2.ProgressStartEvent=ProgressStartEvent;var ProgressUpdateEvent=class extends messages_1.Event{constructor(progressId,message){super("progressUpdate");this.body={progressId:progressId};if(typeof message==="string"){this.body.message=message}}};exports2.ProgressUpdateEvent=ProgressUpdateEvent;var ProgressEndEvent=class extends messages_1.Event{constructor(progressId,message){super("progressEnd");this.body={progressId:progressId};if(typeof message==="string"){this.body.message=message}}};exports2.ProgressEndEvent=ProgressEndEvent;var InvalidatedEvent=class extends messages_1.Event{constructor(areas,threadId,stackFrameId){super("invalidated");this.body={};if(areas){this.body.areas=areas}if(threadId){this.body.threadId=threadId}if(stackFrameId){this.body.stackFrameId=stackFrameId}}};exports2.InvalidatedEvent=InvalidatedEvent;var ErrorDestination;(function(ErrorDestination2){ErrorDestination2[ErrorDestination2["User"]=1]="User";ErrorDestination2[ErrorDestination2["Telemetry"]=2]="Telemetry"})(ErrorDestination=exports2.ErrorDestination||(exports2.ErrorDestination={}));var DebugSession=class _DebugSession extends protocol_1.ProtocolServer{constructor(obsolete_debuggerLinesAndColumnsStartAt1,obsolete_isServer){super();const linesAndColumnsStartAt1=typeof obsolete_debuggerLinesAndColumnsStartAt1==="boolean"?obsolete_debuggerLinesAndColumnsStartAt1:false;this._debuggerLinesStartAt1=linesAndColumnsStartAt1;this._debuggerColumnsStartAt1=linesAndColumnsStartAt1;this._debuggerPathsAreURIs=false;this._clientLinesStartAt1=true;this._clientColumnsStartAt1=true;this._clientPathsAreURIs=false;this._isServer=typeof obsolete_isServer==="boolean"?obsolete_isServer:false;this.on("close",()=>{this.shutdown()});this.on("error",error=>{this.shutdown()})}setDebuggerPathFormat(format){this._debuggerPathsAreURIs=format!=="path"}setDebuggerLinesStartAt1(enable){this._debuggerLinesStartAt1=enable}setDebuggerColumnsStartAt1(enable){this._debuggerColumnsStartAt1=enable}setRunAsServer(enable){this._isServer=enable}static run(debugSession){(0,runDebugAdapter_1.runDebugAdapter)(debugSession)}shutdown(){if(this._isServer||this._isRunningInline()){}else{setTimeout(()=>{process.exit(0)},100)}}sendErrorResponse(response,codeOrMessage,format,variables,dest=ErrorDestination.User){let msg;if(typeof codeOrMessage==="number"){msg={id:codeOrMessage,format:format};if(variables){msg.variables=variables}if(dest&ErrorDestination.User){msg.showUser=true}if(dest&ErrorDestination.Telemetry){msg.sendTelemetry=true}}else{msg=codeOrMessage}response.success=false;response.message=_DebugSession.formatPII(msg.format,true,msg.variables);if(!response.body){response.body={}}response.body.error=msg;this.sendResponse(response)}runInTerminalRequest(args,timeout,cb){this.sendRequest("runInTerminal",args,timeout,cb)}dispatchRequest(request){const response=new messages_1.Response(request);try{if(request.command==="initialize"){var args=request.arguments;if(typeof args.linesStartAt1==="boolean"){this._clientLinesStartAt1=args.linesStartAt1}if(typeof args.columnsStartAt1==="boolean"){this._clientColumnsStartAt1=args.columnsStartAt1}if(args.pathFormat!=="path"){this.sendErrorResponse(response,2018,"debug adapter only supports native paths",null,ErrorDestination.Telemetry)}else{const initializeResponse=response;initializeResponse.body={};this.initializeRequest(initializeResponse,args)}}else if(request.command==="launch"){this.launchRequest(response,request.arguments,request)}else if(request.command==="attach"){this.attachRequest(response,request.arguments,request)}else if(request.command==="disconnect"){this.disconnectRequest(response,request.arguments,request)}else if(request.command==="terminate"){this.terminateRequest(response,request.arguments,request)}else if(request.command==="restart"){this.restartRequest(response,request.arguments,request)}else if(request.command==="setBreakpoints"){this.setBreakPointsRequest(response,request.arguments,request)}else if(request.command==="setFunctionBreakpoints"){this.setFunctionBreakPointsRequest(response,request.arguments,request)}else if(request.command==="setExceptionBreakpoints"){this.setExceptionBreakPointsRequest(response,request.arguments,request)}else if(request.command==="configurationDone"){this.configurationDoneRequest(response,request.arguments,request)}else if(request.command==="continue"){this.continueRequest(response,request.arguments,request)}else if(request.command==="next"){this.nextRequest(response,request.arguments,request)}else if(request.command==="stepIn"){this.stepInRequest(response,request.arguments,request)}else if(request.command==="stepOut"){this.stepOutRequest(response,request.arguments,request)}else if(request.command==="stepBack"){this.stepBackRequest(response,request.arguments,request)}else if(request.command==="reverseContinue"){this.reverseContinueRequest(response,request.arguments,request)}else if(request.command==="restartFrame"){this.restartFrameRequest(response,request.arguments,request)}else if(request.command==="goto"){this.gotoRequest(response,request.arguments,request)}else if(request.command==="pause"){this.pauseRequest(response,request.arguments,request)}else if(request.command==="stackTrace"){this.stackTraceRequest(response,request.arguments,request)}else if(request.command==="scopes"){this.scopesRequest(response,request.arguments,request)}else if(request.command==="variables"){this.variablesRequest(response,request.arguments,request)}else if(request.command==="setVariable"){this.setVariableRequest(response,request.arguments,request)}else if(request.command==="setExpression"){this.setExpressionRequest(response,request.arguments,request)}else if(request.command==="source"){this.sourceRequest(response,request.arguments,request)}else if(request.command==="threads"){this.threadsRequest(response,request)}else if(request.command==="terminateThreads"){this.terminateThreadsRequest(response,request.arguments,request)}else if(request.command==="evaluate"){this.evaluateRequest(response,request.arguments,request)}else if(request.command==="stepInTargets"){this.stepInTargetsRequest(response,request.arguments,request)}else if(request.command==="gotoTargets"){this.gotoTargetsRequest(response,request.arguments,request)}else if(request.command==="completions"){this.completionsRequest(response,request.arguments,request)}else if(request.command==="exceptionInfo"){this.exceptionInfoRequest(response,request.arguments,request)}else if(request.command==="loadedSources"){this.loadedSourcesRequest(response,request.arguments,request)}else if(request.command==="dataBreakpointInfo"){this.dataBreakpointInfoRequest(response,request.arguments,request)}else if(request.command==="setDataBreakpoints"){this.setDataBreakpointsRequest(response,request.arguments,request)}else if(request.command==="readMemory"){this.readMemoryRequest(response,request.arguments,request)}else if(request.command==="writeMemory"){this.writeMemoryRequest(response,request.arguments,request)}else if(request.command==="disassemble"){this.disassembleRequest(response,request.arguments,request)}else if(request.command==="cancel"){this.cancelRequest(response,request.arguments,request)}else if(request.command==="breakpointLocations"){this.breakpointLocationsRequest(response,request.arguments,request)}else if(request.command==="setInstructionBreakpoints"){this.setInstructionBreakpointsRequest(response,request.arguments,request)}else{this.customRequest(request.command,response,request.arguments,request)}}catch(e){this.sendErrorResponse(response,1104,"{_stack}",{_exception:e.message,_stack:e.stack},ErrorDestination.Telemetry)}}initializeRequest(response,args){response.body.supportsConditionalBreakpoints=false;response.body.supportsHitConditionalBreakpoints=false;response.body.supportsFunctionBreakpoints=false;response.body.supportsConfigurationDoneRequest=true;response.body.supportsEvaluateForHovers=false;response.body.supportsStepBack=false;response.body.supportsSetVariable=false;response.body.supportsRestartFrame=false;response.body.supportsStepInTargetsRequest=false;response.body.supportsGotoTargetsRequest=false;response.body.supportsCompletionsRequest=false;response.body.supportsRestartRequest=false;response.body.supportsExceptionOptions=false;response.body.supportsValueFormattingOptions=false;response.body.supportsExceptionInfoRequest=false;response.body.supportTerminateDebuggee=false;response.body.supportsDelayedStackTraceLoading=false;response.body.supportsLoadedSourcesRequest=false;response.body.supportsLogPoints=false;response.body.supportsTerminateThreadsRequest=false;response.body.supportsSetExpression=false;response.body.supportsTerminateRequest=false;response.body.supportsDataBreakpoints=false;response.body.supportsReadMemoryRequest=false;response.body.supportsDisassembleRequest=false;response.body.supportsCancelRequest=false;response.body.supportsBreakpointLocationsRequest=false;response.body.supportsClipboardContext=false;response.body.supportsSteppingGranularity=false;response.body.supportsInstructionBreakpoints=false;response.body.supportsExceptionFilterOptions=false;this.sendResponse(response)}disconnectRequest(response,args,request){this.sendResponse(response);this.shutdown()}launchRequest(response,args,request){this.sendResponse(response)}attachRequest(response,args,request){this.sendResponse(response)}terminateRequest(response,args,request){this.sendResponse(response)}restartRequest(response,args,request){this.sendResponse(response)}setBreakPointsRequest(response,args,request){this.sendResponse(response)}setFunctionBreakPointsRequest(response,args,request){this.sendResponse(response)}setExceptionBreakPointsRequest(response,args,request){this.sendResponse(response)}configurationDoneRequest(response,args,request){this.sendResponse(response)}continueRequest(response,args,request){this.sendResponse(response)}nextRequest(response,args,request){this.sendResponse(response)}stepInRequest(response,args,request){this.sendResponse(response)}stepOutRequest(response,args,request){this.sendResponse(response)}stepBackRequest(response,args,request){this.sendResponse(response)}reverseContinueRequest(response,args,request){this.sendResponse(response)}restartFrameRequest(response,args,request){this.sendResponse(response)}gotoRequest(response,args,request){this.sendResponse(response)}pauseRequest(response,args,request){this.sendResponse(response)}sourceRequest(response,args,request){this.sendResponse(response)}threadsRequest(response,request){this.sendResponse(response)}terminateThreadsRequest(response,args,request){this.sendResponse(response)}stackTraceRequest(response,args,request){this.sendResponse(response)}scopesRequest(response,args,request){this.sendResponse(response)}variablesRequest(response,args,request){this.sendResponse(response)}setVariableRequest(response,args,request){this.sendResponse(response)}setExpressionRequest(response,args,request){this.sendResponse(response)}evaluateRequest(response,args,request){this.sendResponse(response)}stepInTargetsRequest(response,args,request){this.sendResponse(response)}gotoTargetsRequest(response,args,request){this.sendResponse(response)}completionsRequest(response,args,request){this.sendResponse(response)}exceptionInfoRequest(response,args,request){this.sendResponse(response)}loadedSourcesRequest(response,args,request){this.sendResponse(response)}dataBreakpointInfoRequest(response,args,request){this.sendResponse(response)}setDataBreakpointsRequest(response,args,request){this.sendResponse(response)}readMemoryRequest(response,args,request){this.sendResponse(response)}writeMemoryRequest(response,args,request){this.sendResponse(response)}disassembleRequest(response,args,request){this.sendResponse(response)}cancelRequest(response,args,request){this.sendResponse(response)}breakpointLocationsRequest(response,args,request){this.sendResponse(response)}setInstructionBreakpointsRequest(response,args,request){this.sendResponse(response)}customRequest(command,response,args,request){this.sendErrorResponse(response,1014,"unrecognized request",null,ErrorDestination.Telemetry)}convertClientLineToDebugger(line){if(this._debuggerLinesStartAt1){return this._clientLinesStartAt1?line:line+1}return this._clientLinesStartAt1?line-1:line}convertDebuggerLineToClient(line){if(this._debuggerLinesStartAt1){return this._clientLinesStartAt1?line:line-1}return this._clientLinesStartAt1?line+1:line}convertClientColumnToDebugger(column){if(this._debuggerColumnsStartAt1){return this._clientColumnsStartAt1?column:column+1}return this._clientColumnsStartAt1?column-1:column}convertDebuggerColumnToClient(column){if(this._debuggerColumnsStartAt1){return this._clientColumnsStartAt1?column:column-1}return this._clientColumnsStartAt1?column+1:column}convertClientPathToDebugger(clientPath){if(this._clientPathsAreURIs!==this._debuggerPathsAreURIs){if(this._clientPathsAreURIs){return _DebugSession.uri2path(clientPath)}else{return _DebugSession.path2uri(clientPath)}}return clientPath}convertDebuggerPathToClient(debuggerPath){if(this._debuggerPathsAreURIs!==this._clientPathsAreURIs){if(this._debuggerPathsAreURIs){return _DebugSession.uri2path(debuggerPath)}else{return _DebugSession.path2uri(debuggerPath)}}return debuggerPath}static path2uri(path){if(process.platform==="win32"){if(/^[A-Z]:/.test(path)){path=path[0].toLowerCase()+path.substr(1)}path=path.replace(/\\/g,"/")}path=encodeURI(path);let uri=new url_1.URL(`file:`);uri.pathname=path;return uri.toString()}static uri2path(sourceUri){let uri=new url_1.URL(sourceUri);let s=decodeURIComponent(uri.pathname);if(process.platform==="win32"){if(/^\/[a-zA-Z]:/.test(s)){s=s[1].toLowerCase()+s.substr(2)}s=s.replace(/\//g,"\\")}return s}static formatPII(format,excludePII,args){return format.replace(_DebugSession._formatPIIRegexp,function(match,paramName){if(excludePII&&paramName.length>0&&paramName[0]!=="_"){return match}return args[paramName]&&args.hasOwnProperty(paramName)?args[paramName]:match})}};exports2.DebugSession=DebugSession;DebugSession._formatPIIRegexp=/{([^}]+)}/g}});var require_opts_arg=__commonJS({"../../../src/hashlink-debugger/node_modules/mkdirp/lib/opts-arg.js"(exports2,module2){var{promisify:promisify}=require("util");var fs=require("fs");var optsArg=opts=>{if(!opts)opts={mode:511,fs:fs};else if(typeof opts==="object")opts={mode:511,fs:fs,...opts};else if(typeof opts==="number")opts={mode:opts,fs:fs};else if(typeof opts==="string")opts={mode:parseInt(opts,8),fs:fs};else throw new TypeError("invalid options argument");opts.mkdir=opts.mkdir||opts.fs.mkdir||fs.mkdir;opts.mkdirAsync=promisify(opts.mkdir);opts.stat=opts.stat||opts.fs.stat||fs.stat;opts.statAsync=promisify(opts.stat);opts.statSync=opts.statSync||opts.fs.statSync||fs.statSync;opts.mkdirSync=opts.mkdirSync||opts.fs.mkdirSync||fs.mkdirSync;return opts};module2.exports=optsArg}});var require_path_arg=__commonJS({"../../../src/hashlink-debugger/node_modules/mkdirp/lib/path-arg.js"(exports2,module2){var platform=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform;var{resolve:resolve,parse:parse}=require("path");var pathArg=path=>{if(/\0/.test(path)){throw Object.assign(new TypeError("path must be a string without null bytes"),{path:path,code:"ERR_INVALID_ARG_VALUE"})}path=resolve(path);if(platform==="win32"){const badWinChars=/[*|"<>?:]/;const{root:root}=parse(path);if(badWinChars.test(path.substr(root.length))){throw Object.assign(new Error("Illegal characters in path."),{path:path,code:"EINVAL"})}}return path};module2.exports=pathArg}});var require_find_made=__commonJS({"../../../src/hashlink-debugger/node_modules/mkdirp/lib/find-made.js"(exports2,module2){var{dirname:dirname}=require("path");var findMade=(opts,parent,path=void 0)=>{if(path===parent)return Promise.resolve();return opts.statAsync(parent).then(st=>st.isDirectory()?path:void 0,er=>er.code==="ENOENT"?findMade(opts,dirname(parent),parent):void 0)};var findMadeSync=(opts,parent,path=void 0)=>{if(path===parent)return void 0;try{return opts.statSync(parent).isDirectory()?path:void 0}catch(er){return er.code==="ENOENT"?findMadeSync(opts,dirname(parent),parent):void 0}};module2.exports={findMade:findMade,findMadeSync:findMadeSync}}});var require_mkdirp_manual=__commonJS({"../../../src/hashlink-debugger/node_modules/mkdirp/lib/mkdirp-manual.js"(exports2,module2){var{dirname:dirname}=require("path");var mkdirpManual=(path,opts,made)=>{opts.recursive=false;const parent=dirname(path);if(parent===path){return opts.mkdirAsync(path,opts).catch(er=>{if(er.code!=="EISDIR")throw er})}return opts.mkdirAsync(path,opts).then(()=>made||path,er=>{if(er.code==="ENOENT")return mkdirpManual(parent,opts).then(made2=>mkdirpManual(path,opts,made2));if(er.code!=="EEXIST"&&er.code!=="EROFS")throw er;return opts.statAsync(path).then(st=>{if(st.isDirectory())return made;else throw er},()=>{throw er})})};var mkdirpManualSync=(path,opts,made)=>{const parent=dirname(path);opts.recursive=false;if(parent===path){try{return opts.mkdirSync(path,opts)}catch(er){if(er.code!=="EISDIR")throw er;else return}}try{opts.mkdirSync(path,opts);return made||path}catch(er){if(er.code==="ENOENT")return mkdirpManualSync(path,opts,mkdirpManualSync(parent,opts,made));if(er.code!=="EEXIST"&&er.code!=="EROFS")throw er;try{if(!opts.statSync(path).isDirectory())throw er}catch(_){throw er}}};module2.exports={mkdirpManual:mkdirpManual,mkdirpManualSync:mkdirpManualSync}}});var require_mkdirp_native=__commonJS({"../../../src/hashlink-debugger/node_modules/mkdirp/lib/mkdirp-native.js"(exports2,module2){var{dirname:dirname}=require("path");var{findMade:findMade,findMadeSync:findMadeSync}=require_find_made();var{mkdirpManual:mkdirpManual,mkdirpManualSync:mkdirpManualSync}=require_mkdirp_manual();var mkdirpNative=(path,opts)=>{opts.recursive=true;const parent=dirname(path);if(parent===path)return opts.mkdirAsync(path,opts);return findMade(opts,path).then(made=>opts.mkdirAsync(path,opts).then(()=>made).catch(er=>{if(er.code==="ENOENT")return mkdirpManual(path,opts);else throw er}))};var mkdirpNativeSync=(path,opts)=>{opts.recursive=true;const parent=dirname(path);if(parent===path)return opts.mkdirSync(path,opts);const made=findMadeSync(opts,path);try{opts.mkdirSync(path,opts);return made}catch(er){if(er.code==="ENOENT")return mkdirpManualSync(path,opts);else throw er}};module2.exports={mkdirpNative:mkdirpNative,mkdirpNativeSync:mkdirpNativeSync}}});var require_use_native=__commonJS({"../../../src/hashlink-debugger/node_modules/mkdirp/lib/use-native.js"(exports2,module2){var fs=require("fs");var version=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version;var versArr=version.replace(/^v/,"").split(".");var hasNative=+versArr[0]>10||+versArr[0]===10&&+versArr[1]>=12;var useNative=!hasNative?()=>false:opts=>opts.mkdir===fs.mkdir;var useNativeSync=!hasNative?()=>false:opts=>opts.mkdirSync===fs.mkdirSync;module2.exports={useNative:useNative,useNativeSync:useNativeSync}}});var require_mkdirp=__commonJS({"../../../src/hashlink-debugger/node_modules/mkdirp/index.js"(exports2,module2){var optsArg=require_opts_arg();var pathArg=require_path_arg();var{mkdirpNative:mkdirpNative,mkdirpNativeSync:mkdirpNativeSync}=require_mkdirp_native();var{mkdirpManual:mkdirpManual,mkdirpManualSync:mkdirpManualSync}=require_mkdirp_manual();var{useNative:useNative,useNativeSync:useNativeSync}=require_use_native();var mkdirp=(path,opts)=>{path=pathArg(path);opts=optsArg(opts);return useNative(opts)?mkdirpNative(path,opts):mkdirpManual(path,opts)};var mkdirpSync=(path,opts)=>{path=pathArg(path);opts=optsArg(opts);return useNativeSync(opts)?mkdirpNativeSync(path,opts):mkdirpManualSync(path,opts)};mkdirp.sync=mkdirpSync;mkdirp.native=(path,opts)=>mkdirpNative(pathArg(path),optsArg(opts));mkdirp.manual=(path,opts)=>mkdirpManual(pathArg(path),optsArg(opts));mkdirp.nativeSync=(path,opts)=>mkdirpNativeSync(pathArg(path),optsArg(opts));mkdirp.manualSync=(path,opts)=>mkdirpManualSync(pathArg(path),optsArg(opts));module2.exports=mkdirp}});var require_internalLogger=__commonJS({"../../../src/hashlink-debugger/node_modules/vscode-debugadapter/lib/internalLogger.js"(exports2){"use strict";var __awaiter=exports2&&exports2.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};Object.defineProperty(exports2,"__esModule",{value:true});exports2.InternalLogger=void 0;var fs=require("fs");var path=require("path");var mkdirp=require_mkdirp();var logger_1=require_logger();var InternalLogger=class{constructor(logCallback,isServer){this.beforeExitCallback=()=>this.dispose();this._logCallback=logCallback;this._logToConsole=isServer;this._minLogLevel=logger_1.LogLevel.Warn;this.disposeCallback=(signal,code)=>{this.dispose();code=code||2;code+=128;process.exit(code)}}setup(options){return __awaiter(this,void 0,void 0,function*(){this._minLogLevel=options.consoleMinLogLevel;this._prependTimestamp=options.prependTimestamp;if(options.logFilePath){if(!path.isAbsolute(options.logFilePath)){this.log(`logFilePath must be an absolute path: ${options.logFilePath}`,logger_1.LogLevel.Error)}else{const handleError=err=>this.sendLog(`Error creating log file at path: ${options.logFilePath}. Error: ${err.toString()}\n`,logger_1.LogLevel.Error);try{yield mkdirp(path.dirname(options.logFilePath));this.log(`Verbose logs are written to:\n`,logger_1.LogLevel.Warn);this.log(options.logFilePath+"\n",logger_1.LogLevel.Warn);this._logFileStream=fs.createWriteStream(options.logFilePath);this.logDateTime();this.setupShutdownListeners();this._logFileStream.on("error",err=>{handleError(err)})}catch(err){handleError(err)}}}})}logDateTime(){let d=new Date;let dateString=d.getUTCFullYear()+`-${d.getUTCMonth()+1}-`+d.getUTCDate();const timeAndDateStamp=dateString+", "+getFormattedTimeString();this.log(timeAndDateStamp+"\n",logger_1.LogLevel.Verbose,false)}setupShutdownListeners(){process.addListener("beforeExit",this.beforeExitCallback);process.addListener("SIGTERM",this.disposeCallback);process.addListener("SIGINT",this.disposeCallback)}removeShutdownListeners(){process.removeListener("beforeExit",this.beforeExitCallback);process.removeListener("SIGTERM",this.disposeCallback);process.removeListener("SIGINT",this.disposeCallback)}dispose(){return new Promise(resolve=>{this.removeShutdownListeners();if(this._logFileStream){this._logFileStream.end(resolve);this._logFileStream=null}else{resolve()}})}log(msg,level,prependTimestamp=true){if(this._minLogLevel===logger_1.LogLevel.Stop){return}if(level>=this._minLogLevel){this.sendLog(msg,level)}if(this._logToConsole){const logFn=level===logger_1.LogLevel.Error?console.error:level===logger_1.LogLevel.Warn?console.warn:null;if(logFn){logFn((0,logger_1.trimLastNewline)(msg))}}if(level===logger_1.LogLevel.Error){msg=`[${logger_1.LogLevel[level]}] ${msg}`}if(this._prependTimestamp&&prependTimestamp){msg="["+getFormattedTimeString()+"] "+msg}if(this._logFileStream){this._logFileStream.write(msg)}}sendLog(msg,level){if(msg.length>1500){const endsInNewline=!!msg.match(/(\n|\r\n)$/);msg=msg.substr(0,1500)+"[...]";if(endsInNewline){msg=msg+"\n"}}if(this._logCallback){const event=new logger_1.LogOutputEvent(msg,level);this._logCallback(event)}}};exports2.InternalLogger=InternalLogger;function getFormattedTimeString(){let d=new Date;let hourString=_padZeroes(2,String(d.getUTCHours()));let minuteString=_padZeroes(2,String(d.getUTCMinutes()));let secondString=_padZeroes(2,String(d.getUTCSeconds()));let millisecondString=_padZeroes(3,String(d.getUTCMilliseconds()));return hourString+":"+minuteString+":"+secondString+"."+millisecondString+" UTC"}function _padZeroes(minDesiredLength,numberToPad){if(numberToPad.length>=minDesiredLength){return numberToPad}else{return String("0".repeat(minDesiredLength)+numberToPad).slice(-minDesiredLength)}}}});var require_logger=__commonJS({"../../../src/hashlink-debugger/node_modules/vscode-debugadapter/lib/logger.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.trimLastNewline=exports2.LogOutputEvent=exports2.logger=exports2.Logger=exports2.LogLevel=void 0;var internalLogger_1=require_internalLogger();var debugSession_1=require_debugSession();var LogLevel;(function(LogLevel2){LogLevel2[LogLevel2["Verbose"]=0]="Verbose";LogLevel2[LogLevel2["Log"]=1]="Log";LogLevel2[LogLevel2["Warn"]=2]="Warn";LogLevel2[LogLevel2["Error"]=3]="Error";LogLevel2[LogLevel2["Stop"]=4]="Stop"})(LogLevel=exports2.LogLevel||(exports2.LogLevel={}));var Logger=class{constructor(){this._pendingLogQ=[]}log(msg,level=LogLevel.Log){msg=msg+"\n";this._write(msg,level)}verbose(msg){this.log(msg,LogLevel.Verbose)}warn(msg){this.log(msg,LogLevel.Warn)}error(msg){this.log(msg,LogLevel.Error)}dispose(){if(this._currentLogger){const disposeP=this._currentLogger.dispose();this._currentLogger=null;return disposeP}else{return Promise.resolve()}}_write(msg,level=LogLevel.Log){msg=msg+"";if(this._pendingLogQ){this._pendingLogQ.push({msg:msg,level:level})}else if(this._currentLogger){this._currentLogger.log(msg,level)}}setup(consoleMinLogLevel,_logFilePath,prependTimestamp=true){const logFilePath=typeof _logFilePath==="string"?_logFilePath:_logFilePath&&this._logFilePathFromInit;if(this._currentLogger){const options={consoleMinLogLevel:consoleMinLogLevel,logFilePath:logFilePath,prependTimestamp:prependTimestamp};this._currentLogger.setup(options).then(()=>{if(this._pendingLogQ){const logQ=this._pendingLogQ;this._pendingLogQ=null;logQ.forEach(item=>this._write(item.msg,item.level))}})}}init(logCallback,logFilePath,logToConsole){this._pendingLogQ=this._pendingLogQ||[];this._currentLogger=new internalLogger_1.InternalLogger(logCallback,logToConsole);this._logFilePathFromInit=logFilePath}};exports2.Logger=Logger;exports2.logger=new Logger;var LogOutputEvent=class extends debugSession_1.OutputEvent{constructor(msg,level){const category=level===LogLevel.Error?"stderr":level===LogLevel.Warn?"console":"stdout";super(msg,category)}};exports2.LogOutputEvent=LogOutputEvent;function trimLastNewline(str){return str.replace(/(\n|\r\n)$/,"")}exports2.trimLastNewline=trimLastNewline}});var require_loggingDebugSession=__commonJS({"../../../src/hashlink-debugger/node_modules/vscode-debugadapter/lib/loggingDebugSession.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.LoggingDebugSession=void 0;var Logger=require_logger();var logger=Logger.logger;var debugSession_1=require_debugSession();var LoggingDebugSession=class extends debugSession_1.DebugSession{constructor(obsolete_logFilePath,obsolete_debuggerLinesAndColumnsStartAt1,obsolete_isServer){super(obsolete_debuggerLinesAndColumnsStartAt1,obsolete_isServer);this.obsolete_logFilePath=obsolete_logFilePath;this.on("error",event=>{logger.error(event.body)})}start(inStream,outStream){super.start(inStream,outStream);logger.init(e=>this.sendEvent(e),this.obsolete_logFilePath,this._isServer)}sendEvent(event){if(!(event instanceof Logger.LogOutputEvent)){let objectToLog=event;if(event instanceof debugSession_1.OutputEvent&&event.body&&event.body.data&&event.body.data.doNotLogOutput){delete event.body.data.doNotLogOutput;objectToLog=Object.assign({},event);objectToLog.body=Object.assign(Object.assign({},event.body),{output:"<output not logged>"})}logger.verbose(`To client: ${JSON.stringify(objectToLog)}`)}super.sendEvent(event)}sendRequest(command,args,timeout,cb){logger.verbose(`To client: ${JSON.stringify(command)}(${JSON.stringify(args)}), timeout: ${timeout}`);super.sendRequest(command,args,timeout,cb)}sendResponse(response){logger.verbose(`To client: ${JSON.stringify(response)}`);super.sendResponse(response)}dispatchRequest(request){logger.verbose(`From client: ${request.command}(${JSON.stringify(request.arguments)})`);super.dispatchRequest(request)}};exports2.LoggingDebugSession=LoggingDebugSession}});var require_handles=__commonJS({"../../../src/hashlink-debugger/node_modules/vscode-debugadapter/lib/handles.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.Handles=void 0;var Handles=class{constructor(startHandle){this.START_HANDLE=1e3;this._handleMap=new Map;this._nextHandle=typeof startHandle==="number"?startHandle:this.START_HANDLE}reset(){this._nextHandle=this.START_HANDLE;this._handleMap=new Map}create(value){var handle=this._nextHandle++;this._handleMap.set(handle,value);return handle}get(handle,dflt){return this._handleMap.get(handle)||dflt}};exports2.Handles=Handles}});var require_main=__commonJS({"../../../src/hashlink-debugger/node_modules/vscode-debugadapter/lib/main.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.Handles=exports2.Response=exports2.Event=exports2.ErrorDestination=exports2.CompletionItem=exports2.Module=exports2.Source=exports2.Breakpoint=exports2.Variable=exports2.Scope=exports2.StackFrame=exports2.Thread=exports2.InvalidatedEvent=exports2.ProgressEndEvent=exports2.ProgressUpdateEvent=exports2.ProgressStartEvent=exports2.CapabilitiesEvent=exports2.LoadedSourceEvent=exports2.ModuleEvent=exports2.BreakpointEvent=exports2.ThreadEvent=exports2.OutputEvent=exports2.ContinuedEvent=exports2.StoppedEvent=exports2.ExitedEvent=exports2.TerminatedEvent=exports2.InitializedEvent=exports2.logger=exports2.Logger=exports2.LoggingDebugSession=exports2.DebugSession=void 0;var debugSession_1=require_debugSession();Object.defineProperty(exports2,"DebugSession",{enumerable:true,get:function(){return debugSession_1.DebugSession}});Object.defineProperty(exports2,"InitializedEvent",{enumerable:true,get:function(){return debugSession_1.InitializedEvent}});Object.defineProperty(exports2,"TerminatedEvent",{enumerable:true,get:function(){return debugSession_1.TerminatedEvent}});Object.defineProperty(exports2,"ExitedEvent",{enumerable:true,get:function(){return debugSession_1.ExitedEvent}});Object.defineProperty(exports2,"StoppedEvent",{enumerable:true,get:function(){return debugSession_1.StoppedEvent}});Object.defineProperty(exports2,"ContinuedEvent",{enumerable:true,get:function(){return debugSession_1.ContinuedEvent}});Object.defineProperty(exports2,"OutputEvent",{enumerable:true,get:function(){return debugSession_1.OutputEvent}});Object.defineProperty(exports2,"ThreadEvent",{enumerable:true,get:function(){return debugSession_1.ThreadEvent}});Object.defineProperty(exports2,"BreakpointEvent",{enumerable:true,get:function(){return debugSession_1.BreakpointEvent}});Object.defineProperty(exports2,"ModuleEvent",{enumerable:true,get:function(){return debugSession_1.ModuleEvent}});Object.defineProperty(exports2,"LoadedSourceEvent",{enumerable:true,get:function(){return debugSession_1.LoadedSourceEvent}});Object.defineProperty(exports2,"CapabilitiesEvent",{enumerable:true,get:function(){return debugSession_1.CapabilitiesEvent}});Object.defineProperty(exports2,"ProgressStartEvent",{enumerable:true,get:function(){return debugSession_1.ProgressStartEvent}});Object.defineProperty(exports2,"ProgressUpdateEvent",{enumerable:true,get:function(){return debugSession_1.ProgressUpdateEvent}});Object.defineProperty(exports2,"ProgressEndEvent",{enumerable:true,get:function(){return debugSession_1.ProgressEndEvent}});Object.defineProperty(exports2,"InvalidatedEvent",{enumerable:true,get:function(){return debugSession_1.InvalidatedEvent}});Object.defineProperty(exports2,"Thread",{enumerable:true,get:function(){return debugSession_1.Thread}});Object.defineProperty(exports2,"StackFrame",{enumerable:true,get:function(){return debugSession_1.StackFrame}});Object.defineProperty(exports2,"Scope",{enumerable:true,get:function(){return debugSession_1.Scope}});Object.defineProperty(exports2,"Variable",{enumerable:true,get:function(){return debugSession_1.Variable}});Object.defineProperty(exports2,"Breakpoint",{enumerable:true,get:function(){return debugSession_1.Breakpoint}});Object.defineProperty(exports2,"Source",{enumerable:true,get:function(){return debugSession_1.Source}});Object.defineProperty(exports2,"Module",{enumerable:true,get:function(){return debugSession_1.Module}});Object.defineProperty(exports2,"CompletionItem",{enumerable:true,get:function(){return debugSession_1.CompletionItem}});Object.defineProperty(exports2,"ErrorDestination",{enumerable:true,get:function(){return debugSession_1.ErrorDestination}});var loggingDebugSession_1=require_loggingDebugSession();Object.defineProperty(exports2,"LoggingDebugSession",{enumerable:true,get:function(){return loggingDebugSession_1.LoggingDebugSession}});var Logger=require_logger();exports2.Logger=Logger;var messages_1=require_messages();Object.defineProperty(exports2,"Event",{enumerable:true,get:function(){return messages_1.Event}});Object.defineProperty(exports2,"Response",{enumerable:true,get:function(){return messages_1.Response}});var handles_1=require_handles();Object.defineProperty(exports2,"Handles",{enumerable:true,get:function(){return handles_1.Handles}});var logger=Logger.logger;exports2.logger=logger}});var require_hldebug_wrapper=__commonJS({"../../../src/hashlink-debugger/hldebug-wrapper/index.js"(exports2,module2){switch(process.platform){case"win32":module2.exports=require("hldebug/lib/win/hldebug.node");break;case"darwin":module2.exports=require("hldebug/lib/mac/hldebug.node");break;case"linux":module2.exports=require("hldebug/lib/linux/hldebug.node");break}}});(function($global){"use strict";var $estr=function(){return js_Boot.__string_rec(this,"")},$hxEnums=$hxEnums||{},$_;class EReg{constructor(r,opt){this.r=new RegExp(r,opt.split("u").join(""))}match(s){if(this.r.global){this.r.lastIndex=0}this.r.m=this.r.exec(s);this.r.s=s;return this.r.m!=null}matched(n){if(this.r.m!=null&&n>=0&&n<this.r.m.length){return this.r.m[n]}else{throw haxe_Exception.thrown("EReg::matched")}}}EReg.__name__="EReg";Object.assign(EReg.prototype,{__class__:EReg});var VarValue=$hxEnums["VarValue"]={__ename__:true,__constructs__:null,VScope:($_=function(k){return{_hx_index:0,k:k,__enum__:"VarValue",toString:$estr,__params__:function(){return[this.k]}}},$_._hx_name="VScope",$_),VValue:($_=function(v,evalName){return{_hx_index:1,v:v,evalName:evalName,__enum__:"VarValue",toString:$estr,__params__:function(){return[this.v,this.evalName]}}},$_._hx_name="VValue",$_),VUnkownFile:($_=function(file){return{_hx_index:2,file:file,__enum__:"VarValue",toString:$estr,__params__:function(){return[this.file]}}},$_._hx_name="VUnkownFile",$_),VObjFields:($_=function(v,o,evalName){return{_hx_index:3,v:v,o:o,evalName:evalName,__enum__:"VarValue",toString:$estr,__params__:function(){return[this.v,this.o,this.evalName]}}},$_._hx_name="VObjFields",$_),VStatics:($_=function(cl){return{_hx_index:4,cl:cl,__enum__:"VarValue",toString:$estr,__params__:function(){return[this.cl]}}},$_._hx_name="VStatics",$_),VStack:($_=function(stack){return{_hx_index:5,stack:stack,__enum__:"VarValue",toString:$estr,__params__:function(){return[this.stack]}}},$_._hx_name="VStack",$_)};VarValue.__constructs__=[VarValue.VScope,VarValue.VValue,VarValue.VUnkownFile,VarValue.VObjFields,VarValue.VStatics,VarValue.VStack];var vscode_debugAdapter_DebugSession=require_main().DebugSession;class Sys{static systemName(){let _g=process.platform;switch(_g){case"darwin":return"Mac";case"freebsd":return"BSD";case"linux":return"Linux";case"win32":return"Windows";default:let other=_g;return other}}static sleep(seconds){let end=Date.now()+seconds*1e3;while(Date.now()<=end){}}}Sys.__name__="Sys";class HLAdapter extends vscode_debugAdapter_DebugSession{constructor(){super();this.allowEvalGetters=false;this.set_isSessionActive(false);this.set_breakOnlyActive(false);this.debugPort=HLAdapter.DEFAULT_PORT;this.doDebug=true;this.threads=new haxe_ds_IntMap;let hrtime=process.hrtime();this.startTime=hrtime[0]+hrtime[1]/1e9;this.ptrValues=[];this.breakPos=new haxe_ds_StringMap;this.watchedPtrs=[];HLAdapter.inst=this;this.shouldRun=false}set_isSessionActive(b){if(b!=this.isSessionActive){if(this.breakOnlyActive){this.setBreakPos(b)}}return this.isSessionActive=b}set_breakOnlyActive(b){if(b!=this.breakOnlyActive){if(!this.isSessionActive){this.setBreakPos(!b)}}return this.breakOnlyActive=b}initializeRequest(response,args){let _gthis=this;haxe_Log.trace=function(v,p){let str=haxe_Log.formatOutput(v,p);let _gthis1=_gthis;let hrtime=process.hrtime();_gthis1.sendEvent(new vscode_debugAdapter_OutputEvent(((hrtime[0]+hrtime[1]/1e9-_gthis.startTime)*10|0)/10+"> "+str+"\n"))};this.debug("Initialize",{fileName:"src/HLAdapter.hx",lineNumber:90,className:"HLAdapter",methodName:"initializeRequest"});response.body.supportsConfigurationDoneRequest=true;response.body.supportsFunctionBreakpoints=false;response.body.supportsConditionalBreakpoints=true;response.body.supportsEvaluateForHovers=true;response.body.supportsStepBack=false;response.body.supportsSetVariable=true;response.body.supportsDataBreakpoints=true;response.body.exceptionBreakpointFilters=[{filter:"all",label:"Stop on all exceptions"},{filter:"activeOnly",label:"Break only active process"}];this.sendResponse(response)}debug(v,pos){if(HLAdapter.DEBUG){haxe_Log.trace(v,pos)}}launchRequest(response,args){this.debug("Launch",{fileName:"src/HLAdapter.hx",lineNumber:114,className:"HLAdapter",methodName:"launchRequest"});let args1=args;this.setClassPath(args1.classPaths);this.workspaceDirectory=this.formatDirPath(args1.cwd==null?haxe_io_Path.directory(args1.program):args1.cwd);let s=this.workspaceDirectory;process.chdir(s);let port=args1.port;if(port==null){port=this.debugPort}if(args1.allowEval!=null){this.allowEvalGetters=args1.allowEval}let _gthis=this;let onError=function(e){_gthis.errorMessageAndResponse(response,e+"\n"+haxe_CallStack.toString(haxe_CallStack.exceptionStack()));_gthis.sendEvent(new vscode_debugAdapter_TerminatedEvent)};try{this.launch(args1,response);if(this.doDebug){this.startDebug(args1.program,port,function(msg){if(msg!=null){_gthis.proc.kill();_gthis.dbg=null;onError(msg);return}_gthis.sendEvent(new vscode_debugAdapter_InitializedEvent);_gthis.sendResponse(response)})}}catch(_g){haxe_NativeStackTrace.lastError=_g;let e=haxe_Exception.caught(_g).unwrap();onError(e)}}setExceptionBreakPointsRequest(response,args){if(Sys.systemName()!="Mac"){this.dbg.set_breakOnThrow(args.filters.indexOf("all")>=0)}this.set_breakOnlyActive(args.filters.indexOf("activeOnly")>=0);this.sendResponse(response)}formatDirPath(path){path=haxe_io_Path.addTrailingSlash(haxe_io_Path.normalize(path));if(HLAdapter.isWindows&&haxe_io_Path.isAbsolute(path)){path=path.charAt(0).toUpperCase()+HxOverrides.substr(path,1,null)}return path}setClassPath(classPath){if(classPath==null){throw haxe_Exception.thrown("Missing classPath")}let _gthis=this;let result=new Array(classPath.length);let _g=0;let _g1=classPath.length;while(_g<_g1){let i=_g++;result[i]=_gthis.formatDirPath(classPath[i])}this.classPath=result;let stdPath=this.classPath[this.classPath.length-1];if(stdPath!=null){this.classPath.splice(-1,0,stdPath+"/hl/_std/")}this.classPath.push("")}attachRequest(response,args){this.debug("Attach",{fileName:"src/HLAdapter.hx",lineNumber:180,className:"HLAdapter",methodName:"attachRequest"});let args1=args;this.setClassPath(args1.classPaths);this.workspaceDirectory=this.formatDirPath(args1.cwd);let s=this.workspaceDirectory;process.chdir(s);let _gthis=this;this.startDebug(args1.program,args1.port,function(msg){if(msg!=null){_gthis.errorMessageAndResponse(response,msg);_gthis.sendEvent(new vscode_debugAdapter_TerminatedEvent);return}_gthis.sendEvent(new vscode_debugAdapter_InitializedEvent);_gthis.sendResponse(response)})}errorMessageAndResponse(response,message){this.errorMessage("ERROR : "+Std.string(message));this.sendErrorResponse(response,3e3,""+Std.string(message))}getFilePath(file){if(sys_FileSystem.exists(this.workspaceDirectory+file)){return this.workspaceDirectory+file}let _g=0;let _g1=this.classPath;while(_g<_g1.length){let c=_g1[_g];++_g;if(sys_FileSystem.exists(c+file)){return c+file}}return null}processLine(str,out){let e=new vscode_debugAdapter_OutputEvent(str+"\n",out);let reg=null;if(HLAdapter.r_trace.match(str)){reg=HLAdapter.r_trace}else if(HLAdapter.r_call.match(str)){reg=HLAdapter.r_call}if(reg!=null){let file=reg.matched(1);let path=this.getFilePath(file);if(path!=null){e.body.source={name:file,path:path};let tmp=reg.matched(2);e.body.line=Std.parseInt(tmp);e.body.column=0}}this.sendEvent(e)}launch(args,response){let port=args.port==null?this.debugPort:args.port;let hlArgs=["--debug",""+port,args.program];if(this.doDebug){hlArgs.unshift("--debug-wait")}if(args.hotReload){hlArgs.unshift("--hot-reload")}if(args.profileSamples!=null){hlArgs.unshift(""+args.profileSamples);hlArgs.unshift("--profile")}if(args.args!=null){hlArgs=hlArgs.concat(args.args)}if(args.argsFile!=null){let words=js_node_Fs.readFileSync(args.argsFile,{encoding:"utf8"}).split(" ");while(words.length>0){let w=words.shift();if(w==""){continue}if(w.startsWith('"')){let buf=[HxOverrides.substr(w,1,null)];while(true){let w2=words.shift();if(w2==null){break}if(w2.endsWith('"')){w2=HxOverrides.substr(w2,0,-1);buf.push(w2);break}buf.push(w2)}w=buf.join(" ")}hlArgs.push(w)}}let hlPath=args.hl!=null?args.hl:"hl";if(args.hl!=null&&process.env["LIBHL_PATH"]==null){process.env["LIBHL_PATH"]=js_node_Path.dirname(args.hl)}this.proc=js_node_ChildProcess.spawn(hlPath,hlArgs,{cwd:args.cwd,env:args.env});this.debug("Start process "+hlPath+" "+Std.string(hlArgs)+" pid="+this.proc.pid,{fileName:"src/HLAdapter.hx",lineNumber:284,className:"HLAdapter",methodName:"launch"});this.proc.stdout.setEncoding("utf8");let prev="";let _gthis=this;this.proc.stdout.on("data",function(buf){prev+=buf.toString().split("\r\n").join("\n");while(true){let index=prev.indexOf("\n");if(index<0){break}let str=HxOverrides.substr(prev,0,index);prev=HxOverrides.substr(prev,index+1,null);_gthis.processLine(str,"stdout")}if(prev!=""){let cur=prev;let t=new haxe_Timer(200);t.run=function(){if(prev==cur){_gthis.sendEvent(new vscode_debugAdapter_OutputEvent(prev,"stdout"));prev=""}}}});this.proc.stderr.setEncoding("utf8");this.proc.stderr.on("data",function(buf){_gthis.sendEvent(new vscode_debugAdapter_OutputEvent(buf.toString(),"stderr"))});this.proc.on("close",function(code){let exitedEvent={type:"event",event:"exited",seq:0,body:{exitCode:code}};_gthis.debug("Exit code "+code,{fileName:"src/HLAdapter.hx",lineNumber:315,className:"HLAdapter",methodName:"launch"});_gthis.sendEvent(exitedEvent);_gthis.sendEvent(new vscode_debugAdapter_TerminatedEvent);_gthis.stopDebug();if(code==4){let msg="hl exit code 4. Please check if the debug port "+port+" is already occupied, or specifiy a different port in launch configuration.";_gthis.errorMessage(msg)}});this.proc.on("error",function(err){if(err.message=="spawn hl ENOENT"){_gthis.errorMessageAndResponse(response,"Could not start 'hl' process, executable was not found in PATH.\nRestart VSCode or computer.")}else{_gthis.errorMessageAndResponse(response,"Failed to start hl process ("+err.message+")")}})}startDebug(program,port,onError){this.dbg=new hld_Debugger;Sys.sleep(.01);this.debug("Load module "+program,{fileName:"src/HLAdapter.hx",lineNumber:342,className:"HLAdapter",methodName:"startDebug"});this.dbg.loadModule(js_node_buffer__$Buffer_Helper.bytesOfBuffer(js_node_Fs.readFileSync(program)));this.debug("Connecting to 127.0.0.1:"+port,{fileName:"src/HLAdapter.hx",lineNumber:345,className:"HLAdapter",methodName:"startDebug"});let _gthis=this;this.dbg.connectTries("127.0.0.1",port,HLAdapter.CONNECTION_TIMEOUT,function(b){if(!b){haxe_Timer.delay(function(){onError("Failed to connect on debug port")},2e3);return}let pid=_gthis.dbg.jit.pid;if(pid==0){if(_gthis.proc==null){onError("Process attach requires HL 1.7+");return}pid=_gthis.proc.pid}let api=new hld_NodeDebugApiNative(pid,_gthis.dbg.get_is64());if(!_gthis.dbg.init(api)){let msg="Failed to initialize debugger";if(Sys.systemName()=="Linux"){msg+=". On Linux, please try set /proc/sys/kernel/yama/ptrace_scope to 0."}onError(msg);return}_gthis.dbg.eval.allowEvalGetters=_gthis.allowEvalGetters;_gthis.dbg.eval.printEvalCall=HLAdapter.DEBUG;_gthis.syncThreads();_gthis.debug("Connected",{fileName:"src/HLAdapter.hx",lineNumber:374,className:"HLAdapter",methodName:"startDebug"});onError(null)})}configurationDoneRequest(response,args){this.debug("Init done",{fileName:"src/HLAdapter.hx",lineNumber:380,className:"HLAdapter",methodName:"configurationDoneRequest"});this.shouldRun=true;this.timer=new haxe_Timer(16);let _gthis=this;this.timer.run=function(){if(_gthis.dbg==null){return}if(_gthis.shouldRun||_gthis.dbg.stoppedThread==null){_gthis.shouldRun=false;_gthis.run()}}}stopDebug(){if(this.dbg==null){return}this.dbg.end();this.dbg=null;if(this.timer!=null){this.timer.stop();this.timer=null}}frameStr(f,debug){return f.file+":"+f.line+(debug?" @"+hld_Pointer.toString(f.ebp):"")}stackStr(f){if(f.context!=null){let clName=f.context.obj.name.split(".");let field=f.context.field;let _g=0;let _g1=clName.length;while(_g<_g1){let i=_g++;if(HxOverrides.cca(clName[i],0)==36){clName[i]=HxOverrides.substr(clName[i],1,null)}}if(field=="__constructor__"){field="new"}return clName.join(".")+"."+field}return"<local function>"}run(){if(this.dbg==null){return true}this.dbg.customTimeout=0;let ret=false;let count=0;_hx_loop1:while(true){let msg=this.dbg.run();this.handleWait(msg);switch(msg){case-1:break _hx_loop1;case 2:case 4:this.dbg.customTimeout=.1;++count;if(count>100){this.shouldRun=true;break _hx_loop1}break;case 0:case 1:case 3:case 5:case 256:ret=true;break _hx_loop1}}if(this.dbg!=null){this.dbg.customTimeout=null}return ret}syncThreads(){let prev_m=new Map;prev_m=new Map(this.threads.m);this.threads=new haxe_ds_IntMap;let _g=0;let _g1=this.dbg.getThreads();while(_g<_g1.length){let t=_g1[_g];++_g;if(t==this.dbg.currentThread&&t!=this.dbg.mainThread&&!this.dbg.hasStack()){this.debug("Skip thread "+t,{fileName:"src/HLAdapter.hx",lineNumber:458,className:"HLAdapter",methodName:"syncThreads"});continue}if(!prev_m.delete(t)){this.debug("Started thread "+t,{fileName:"src/HLAdapter.hx",lineNumber:462,className:"HLAdapter",methodName:"syncThreads"});this.sendEvent(new vscode_debugAdapter_ThreadEvent("started",t))}this.threads.m.set(t,true)}let jsIterator=prev_m.keys();let t_jsIterator=jsIterator;let t_lastStep=jsIterator.next();while(!t_lastStep.done){let v=t_lastStep.value;t_lastStep=t_jsIterator.next();let t=v;this.debug("Exited thread "+t,{fileName:"src/HLAdapter.hx",lineNumber:468,className:"HLAdapter",methodName:"syncThreads"});this.sendEvent(new vscode_debugAdapter_ThreadEvent("exited",t))}}handleWait(msg){switch(msg){case-1:case 4:break;case 0:this.debug("Exit event",{fileName:"src/HLAdapter.hx",lineNumber:544,className:"HLAdapter",methodName:"handleWait"});this.dbg.resume();this.stopDebug();this.sendEvent(new vscode_debugAdapter_TerminatedEvent);break;case 3:case 5:let error=msg==3?"Access Violation":"Stack Overflow";this.debug("*** "+error+" ***",{fileName:"src/HLAdapter.hx",lineNumber:531,className:"HLAdapter",methodName:"handleWait"});this.syncThreads();this.beforeStop();let bt=this.dbg.getBackTrace();let tmp="Callstack(tid:"+this.dbg.currentThread+"): ";let _this=bt.slice(0,5);let result=new Array(_this.length);let _g=0;let _g1=_this.length;while(_g<_g1){let i=_g++;let f=_this[i];result[i]=f.file+":"+f.line}this.debug(tmp+Std.string(result),{fileName:"src/HLAdapter.hx",lineNumber:535,className:"HLAdapter",methodName:"handleWait"});let ev=new vscode_debugAdapter_StoppedEvent("exception",this.dbg.stoppedThread,error);ev.allThreadsStopped=true;this.sendEvent(ev);break;case 1:case 256:let exc=this.dbg.getException();let str=null;if(exc!=null){let _g2=exc.t;if(_g2._hx_index==11){if(_g2.proto.name=="haxe.ValueException"){try{exc=this.dbg.eval.readField(exc,"value")}catch(_g3){let e=haxe_Exception.caught(_g3);this.debug("Error extracting ValueException value: "+e.get_message(),{fileName:"src/HLAdapter.hx",lineNumber:485,className:"HLAdapter",methodName:"handleWait"})}}}let _g12=exc.t;if(_g12._hx_index==11){if(_g12.proto.name=="SysError"){try{let _g3=this.dbg.eval.readField(exc,"msg").v;if(_g3._hx_index==7){let str2=_g3.v;exc=new hld_Value(hld_ValueRepr.VString("SysError: "+str2,hld_Pointer.make(0,0)),format_hl_HLType.HVoid,null)}}catch(_g3){let e=haxe_Exception.caught(_g3);this.debug("Error extracting SysError value: "+e.get_message(),{fileName:"src/HLAdapter.hx",lineNumber:498,className:"HLAdapter",methodName:"handleWait"})}}}let _g22=exc.v;if(_g22._hx_index==7){let str1=_g22.v;str=str1}else{str=this.dbg.eval.valueStr(exc)}this.debug("Exception: "+str,{fileName:"src/HLAdapter.hx",lineNumber:506,className:"HLAdapter",methodName:"handleWait"})}let reason=msg==256?"data breakpoint":exc!=null?"exception":this.isPause?"paused":"breakpoint";let tid=this.dbg.currentThread;this.syncThreads();this.beforeStop();this.debug("Stopped ("+reason+") on "+tid,{fileName:"src/HLAdapter.hx",lineNumber:520,className:"HLAdapter",methodName:"handleWait"});if(tid!=this.dbg.mainThread&&!this.dbg.hasStack()){tid=this.dbg.mainThread;this.dbg.setCurrentThread(tid);this.debug("Switch thread "+tid,{fileName:"src/HLAdapter.hx",lineNumber:524,className:"HLAdapter",methodName:"handleWait"})}let ev1=new vscode_debugAdapter_StoppedEvent(reason,tid,str);ev1.allThreadsStopped=true;this.sendEvent(ev1);break;default:this.errorMessage("??? "+msg)}this.isPause=false}beforeStop(){this.varsValues=new haxe_ds_IntMap}getLocalFiles(file){file=file.split("\\").join("/");let filePath=file.toLowerCase();let matches=[];if(filePath.startsWith(this.workspaceDirectory.toLowerCase())){matches.push(HxOverrides.substr(file,this.workspaceDirectory.length,null))}let _g=0;let _g1=this.classPath;while(_g<_g1.length){let c=_g1[_g];++_g;if(filePath.startsWith(c.toLowerCase())){matches.push(HxOverrides.substr(file,c.length,null))}}return matches}setBreakPointsRequest(response,args){let files=this.getLocalFiles(args.source.path);if(files.length==0){let _g3=[];let _g12=0;let _g22=args.breakpoints;while(_g12<_g22.length){let a=_g22[_g12];++_g12;_g3.push({line:a.line,verified:false,message:"Could not resolve file "+args.source.path})}response.body={breakpoints:_g3};this.sendResponse(response);return}let _g=0;while(_g<files.length){let f=files[_g];++_g;this.breakPos.m.set(f,[])}let bps=[];response.body={breakpoints:bps};let _g1=0;let _g2=args.breakpoints;while(_g1<_g2.length){let bp=_g2[_g1];++_g1;let line=-1;let _g3=0;while(_g3<files.length){let f=files[_g3];++_g3;line=this.dbg.checkBreakpointLine(f,bp.line);if(line>=0){this.breakPos.m.get(f).push({line:line,condition:bp.condition});bps.push({line:line,verified:true,message:null});break}}if(line<0){bps.push({line:bp.line,verified:false,message:"No code found here"})}}if(!this.breakOnlyActive||this.isSessionActive){this.setBreakPos(true)}this.sendResponse(response)}setBreakPos(active){if(this.dbg==null){return}let forcePaused=false;let _gthis=this;if(this.dbg.stoppedThread==null){forcePaused=true;this.safe(function(){_gthis.dbg.pause()})}let jsIterator=this.breakPos.m.keys();let f_jsIterator=jsIterator;let f_lastStep=jsIterator.next();while(!f_lastStep.done){let v=f_lastStep.value;f_lastStep=f_jsIterator.next();let f=v;this.dbg.clearBreakpoints(f)}if(active){let jsIterator2=this.breakPos.m.entries();let _g_jsIterator=jsIterator2;let _g_lastStep=jsIterator2.next();while(!_g_lastStep.done){let v=_g_lastStep.value;_g_lastStep=_g_jsIterator.next();let _g_key=v[0];let _g_value=v[1];let f=_g_key;let bps=_g_value;let _g=0;while(_g<bps.length){let bp=bps[_g];++_g;let line=this.dbg.addBreakpoint(f,bp.line,bp.condition)}}}if(forcePaused){this.shouldRun=true}}threadsRequest(response){let threads=[];if(this.dbg!=null){let _g=0;let _g1=this.dbg.getThreads();while(_g<_g1.length){let t=_g1[_g];++_g;if(!this.threads.m.has(t)){continue}threads.push({name:t==this.dbg.mainThread?"Main thread":this.dbg.getThreadName(t),id:t})}}response.body={threads:threads};this.sendResponse(response)}setThread(tid){if(tid!=this.dbg.currentThread){this.dbg.setCurrentThread(tid)}}stackTraceRequest(response,args){this.setThread(args.threadId);let bt=this.dbg.getBackTrace();let start=args.startFrame;let count=args.levels==null||args.levels+start>bt.length?bt.length-start:args.levels;let _g=[];let _g1=0;let _g2=count;while(_g1<_g2){let i=_g1++;let f=bt[start+i];let file=this.getFilePath(f.file);_g.push({id:start+i,name:this.stackStr(f),source:{name:f.file.split("/").pop(),path:file==null?void 0:HLAdapter.isWindows?file.split("/").join("\\"):file,sourceReference:file==null?this.allocValue(VarValue.VUnkownFile(f.file)):0},line:f.line,column:1})}response.body={stackFrames:_g,totalFrames:bt.length};if(response.body.stackFrames.length==0){response.body.stackFrames.push({id:start,name:"Empty Stack",line:0,column:0})}this.sendResponse(response)}allocValue(v){let id=++HLAdapter.UID;this.varsValues.m.set(id,v);return id}allocPtr(a){let _g_current=0;let _g_array=this.ptrValues;while(_g_current<_g_array.length){let _g_value=_g_array[_g_current];let _g_key=_g_current++;let i=_g_key;let p=_g_value;let tmp;if(p!=null){let a1=p.ptr;let b=a.ptr;tmp=a1.high==b.high&&a1.low==b.low}else{tmp=false}if(tmp){return i+1}}this.ptrValues.push(a);return this.ptrValues.length}scopesRequest(response,args){this.dbg.currentStackFrame=args.frameId;let args1=this.dbg.getCurrentVars(true);let locals=this.dbg.getCurrentVars(false);let hasThis=args1.indexOf("this")>=0||locals.indexOf("this")>=0;response.body={scopes:[{name:"Locals",variablesReference:this.allocValue(VarValue.VScope(this.dbg.currentStackFrame)),expensive:false,namedVariables:args1.length+locals.length}]};if(hasThis){try{let vthis=this.dbg.getValue("this");let fields=this.dbg.eval.getFields(vthis);if(fields==null){let e=vthis.v;this.debug("Can't get fields for this: "+$hxEnums[e.__enum__].__constructs__[e._hx_index]._hx_name+" of "+this.dbg.eval.typeStr(vthis.t),{fileName:"src/HLAdapter.hx",lineNumber:714,className:"HLAdapter",methodName:"scopesRequest"})}else{response.body.scopes.push({name:"Members",variablesReference:this.allocValue(VarValue.VValue(vthis,"this")),expensive:false,namedVariables:fields.length})}}catch(_g){haxe_NativeStackTrace.lastError=_g;let e=haxe_Exception.caught(_g).unwrap();this.errorMessage(e)}}let cl=this.dbg.getCurrentClass();if(cl!=null){try{let fields=this.dbg.getClassStatics(cl);let _g=0;let _g1=fields.slice();while(_g<_g1.length){let f=_g1[_g];++_g;let v;try{v=this.dbg.getValue(cl+"."+f,true)}catch(_g2){haxe_NativeStackTrace.lastError=_g2;let e=haxe_Exception.caught(_g2).unwrap();this.errorMessage(Std.string(e)+" ("+cl+"."+f+")");continue}if(v==null||v.t._hx_index==10){HxOverrides.remove(fields,f)}}if(fields.length>0){response.body.scopes.push({name:"Statics",variablesReference:this.allocValue(VarValue.VStatics(cl)),expensive:false,namedVariables:fields.length})}}catch(_g){haxe_NativeStackTrace.lastError=_g;let e=haxe_Exception.caught(_g).unwrap();this.errorMessage(e)}}let exception=this.dbg.getVMExceptionStack();if(exception!=null){response.body.scopes.push({name:"Exception Stack",variablesReference:this.allocValue(VarValue.VStack(exception)),expensive:false})}this.sendResponse(response)}makeVar(name,value,evalName){if(value==null){return{name:name,value:"Unknown variable",variablesReference:0}}let tstr=this.dbg.eval.typeStr(value.t);let pstr;if(value.hint._hx_index==3){let p=this.dbg.eval.getPtr(value);pstr=p==null?"":" "+hld_Pointer.toString(p)}else{pstr=""}let _g=value.v;switch(_g._hx_index){case 6:let fields=this.dbg.eval.getFields(value);if(fields!=null&&fields.length>0){let evaluateName7=evalName;return{name:name,type:tstr,value:tstr+pstr,evaluateName:evaluateName7!=null?evaluateName7:"#"+tstr,variablesReference:this.allocValue(VarValue.VValue(value,evalName)),namedVariables:fields.length}}break;case 7:if(value.hint==hld_Hint.HNone){value.hint=hld_Hint.HNoEscape}break;case 8:let f=_g.f;let context=_g.d;let str=this.dbg.eval.funStr(f,value.hint==hld_Hint.HPointer);let evaluateName=evalName;return{name:name,type:tstr,value:str+pstr,evaluateName:evaluateName!=null?evaluateName:"#"+str,variablesReference:this.allocValue(VarValue.VValue(value,evalName)),indexedVariables:2};case 11:let len=_g.length;let str1=this.dbg.eval.valueStr(value);let evaluateName1=evalName;let tmp=len==0?0:this.allocValue(VarValue.VValue(value,evalName));return{name:name,type:tstr,value:str1+pstr,evaluateName:evaluateName1!=null?evaluateName1:"#"+str1,variablesReference:tmp,indexedVariables:len};case 12:let len1=_g.nkeys;let str2=this.dbg.eval.valueStr(value);let evaluateName2=evalName;let tmp1=len1==0?0:this.allocValue(VarValue.VValue(value,evalName));return{name:name,type:tstr,value:str2+pstr,evaluateName:evaluateName2!=null?evaluateName2:"#"+str2,variablesReference:tmp1,indexedVariables:len1};case 13:let str3=this.dbg.eval.valueStr(value);let evaluateName3=evalName;return{name:name,type:tstr,value:str3+pstr,evaluateName:evaluateName3!=null?evaluateName3:"#"+str3,variablesReference:this.allocValue(VarValue.VValue(value,evalName)),namedVariables:2};case 15:let c=_g.c;let values=_g.values;if(values.length>0){let str7=c+"(";let _g2=[];let _g12=0;while(_g12<values.length){let v=values[_g12];++_g12;let _g22=v.v;let str8;switch(_g22._hx_index){case 6:str8="...";break;case 11:str8="...";break;case 12:str8="...";break;case 15:let c2=_g22.c;let values1=_g22.values;str8=values1.length==0?c2:"...";break;case 16:str8="...";break;default:str8=this.dbg.eval.valueStr(v)}_g2.push(str8)}let str12=str7+_g2.join(", ")+")";let evaluateName7=evalName;return{name:name,type:tstr,value:str12+pstr,evaluateName:evaluateName7!=null?evaluateName7:"#"+str12,variablesReference:this.allocValue(VarValue.VValue(value,evalName)),namedVariables:values.length}}break;case 16:let len2=_g.length;let _g1=value.hint;if(_g1._hx_index==6){let t=_g1.t;let str7=this.dbg.eval.valueStr(value);let evaluateName7=evalName;return{name:name,type:this.dbg.eval.typeStr(t),value:str7,evaluateName:evaluateName7!=null?evaluateName7:"#"+str7,variablesReference:0}}let str4=tstr+":"+len2;let evaluateName4=evalName;return{name:name,type:tstr,value:str4+pstr,evaluateName:evaluateName4!=null?evaluateName4:"#"+str4,variablesReference:this.allocValue(VarValue.VValue(value,evalName)),indexedVariables:len2+15>>4};case 17:let fields1=_g.fields;let str5=this.dbg.eval.valueStr(value);let evaluateName5=evalName;let tmp2=fields1.length==0?0:this.allocValue(VarValue.VValue(value,evalName));return{name:name,type:tstr,value:str5,evaluateName:evaluateName5!=null?evaluateName5:"#"+str5,variablesReference:tmp2,namedVariables:fields1.length};default:}let str6=this.dbg.eval.valueStr(value);let evaluateName6=evalName;return{name:name,type:tstr,value:str6+pstr,evaluateName:evaluateName6!=null?evaluateName6:"#"+str6,variablesReference:0}}variablesRequest(response,args){let vref=this.varsValues.m.get(args.variablesReference);let vars=[];response.body={variables:vars};switch(vref._hx_index){case 0:let k=vref.k;this.dbg.currentStackFrame=k;let vnames=this.dbg.getCurrentVars(true).concat(this.dbg.getCurrentVars(false));let _g=0;while(_g<vnames.length){let v2=vnames[_g];++_g;try{let value=this.dbg.getValue(v2);if(v2=="$ret"){v2="(return)"}vars.push(this.makeVar(v2,value,v2))}catch(_g2){haxe_NativeStackTrace.lastError=_g2;let e=haxe_Exception.caught(_g2).unwrap();vars.push({name:v2,value:Std.string(e),variablesReference:0})}}break;case 1:let v=vref.v;let evalName=vref.evalName;let _g1=v.v;switch(_g1._hx_index){case 6:let fields;let _g2=v.t;if(vref==null){if(_g2._hx_index==11){let o=_g2.proto;let p=o.tsuper;while(p!=null)if(p._hx_index==11){let o2=p.proto;if(o2.fields.length>0){vars.unshift({name:o2.name,type:"",value:"",variablesReference:this.allocValue(VarValue.VObjFields(v,o2,evalName))})}p=o2.tsuper}let _g14=[];let _g15=0;let _g32=o.fields;while(_g15<_g32.length){let f=_g32[_g15];++_g15;if(f.name!=""){_g14.push(f.name)}}fields=_g14}else{fields=this.dbg.eval.getFields(v)}}else if(vref._hx_index==3){let p=vref.o;let _g14=[];let _g15=0;let _g22=p.fields;while(_g15<_g22.length){let f=_g22[_g15];++_g15;if(f.name!=""){_g14.push(f.name)}}fields=_g14}else if(_g2._hx_index==11){let o=_g2.proto;let p=o.tsuper;while(p!=null)if(p._hx_index==11){let o2=p.proto;if(o2.fields.length>0){vars.unshift({name:o2.name,type:"",value:"",variablesReference:this.allocValue(VarValue.VObjFields(v,o2,evalName))})}p=o2.tsuper}let _g14=[];let _g15=0;let _g32=o.fields;while(_g15<_g32.length){let f=_g32[_g15];++_g15;if(f.name!=""){_g14.push(f.name)}}fields=_g14}else{fields=this.dbg.eval.getFields(v)}let _g3=0;while(_g3<fields.length){let f=fields[_g3];++_g3;try{let value2=this.dbg.eval.readField(v,f);vars.push(this.makeVar(f,value2,evalName==null?null:evalName+"."+f))}catch(_g14){haxe_NativeStackTrace.lastError=_g14;let e=haxe_Exception.caught(_g14).unwrap();vars.push({name:f,value:Std.string(e),variablesReference:0})}}break;case 8:let context=_g1.d;if(context!=null){let _g14=context.t;if(_g14._hx_index==18){let e=_g14.proto;if(HxOverrides.cca(e.name,0)==36){vars.push({name:"Context",value:"",variablesReference:this.allocValue(VarValue.VValue(context,""))})}else{vars.push(this.makeVar("Context",context))}}else{vars.push(this.makeVar("Context",context))}}let stack=this.dbg.getClosureStack(v.v);if(stack.length>0){vars.push({name:"Stack",value:"",variablesReference:this.allocValue(VarValue.VStack(stack))})}break;case 11:let len=_g1.length;let get=_g1.read;let start=args.start==null?0:args.start;let count=args.count==null?len-start:args.count;let _g4=start;let _g5=start+count;while(_g4<_g5){let i=_g4++;try{let value2=get(i);vars.push(this.makeVar(""+i,value2,evalName==null?null:evalName+"["+i+"]"))}catch(_g14){haxe_NativeStackTrace.lastError=_g14;let e=haxe_Exception.caught(_g14).unwrap();vars.push({name:""+i,value:Std.string(e),variablesReference:0})}}break;case 12:let tkey=_g1.tkey;let len1=_g1.nkeys;let getKey=_g1.readKey;let getValue=_g1.readValue;let start1=args.start==null?0:args.start;let count1=args.count==null?len1-start1:args.count;if(len1>0){getKey(len1-1)}let _g6=start1;let _g7=start1+count1;while(_g6<_g7){let i=_g6++;try{let key2=getKey(i);let value2=getValue(i);if(tkey==format_hl_HLType.HDyn){vars.push(this.makeVar(""+i,new hld_Value(hld_ValueRepr.VMapPair(key2,value2),tkey,null),evalName==null?null:evalName+".$"+i))}else{vars.push(this.makeVar(this.dbg.eval.valueStr(key2),value2,evalName==null?null:evalName+".$"+i+".$value"))}}catch(_g14){haxe_NativeStackTrace.lastError=_g14;let e=haxe_Exception.caught(_g14).unwrap();vars.push({name:""+i,value:Std.string(e),variablesReference:0})}}break;case 13:let key=_g1.key;let value=_g1.value;vars.push(this.makeVar("key",key,evalName==null?null:evalName+".$key"));vars.push(this.makeVar("value",value,evalName==null?null:evalName+".$value"));break;case 15:let values=_g1.values;let _g8=0;let _g9=values.length;while(_g8<_g9){let i=_g8++;try{let value2=values[i];vars.push(this.makeVar(""+i,value2,evalName==null?null:evalName+".$"+i))}catch(_g14){haxe_NativeStackTrace.lastError=_g14;let e=haxe_Exception.caught(_g14).unwrap();vars.push({name:""+i,value:Std.string(e),variablesReference:0})}}break;case 16:let len2=_g1.length;let read=_g1.read;let max=len2+15>>4;let start2=args.start==null?0:args.start;let count2=args.count==null?max-start2:args.count;let _g10=start2;let _g11=start2+count2;while(_g10<_g11){let i=_g10++;let p=i*16;let size=p+16>len2?len2-p:16;let b=new haxe_io_Bytes(new ArrayBuffer(size));let _g14=0;let _g15=size;while(_g14<_g15){let k2=_g14++;let v2=read(p+k2);b.b[k2]=v2}vars.push({name:""+p,value:"0x"+b.toHex().toUpperCase(),variablesReference:0})}break;case 17:let fields1=_g1.fields;let _g12=0;while(_g12<fields1.length){let f=fields1[_g12];++_g12;try{let value2=this.dbg.eval.readField(v,f.name);vars.push(this.makeVar(f.name,value2,evalName==null?null:evalName+"."+f.name))}catch(_g14){haxe_NativeStackTrace.lastError=_g14;let e=haxe_Exception.caught(_g14).unwrap();vars.push({name:f.name,value:Std.string(e),variablesReference:0})}}break;default:vars.push({name:"TODO",value:this.dbg.eval.typeStr(v.t),variablesReference:0})}break;case 2:throw haxe_Exception.thrown("assert");case 3:let v1=vref.v;let evalName1=vref.evalName;let _g13=v1.v;switch(_g13._hx_index){case 6:let fields2;let _g14=v1.t;if(vref==null){if(_g14._hx_index==11){let o=_g14.proto;let p=o.tsuper;while(p!=null)if(p._hx_index==11){let o2=p.proto;if(o2.fields.length>0){vars.unshift({name:o2.name,type:"",value:"",variablesReference:this.allocValue(VarValue.VObjFields(v1,o2,evalName1))})}p=o2.tsuper}let _g2=[];let _g12=0;let _g29=o.fields;while(_g12<_g29.length){let f=_g29[_g12];++_g12;if(f.name!=""){_g2.push(f.name)}}fields2=_g2}else{fields2=this.dbg.eval.getFields(v1)}}else if(vref._hx_index==3){let p=vref.o;let _g2=[];let _g12=0;let _g29=p.fields;while(_g12<_g29.length){let f=_g29[_g12];++_g12;if(f.name!=""){_g2.push(f.name)}}fields2=_g2}else if(_g14._hx_index==11){let o=_g14.proto;let p=o.tsuper;while(p!=null)if(p._hx_index==11){let o2=p.proto;if(o2.fields.length>0){vars.unshift({name:o2.name,type:"",value:"",variablesReference:this.allocValue(VarValue.VObjFields(v1,o2,evalName1))})}p=o2.tsuper}let _g2=[];let _g12=0;let _g29=o.fields;while(_g12<_g29.length){let f=_g29[_g12];++_g12;if(f.name!=""){_g2.push(f.name)}}fields2=_g2}else{fields2=this.dbg.eval.getFields(v1)}let _g15=0;while(_g15<fields2.length){let f=fields2[_g15];++_g15;try{let value=this.dbg.eval.readField(v1,f);vars.push(this.makeVar(f,value,evalName1==null?null:evalName1+"."+f))}catch(_g2){haxe_NativeStackTrace.lastError=_g2;let e=haxe_Exception.caught(_g2).unwrap();vars.push({name:f,value:Std.string(e),variablesReference:0})}}break;case 8:let context1=_g13.d;if(context1!=null){let _g2=context1.t;if(_g2._hx_index==18){let e=_g2.proto;if(HxOverrides.cca(e.name,0)==36){vars.push({name:"Context",value:"",variablesReference:this.allocValue(VarValue.VValue(context1,""))})}else{vars.push(this.makeVar("Context",context1))}}else{vars.push(this.makeVar("Context",context1))}}let stack1=this.dbg.getClosureStack(v1.v);if(stack1.length>0){vars.push({name:"Stack",value:"",variablesReference:this.allocValue(VarValue.VStack(stack1))})}break;case 11:let len3=_g13.length;let get1=_g13.read;let start3=args.start==null?0:args.start;let count3=args.count==null?len3-start3:args.count;let _g16=start3;let _g17=start3+count3;while(_g16<_g17){let i=_g16++;try{let value=get1(i);vars.push(this.makeVar(""+i,value,evalName1==null?null:evalName1+"["+i+"]"))}catch(_g2){haxe_NativeStackTrace.lastError=_g2;let e=haxe_Exception.caught(_g2).unwrap();vars.push({name:""+i,value:Std.string(e),variablesReference:0})}}break;case 12:let tkey1=_g13.tkey;let len4=_g13.nkeys;let getKey1=_g13.readKey;let getValue1=_g13.readValue;let start4=args.start==null?0:args.start;let count4=args.count==null?len4-start4:args.count;if(len4>0){getKey1(len4-1)}let _g18=start4;let _g19=start4+count4;while(_g18<_g19){let i=_g18++;try{let key=getKey1(i);let value=getValue1(i);if(tkey1==format_hl_HLType.HDyn){vars.push(this.makeVar(""+i,new hld_Value(hld_ValueRepr.VMapPair(key,value),tkey1,null),evalName1==null?null:evalName1+".$"+i))}else{vars.push(this.makeVar(this.dbg.eval.valueStr(key),value,evalName1==null?null:evalName1+".$"+i+".$value"))}}catch(_g2){haxe_NativeStackTrace.lastError=_g2;let e=haxe_Exception.caught(_g2).unwrap();vars.push({name:""+i,value:Std.string(e),variablesReference:0})}}break;case 13:let key1=_g13.key;let value1=_g13.value;vars.push(this.makeVar("key",key1,evalName1==null?null:evalName1+".$key"));vars.push(this.makeVar("value",value1,evalName1==null?null:evalName1+".$value"));break;case 15:let values1=_g13.values;let _g20=0;let _g21=values1.length;while(_g20<_g21){let i=_g20++;try{let value=values1[i];vars.push(this.makeVar(""+i,value,evalName1==null?null:evalName1+".$"+i))}catch(_g2){haxe_NativeStackTrace.lastError=_g2;let e=haxe_Exception.caught(_g2).unwrap();vars.push({name:""+i,value:Std.string(e),variablesReference:0})}}break;case 16:let len5=_g13.length;let read1=_g13.read;let max1=len5+15>>4;let start5=args.start==null?0:args.start;let count5=args.count==null?max1-start5:args.count;let _g22=start5;let _g23=start5+count5;while(_g22<_g23){let i=_g22++;let p=i*16;let size=p+16>len5?len5-p:16;let b=new haxe_io_Bytes(new ArrayBuffer(size));let _g2=0;let _g12=size;while(_g2<_g12){let k2=_g2++;let v2=read1(p+k2);b.b[k2]=v2}vars.push({name:""+p,value:"0x"+b.toHex().toUpperCase(),variablesReference:0})}break;case 17:let fields3=_g13.fields;let _g24=0;while(_g24<fields3.length){let f=fields3[_g24];++_g24;try{let value=this.dbg.eval.readField(v1,f.name);vars.push(this.makeVar(f.name,value,evalName1==null?null:evalName1+"."+f.name))}catch(_g2){haxe_NativeStackTrace.lastError=_g2;let e=haxe_Exception.caught(_g2).unwrap();vars.push({name:f.name,value:Std.string(e),variablesReference:0})}}break;default:vars.push({name:"TODO",value:this.dbg.eval.typeStr(v1.t),variablesReference:0})}break;case 4:let cl=vref.cl;let _g25=0;let _g26=this.dbg.getClassStatics(cl);while(_g25<_g26.length){let f=_g26[_g25];++_g25;let v2=this.dbg.getValue(cl+"."+f,true);if(v2.t._hx_index==10){continue}vars.push(this.makeVar(f,v2,cl+"."+f))}break;case 5:let stack2=vref.stack;let _g27=0;let _g28=stack2.length;while(_g27<_g28){let i=_g27++;let st=stack2[i];vars.push({name:""+i,value:this.stackStr(st)+" ("+this.getFilePath(st.file)+":"+st.line+")",variablesReference:0})}break}this.sendResponse(response)}pauseRequest(response,args){this.debug("Pause request",{fileName:"src/HLAdapter.hx",lineNumber:988,className:"HLAdapter",methodName:"pauseRequest"});if(this.dbg.stoppedThread!=null){this.sendResponse(response);let jsIterator=this.threads.m.keys();let tid_jsIterator=jsIterator;let tid_lastStep=jsIterator.next();while(!tid_lastStep.done){let v=tid_lastStep.value;tid_lastStep=tid_jsIterator.next();let tid=v;if(tid!=this.dbg.currentThread){let ev=new vscode_debugAdapter_StoppedEvent("paused",tid);this.sendEvent(ev)}}return}this.isPause=true;this.sendResponse(response);let _gthis=this;this.safe(function(){_gthis.handleWait(_gthis.dbg.pause())})}disconnectRequest(response,args){this.debug("Disconnect request",{fileName:"src/HLAdapter.hx",lineNumber:1006,className:"HLAdapter",methodName:"disconnectRequest"});if(this.proc!=null){this.proc.kill()}this.sendResponse(response);if(this.dbg.stoppedThread!=null){let ev=new vscode_debugAdapter_ContinuedEvent(this.dbg.stoppedThread,true);this.sendEvent(ev)}this.stopDebug()}safe(f){try{f()}catch(_g){haxe_NativeStackTrace.lastError=_g;let e=haxe_Exception.caught(_g).unwrap();this.errorMessage("***** ERRROR ***** "+Std.string(e)+haxe_CallStack.toString(haxe_CallStack.exceptionStack()))}}nextRequest(response,args){this.debug("Next",{fileName:"src/HLAdapter.hx",lineNumber:1025,className:"HLAdapter",methodName:"nextRequest"});this.sendResponse(response);this.setThread(args.threadId);let _gthis=this;this.safe(function(){_gthis.handleWait(_gthis.dbg.step(hld_StepMode.Next))})}stepInRequest(response,args){this.debug("StepIn",{fileName:"src/HLAdapter.hx",lineNumber:1032,className:"HLAdapter",methodName:"stepInRequest"});this.sendResponse(response);this.setThread(args.threadId);let _gthis=this;this.safe(function(){_gthis.handleWait(_gthis.dbg.step(hld_StepMode.Into))})}stepOutRequest(response,args){this.debug("StepOut",{fileName:"src/HLAdapter.hx",lineNumber:1039,className:"HLAdapter",methodName:"stepOutRequest"});this.sendResponse(response);this.setThread(args.threadId);let _gthis=this;this.safe(function(){_gthis.handleWait(_gthis.dbg.step(hld_StepMode.Out))})}continueRequest(response,args){this.debug("Continue",{fileName:"src/HLAdapter.hx",lineNumber:1046,className:"HLAdapter",methodName:"continueRequest"});this.sendResponse(response);this.shouldRun=true}sourceRequest(response,args){let _g=this.varsValues.m.get(args.sourceReference);if(_g==null){throw haxe_Exception.thrown("assert")}else if(_g._hx_index==2){let file=_g.file;response.body={content:"Unknown file "+file};this.sendResponse(response)}else{throw haxe_Exception.thrown("assert")}}evaluateRequest(response,args){this.dbg.currentStackFrame=args.frameId;try{if(new EReg("^\\?[A-Za-z0-9_]+$","").match(args.expression)){args.expression=HxOverrides.substr(args.expression,1,null)}if(!HLAdapter.KEYWORDS.m.has(args.expression)){if(HxOverrides.cca(args.expression,0)==64){let _g=HxOverrides.cca(args.expression,1);if(_g==null){this.debug("Unsupported command "+args.expression,{fileName:"src/HLAdapter.hx",lineNumber:1105,className:"HLAdapter",methodName:"evaluateRequest"})}else{switch(_g){case 58:break;case 100:let p=hld_Value.parseInt64(HxOverrides.substr(args.expression,2,null));let value=this.dbg.eval.convertVal(p,format_hl_HLType.HDyn);value.hint=hld_Hint.HPointer;let v=this.makeVar("",value);response.body={result:v.value,type:v.type,variablesReference:v.variablesReference,namedVariables:v.namedVariables,indexedVariables:v.indexedVariables};break;case 102:let p1=hld_Value.parseInt64(HxOverrides.substr(args.expression,2,null));let index=this.dbg.jit.functionFromAddr(p1);response.body={result:this.dbg.eval.funStr(index==null?hld_FunRepr.FUnknown(p1):hld_FunRepr.FIndex(index,p1),true),variablesReference:0};break;default:this.debug("Unsupported command "+args.expression,{fileName:"src/HLAdapter.hx",lineNumber:1105,className:"HLAdapter",methodName:"evaluateRequest"})}}}else if(HxOverrides.cca(args.expression,0)==35){response.body={result:HxOverrides.substr(args.expression,1,null),variablesReference:0}}else{let value=this.dbg.getValue(args.expression);let expr=args.expression;let exprs=expr.split(":");let hint=hld_Hint.HNone;if(exprs.length>1){hint=hld_Value.parseHint(exprs.pop());expr=exprs.join(":")}let ext_expr=expr;let ext_hint=hint;let v=this.makeVar(ext_expr,value,ext_expr);response.body={result:v.value,type:v.type,variablesReference:v.variablesReference,namedVariables:v.namedVariables,indexedVariables:v.indexedVariables}}}}catch(_g){haxe_NativeStackTrace.lastError=_g;let e=haxe_Exception.caught(_g).unwrap();response.body={result:Std.string(e),variablesReference:0}}this.sendResponse(response)}setVariableRequest(response,args){try{let ptr=this.getVarAddress(args.variablesReference,args.name);if(ptr==null){throw haxe_Exception.thrown("Can't get address for "+args.name)}let value=this.dbg.eval.eval(args.value);if(value!=null){this.dbg.eval.setPtr(ptr,value);response.body=this.makeVar(args.name,value)}}catch(_g){haxe_NativeStackTrace.lastError=_g;let e=haxe_Exception.caught(_g).unwrap();this.errorMessage(""+Std.string(e))}this.sendResponse(response)}setFunctionBreakPointsRequest(response,args){this.debug("Unhandled request",{fileName:"src/HLAdapter.hx",lineNumber:1150,className:"HLAdapter",methodName:"setFunctionBreakPointsRequest"});this.sendResponse(response)}setDataBreakpointsRequest(response,args){let current=this.watchedPtrs.slice();let _g=0;let _g1=args.breakpoints;while(_g<_g1.length){let a=_g1[_g];++_g;if(a.dataId==null){continue}let ptr=this.ptrValues[a.dataId-1];let _g22=0;while(_g22<current.length){let w=current[_g22];++_g22;let a2=w.addr.ptr;let b=ptr.ptr;if(a2.high==b.high&&a2.low==b.low){HxOverrides.remove(current,w);ptr=null;break}}if(ptr==null){continue}try{let w=this.dbg.watch(ptr);this.debug("WATCHING "+hld_Pointer.toString(ptr.ptr)+":"+this.dbg.eval.typeStr(ptr.t),{fileName:"src/HLAdapter.hx",lineNumber:1170,className:"HLAdapter",methodName:"setDataBreakpointsRequest"});this.watchedPtrs.push(w)}catch(_g3){haxe_NativeStackTrace.lastError=_g3;let e=haxe_Exception.caught(_g3).unwrap();this.errorMessage(""+Std.string(e))}}let _g2=0;while(_g2<current.length){let w=current[_g2];++_g2;this.debug("UNWATCH "+hld_Pointer.toString(w.addr.ptr),{fileName:"src/HLAdapter.hx",lineNumber:1177,className:"HLAdapter",methodName:"setDataBreakpointsRequest"});HxOverrides.remove(this.watchedPtrs,w);this.dbg.unwatch(w.addr)}this.sendResponse(response)}getVarAddress(varRef,name){let ref=this.varsValues.m.get(varRef);if(ref==null){return null}let addr;if(ref==null){return null}else{switch(ref._hx_index){case 0:let k=ref.k;this.dbg.currentStackFrame=k;return this.dbg.getRef(name);case 1:let v=ref.v;addr=v.v._hx_index==11?this.dbg.eval.readArrayAddress(v,Std.parseInt(name)):this.dbg.eval.readFieldAddress(v,name);break;case 3:let v1=ref.v;addr=v1.v._hx_index==11?this.dbg.eval.readArrayAddress(v1,Std.parseInt(name)):this.dbg.eval.readFieldAddress(v1,name);break;case 4:let cl=ref.cl;let value=this.dbg.getValue(cl,true);addr=this.dbg.eval.readFieldAddress(value,name);break;default:return null}}if(addr._hx_index==2){let ptr=addr.ptr;let t=addr.t;return new hld_Address(ptr,t)}else{return null}}dataBreakpointInfoRequest(response,args){try{let ptr=this.getVarAddress(args.variablesReference,args.name);if(ptr!=null){let desc;let _g=this.varsValues.m.get(args.variablesReference);if(_g==null){desc="field "+args.name}else{switch(_g._hx_index){case 0:desc="local "+args.name;break;case 1:desc=_g.v.v._hx_index==11?"["+args.name+"]":"field "+args.name;break;default:desc="field "+args.name}}response.body={dataId:this.allocPtr(ptr),description:"Write "+desc+":"+hld_Pointer.toString(ptr.ptr),accessTypes:["write"]}}}catch(_g){haxe_NativeStackTrace.lastError=_g;let e=haxe_Exception.caught(_g).unwrap();response.body={dataId:null,description:""+Std.string(e)}}this.sendResponse(response)}stepBackRequest(response,args){this.debug("Unhandled request",{fileName:"src/HLAdapter.hx",lineNumber:1230,className:"HLAdapter",methodName:"stepBackRequest"})}restartFrameRequest(response,args){this.debug("Unhandled request",{fileName:"src/HLAdapter.hx",lineNumber:1231,className:"HLAdapter",methodName:"restartFrameRequest"})}gotoRequest(response,args){this.debug("Unhandled request",{fileName:"src/HLAdapter.hx",lineNumber:1232,className:"HLAdapter",methodName:"gotoRequest"})}stepInTargetsRequest(response,args){this.debug("Unhandled request",{fileName:"src/HLAdapter.hx",lineNumber:1233,className:"HLAdapter",methodName:"stepInTargetsRequest"})}gotoTargetsRequest(responses,args){this.debug("Unhandled request",{fileName:"src/HLAdapter.hx",lineNumber:1234,className:"HLAdapter",methodName:"gotoTargetsRequest"})}completionsRequest(response,args){this.debug("Unhandled request",{fileName:"src/HLAdapter.hx",lineNumber:1235,className:"HLAdapter",methodName:"completionsRequest"})}setExpressionRequest(response,args){this.debug("Unhandled request",{fileName:"src/HLAdapter.hx",lineNumber:1236,className:"HLAdapter",methodName:"setExpressionRequest"})}dispose(){super.dispose();this.debug("Dispose",{fileName:"src/HLAdapter.hx",lineNumber:1240,className:"HLAdapter",methodName:"dispose"});HLAdapter.inst=null;return null}errorMessage(msg){this.sendEvent(new vscode_debugAdapter_OutputEvent(msg+"\n","stderr"))}customRequest(command,response,args){let response1=response;switch(command){case"OnSessionActive":this.set_isSessionActive(true);break;case"OnSessionInactive":this.set_isSessionActive(false);break;default:}this.sendResponse(response1)}static main(){let paramError=function(msg){new _$Sys_FileOutput(2).writeString((msg==null?"null":""+msg)+"\n")};let args=process.argv.slice(2);while(args.length>0&&HxOverrides.cca(args[0],0)==45){let param=args.shift();if(param==null){paramError("Unsupported parameter "+param)}else{switch(param){case"--connectionTimeout":param=args.shift();let timeout;let tmp;if(param!=null){timeout=parseFloat(param);tmp=timeout!=0}else{tmp=false}if(tmp){HLAdapter.CONNECTION_TIMEOUT=timeout}paramError("--connectionTimeout requires float value (seconds)");break;case"--defaultPort":param=args.shift();let port;let tmp1;if(param!=null){port=Std.parseInt(param);tmp1=port!=0}else{tmp1=false}if(tmp1){HLAdapter.DEFAULT_PORT=port}paramError("--defaultPort requires int value (port number)");break;case"--verbose":HLAdapter.DEBUG=true;break;default:paramError("Unsupported parameter "+param)}}}if(HLAdapter.DEBUG){process.on("uncaughtException",function(e){if(HLAdapter.inst!=null){HLAdapter.inst.sendEvent(new vscode_debugAdapter_OutputEvent("*** ERROR *** "+e.message+"\n"+e.stack,"stderr"))}process.exit(1)})}vscode_debugAdapter_DebugSession.run(HLAdapter)}}HLAdapter.__name__="HLAdapter";HLAdapter.__super__=vscode_debugAdapter_DebugSession;Object.assign(HLAdapter.prototype,{__class__:HLAdapter});class HxOverrides{static cca(s,index){let x=s.charCodeAt(index);if(x!=x){return void 0}return x}static substr(s,pos,len){if(len==null){len=s.length}else if(len<0){if(pos==0){len=s.length+len}else{return""}}return s.substr(pos,len)}static remove(a,obj){let i=a.indexOf(obj);if(i==-1){return false}a.splice(i,1);return true}static now(){return Date.now()}}HxOverrides.__name__="HxOverrides";class IntIterator{constructor(min,max){this.min=min;this.max=max}hasNext(){return this.min<this.max}next(){return this.min++}}IntIterator.__name__="IntIterator";Object.assign(IntIterator.prototype,{__class__:IntIterator});class Lambda{static exists(it,f){let x=$getIterator(it);while(x.hasNext()){let x1=x.next();if(f(x1)){return true}}return false}}Lambda.__name__="Lambda";Math.__name__="Math";class Reflect2{static field(o,field){try{return o[field]}catch(_g){haxe_NativeStackTrace.lastError=_g;return null}}static isFunction(f){return typeof f=="function"&&!(f.__name__||f.__ename__)}static compare(a,b){if(a==b){return 0}else if(a>b){return 1}else{return-1}}}Reflect2.__name__="Reflect";class Std{static string(s){return js_Boot.__string_rec(s,"")}static parseInt(x){let v=parseInt(x);if(isNaN(v)){return null}return v}}Std.__name__="Std";class StringBuf{constructor(){this.b=""}}StringBuf.__name__="StringBuf";Object.assign(StringBuf.prototype,{__class__:StringBuf});class StringTools{static isSpace(s,pos){let c=HxOverrides.cca(s,pos);return c>8&&c<14||c==32}static trim(s){let l=s.length;let r=0;while(r<l&&StringTools.isSpace(s,l-r-1))++r;let s1=r>0?HxOverrides.substr(s,0,l-r):s;let l1=s1.length;let r1=0;while(r1<l1&&StringTools.isSpace(s1,r1))++r1;if(r1>0){return HxOverrides.substr(s1,r1,l1-r1)}else{return s1}}static lpad(s,c,l){if(c.length<=0){return s}let buf_b="";l-=s.length;while(buf_b.length<l)buf_b+=c==null?"null":""+c;buf_b+=s==null?"null":""+s;return buf_b}static hex(n,digits){let s="";let hexChars="0123456789ABCDEF";do{s=hexChars.charAt(n&15)+s;n>>>=4}while(n>0);if(digits!=null){while(s.length<digits)s="0"+s}return s}}StringTools.__name__="StringTools";class haxe_io_Output{writeByte(c){throw new haxe_exceptions_NotImplementedException(null,null,{fileName:"haxe/io/Output.hx",lineNumber:47,className:"haxe.io.Output",methodName:"writeByte"})}writeBytes(s,pos,len){if(pos<0||len<0||pos+len>s.length){throw haxe_Exception.thrown(haxe_io_Error.OutsideBounds)}let b=s.b;let k=len;while(k>0){this.writeByte(b[pos]);++pos;--k}return len}writeFullBytes(s,pos,len){while(len>0){let k=this.writeBytes(s,pos,len);pos+=k;len-=k}}writeString(s,encoding){let b=haxe_io_Bytes.ofString(s,encoding);this.writeFullBytes(b,0,b.length)}}haxe_io_Output.__name__="haxe.io.Output";Object.assign(haxe_io_Output.prototype,{__class__:haxe_io_Output});class _$Sys_FileOutput extends haxe_io_Output{constructor(fd){super();this.fd=fd}writeByte(c){js_node_Fs.writeSync(this.fd,String.fromCodePoint(c))}writeBytes(s,pos,len){let data=s.b;return js_node_Fs.writeSync(this.fd,js_node_buffer_Buffer.from(data.buffer,data.byteOffset,s.length),pos,len)}writeString(s,encoding){js_node_Fs.writeSync(this.fd,s)}flush(){js_node_Fs.fsyncSync(this.fd)}close(){js_node_Fs.closeSync(this.fd)}}_$Sys_FileOutput.__name__="_Sys.FileOutput";_$Sys_FileOutput.__super__=haxe_io_Output;Object.assign(_$Sys_FileOutput.prototype,{__class__:_$Sys_FileOutput});class haxe_io_Input{readByte(){throw new haxe_exceptions_NotImplementedException(null,null,{fileName:"haxe/io/Input.hx",lineNumber:51,className:"haxe.io.Input",methodName:"readByte"})}readBytes(s,pos,len){let k=len;let b=s.b;if(pos<0||len<0||pos+len>s.length){throw haxe_Exception.thrown(haxe_io_Error.OutsideBounds)}try{while(k>0){b[pos]=this.readByte();++pos;--k}}catch(_g){haxe_NativeStackTrace.lastError=_g;if(!(haxe_Exception.caught(_g).unwrap()instanceof haxe_io_Eof)){throw _g}}return len-k}readFullBytes(s,pos,len){while(len>0){let k=this.readBytes(s,pos,len);if(k==0){throw haxe_Exception.thrown(haxe_io_Error.Blocked)}pos+=k;len-=k}}read(nbytes){let s=new haxe_io_Bytes(new ArrayBuffer(nbytes));let p=0;while(nbytes>0){let k=this.readBytes(s,p,nbytes);if(k==0){throw haxe_Exception.thrown(haxe_io_Error.Blocked)}p+=k;nbytes-=k}return s}readDouble(){let i1=this.readInt32();let i2=this.readInt32();if(this.bigEndian){return haxe_io_FPHelper.i64ToDouble(i2,i1)}else{return haxe_io_FPHelper.i64ToDouble(i1,i2)}}readInt32(){let ch1=this.readByte();let ch2=this.readByte();let ch3=this.readByte();let ch4=this.readByte();if(this.bigEndian){return ch4|ch3<<8|ch2<<16|ch1<<24}else{return ch1|ch2<<8|ch3<<16|ch4<<24}}readString(len,encoding){let b=new haxe_io_Bytes(new ArrayBuffer(len));this.readFullBytes(b,0,len);return b.getString(0,len,encoding)}}haxe_io_Input.__name__="haxe.io.Input";Object.assign(haxe_io_Input.prototype,{__class__:haxe_io_Input});class _$Sys_FileInput extends haxe_io_Input{constructor(fd){super();this.fd=fd}readByte(){let buf=js_node_buffer_Buffer.alloc(1);try{js_node_Fs.readSync(this.fd,buf,0,1,null)}catch(_g){haxe_NativeStackTrace.lastError=_g;let e=haxe_Exception.caught(_g).unwrap();if(e.code=="EOF"){throw haxe_Exception.thrown(new haxe_io_Eof)}else{throw haxe_Exception.thrown(haxe_io_Error.Custom(e))}}return buf[0]}readBytes(s,pos,len){let data=s.b;let buf=js_node_buffer_Buffer.from(data.buffer,data.byteOffset,s.length);try{return js_node_Fs.readSync(this.fd,buf,pos,len,null)}catch(_g){haxe_NativeStackTrace.lastError=_g;let e=haxe_Exception.caught(_g).unwrap();if(e.code=="EOF"){throw haxe_Exception.thrown(new haxe_io_Eof)}else{throw haxe_Exception.thrown(haxe_io_Error.Custom(e))}}}close(){js_node_Fs.closeSync(this.fd)}}_$Sys_FileInput.__name__="_Sys.FileInput";_$Sys_FileInput.__super__=haxe_io_Input;Object.assign(_$Sys_FileInput.prototype,{__class__:_$Sys_FileInput});class Type{static createEnum(e,constr,params){let f=Reflect2.field(e,constr);if(f==null){throw haxe_Exception.thrown("No such constructor "+constr)}if(Reflect2.isFunction(f)){if(params==null){throw haxe_Exception.thrown("Constructor "+constr+" need parameters")}return f.apply(e,params)}if(params!=null&&params.length!=0){throw haxe_Exception.thrown("Constructor "+constr+" does not need parameters")}return f}static createEnumIndex(e,index,params){let c;let _g=e.__constructs__[index];if(_g==null){c=null}else{let ctor=_g;c=ctor._hx_name}if(c==null){throw haxe_Exception.thrown(index+" is not a valid enum constructor index")}return Type.createEnum(e,c,params)}static enumEq(a,b){if(a==b){return true}try{let e=a.__enum__;if(e==null||e!=b.__enum__){return false}if(a._hx_index!=b._hx_index){return false}let aparams=a.__params__();let bparams=b.__params__();let _g=0;let _g1=aparams.length;while(_g<_g1){let i=_g++;if(!Type.enumEq(aparams[i],bparams[i])){return false}}}catch(_g){haxe_NativeStackTrace.lastError=_g;return false}return true}}Type.__name__="Type";class Utils{static toString(value,base){return value.toString(base)}}Utils.__name__="Utils";var format_hl_CodeFlag=$hxEnums["format.hl.CodeFlag"]={__ename__:true,__constructs__:null,HasDebug:{_hx_name:"HasDebug",_hx_index:0,__enum__:"format.hl.CodeFlag",toString:$estr}};format_hl_CodeFlag.__constructs__=[format_hl_CodeFlag.HasDebug];var format_hl_HLType=$hxEnums["format.hl.HLType"]={__ename__:true,__constructs__:null,HVoid:{_hx_name:"HVoid",_hx_index:0,__enum__:"format.hl.HLType",toString:$estr},HUi8:{_hx_name:"HUi8",_hx_index:1,__enum__:"format.hl.HLType",toString:$estr},HUi16:{_hx_name:"HUi16",_hx_index:2,__enum__:"format.hl.HLType",toString:$estr},HI32:{_hx_name:"HI32",_hx_index:3,__enum__:"format.hl.HLType",toString:$estr},HI64:{_hx_name:"HI64",_hx_index:4,__enum__:"format.hl.HLType",toString:$estr},HF32:{_hx_name:"HF32",_hx_index:5,__enum__:"format.hl.HLType",toString:$estr},HF64:{_hx_name:"HF64",_hx_index:6,__enum__:"format.hl.HLType",toString:$estr},HBool:{_hx_name:"HBool",_hx_index:7,__enum__:"format.hl.HLType",toString:$estr},HBytes:{_hx_name:"HBytes",_hx_index:8,__enum__:"format.hl.HLType",toString:$estr},HDyn:{_hx_name:"HDyn",_hx_index:9,__enum__:"format.hl.HLType",toString:$estr},HFun:($_=function(fun){return{_hx_index:10,fun:fun,__enum__:"format.hl.HLType",toString:$estr,__params__:function(){return[this.fun]}}},$_._hx_name="HFun",$_),HObj:($_=function(proto){return{_hx_index:11,proto:proto,__enum__:"format.hl.HLType",toString:$estr,__params__:function(){return[this.proto]}}},$_._hx_name="HObj",$_),HArray:{_hx_name:"HArray",_hx_index:12,__enum__:"format.hl.HLType",toString:$estr},HType:{_hx_name:"HType",_hx_index:13,__enum__:"format.hl.HLType",toString:$estr},HRef:($_=function(t){return{_hx_index:14,t:t,__enum__:"format.hl.HLType",toString:$estr,__params__:function(){return[this.t]}}},$_._hx_name="HRef",$_),HVirtual:($_=function(fields){return{_hx_index:15,fields:fields,__enum__:"format.hl.HLType",toString:$estr,__params__:function(){return[this.fields]}}},$_._hx_name="HVirtual",$_),HDynObj:{_hx_name:"HDynObj",_hx_index:16,__enum__:"format.hl.HLType",toString:$estr},HAbstract:($_=function(name){return{_hx_index:17,name:name,__enum__:"format.hl.HLType",toString:$estr,__params__:function(){return[this.name]}}},$_._hx_name="HAbstract",$_),HEnum:($_=function(proto){return{_hx_index:18,proto:proto,__enum__:"format.hl.HLType",toString:$estr,__params__:function(){return[this.proto]}}},$_._hx_name="HEnum",$_),HNull:($_=function(t){return{_hx_index:19,t:t,__enum__:"format.hl.HLType",toString:$estr,__params__:function(){return[this.t]}}},$_._hx_name="HNull",$_),HMethod:($_=function(fun){return{_hx_index:20,fun:fun,__enum__:"format.hl.HLType",toString:$estr,__params__:function(){return[this.fun]}}},$_._hx_name="HMethod",$_),HStruct:($_=function(proto){return{_hx_index:21,proto:proto,__enum__:"format.hl.HLType",toString:$estr,__params__:function(){return[this.proto]}}},$_._hx_name="HStruct",$_),HPacked:($_=function(t){return{_hx_index:22,t:t,__enum__:"format.hl.HLType",toString:$estr,__params__:function(){return[this.t]}}},$_._hx_name="HPacked",$_),HGUID:{_hx_name:"HGUID",_hx_index:23,__enum__:"format.hl.HLType",toString:$estr},HAt:($_=function(i){return{_hx_index:24,i:i,__enum__:"format.hl.HLType",toString:$estr,__params__:function(){return[this.i]}}},$_._hx_name="HAt",$_)};format_hl_HLType.__constructs__=[format_hl_HLType.HVoid,format_hl_HLType.HUi8,format_hl_HLType.HUi16,format_hl_HLType.HI32,format_hl_HLType.HI64,format_hl_HLType.HF32,format_hl_HLType.HF64,format_hl_HLType.HBool,format_hl_HLType.HBytes,format_hl_HLType.HDyn,format_hl_HLType.HFun,format_hl_HLType.HObj,format_hl_HLType.HArray,format_hl_HLType.HType,format_hl_HLType.HRef,format_hl_HLType.HVirtual,format_hl_HLType.HDynObj,format_hl_HLType.HAbstract,format_hl_HLType.HEnum,format_hl_HLType.HNull,format_hl_HLType.HMethod,format_hl_HLType.HStruct,format_hl_HLType.HPacked,format_hl_HLType.HGUID,format_hl_HLType.HAt];var format_hl_AnyFunction=$hxEnums["format.hl.AnyFunction"]={__ename__:true,__constructs__:null,FHL:($_=function(f){return{_hx_index:0,f:f,__enum__:"format.hl.AnyFunction",toString:$estr,__params__:function(){return[this.f]}}},$_._hx_name="FHL",$_),FNative:($_=function(f){return{_hx_index:1,f:f,__enum__:"format.hl.AnyFunction",toString:$estr,__params__:function(){return[this.f]}}},$_._hx_name="FNative",$_)};format_hl_AnyFunction.__constructs__=[format_hl_AnyFunction.FHL,format_hl_AnyFunction.FNative];class format_hl_RegOpt{static _hx_new(r){return r==null?0:r+1}static getReg(this1){if(this1==0){return null}else{return this1-1}}}var format_hl_Opcode=$hxEnums["format.hl.Opcode"]={__ename__:true,__constructs__:null,OMov:($_=function(dst,a){return{_hx_index:0,dst:dst,a:a,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a]}}},$_._hx_name="OMov",$_),OInt:($_=function(dst,i){return{_hx_index:1,dst:dst,i:i,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.i]}}},$_._hx_name="OInt",$_),OFloat:($_=function(dst,i){return{_hx_index:2,dst:dst,i:i,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.i]}}},$_._hx_name="OFloat",$_),OBool:($_=function(dst,b){return{_hx_index:3,dst:dst,b:b,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.b]}}},$_._hx_name="OBool",$_),OBytes:($_=function(dst,i){return{_hx_index:4,dst:dst,i:i,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.i]}}},$_._hx_name="OBytes",$_),OString:($_=function(dst,i){return{_hx_index:5,dst:dst,i:i,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.i]}}},$_._hx_name="OString",$_),ONull:($_=function(dst){return{_hx_index:6,dst:dst,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst]}}},$_._hx_name="ONull",$_),OAdd:($_=function(dst,a,b){return{_hx_index:7,dst:dst,a:a,b:b,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.b]}}},$_._hx_name="OAdd",$_),OSub:($_=function(dst,a,b){return{_hx_index:8,dst:dst,a:a,b:b,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.b]}}},$_._hx_name="OSub",$_),OMul:($_=function(dst,a,b){return{_hx_index:9,dst:dst,a:a,b:b,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.b]}}},$_._hx_name="OMul",$_),OSDiv:($_=function(dst,a,b){return{_hx_index:10,dst:dst,a:a,b:b,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.b]}}},$_._hx_name="OSDiv",$_),OUDiv:($_=function(dst,a,b){return{_hx_index:11,dst:dst,a:a,b:b,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.b]}}},$_._hx_name="OUDiv",$_),OSMod:($_=function(dst,a,b){return{_hx_index:12,dst:dst,a:a,b:b,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.b]}}},$_._hx_name="OSMod",$_),OUMod:($_=function(dst,a,b){return{_hx_index:13,dst:dst,a:a,b:b,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.b]}}},$_._hx_name="OUMod",$_),OShl:($_=function(dst,a,b){return{_hx_index:14,dst:dst,a:a,b:b,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.b]}}},$_._hx_name="OShl",$_),OSShr:($_=function(dst,a,b){return{_hx_index:15,dst:dst,a:a,b:b,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.b]}}},$_._hx_name="OSShr",$_),OUShr:($_=function(dst,a,b){return{_hx_index:16,dst:dst,a:a,b:b,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.b]}}},$_._hx_name="OUShr",$_),OAnd:($_=function(dst,a,b){return{_hx_index:17,dst:dst,a:a,b:b,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.b]}}},$_._hx_name="OAnd",$_),OOr:($_=function(dst,a,b){return{_hx_index:18,dst:dst,a:a,b:b,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.b]}}},$_._hx_name="OOr",$_),OXor:($_=function(dst,a,b){return{_hx_index:19,dst:dst,a:a,b:b,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.b]}}},$_._hx_name="OXor",$_),ONeg:($_=function(dst,a){return{_hx_index:20,dst:dst,a:a,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a]}}},$_._hx_name="ONeg",$_),ONot:($_=function(dst,a){return{_hx_index:21,dst:dst,a:a,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a]}}},$_._hx_name="ONot",$_),OIncr:($_=function(dst){return{_hx_index:22,dst:dst,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst]}}},$_._hx_name="OIncr",$_),ODecr:($_=function(dst){return{_hx_index:23,dst:dst,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst]}}},$_._hx_name="ODecr",$_),OCall0:($_=function(dst,i){return{_hx_index:24,dst:dst,i:i,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.i]}}},$_._hx_name="OCall0",$_),OCall1:($_=function(dst,i,a){return{_hx_index:25,dst:dst,i:i,a:a,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.i,this.a]}}},$_._hx_name="OCall1",$_),OCall2:($_=function(dst,i,a,b){return{_hx_index:26,dst:dst,i:i,a:a,b:b,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.i,this.a,this.b]}}},$_._hx_name="OCall2",$_),OCall3:($_=function(dst,i,a,b,c){return{_hx_index:27,dst:dst,i:i,a:a,b:b,c:c,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.i,this.a,this.b,this.c]}}},$_._hx_name="OCall3",$_),OCall4:($_=function(dst,i,a,b,c,d){return{_hx_index:28,dst:dst,i:i,a:a,b:b,c:c,d:d,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.i,this.a,this.b,this.c,this.d]}}},$_._hx_name="OCall4",$_),OCallN:($_=function(dst,i,args){return{_hx_index:29,dst:dst,i:i,args:args,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.i,this.args]}}},$_._hx_name="OCallN",$_),OCallMethod:($_=function(dst,i,args){return{_hx_index:30,dst:dst,i:i,args:args,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.i,this.args]}}},$_._hx_name="OCallMethod",$_),OCallThis:($_=function(dst,i,args){return{_hx_index:31,dst:dst,i:i,args:args,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.i,this.args]}}},$_._hx_name="OCallThis",$_),OCallClosure:($_=function(dst,obj,args){return{_hx_index:32,dst:dst,obj:obj,args:args,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.obj,this.args]}}},$_._hx_name="OCallClosure",$_),OStaticClosure:($_=function(dst,i){return{_hx_index:33,dst:dst,i:i,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.i]}}},$_._hx_name="OStaticClosure",$_),OInstanceClosure:($_=function(dst,i,a){return{_hx_index:34,dst:dst,i:i,a:a,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.i,this.a]}}},$_._hx_name="OInstanceClosure",$_),OVirtualClosure:($_=function(dst,a,i){return{_hx_index:35,dst:dst,a:a,i:i,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.i]}}},$_._hx_name="OVirtualClosure",$_),OGetGlobal:($_=function(dst,i){return{_hx_index:36,dst:dst,i:i,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.i]}}},$_._hx_name="OGetGlobal",$_),OSetGlobal:($_=function(i,a){return{_hx_index:37,i:i,a:a,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.i,this.a]}}},$_._hx_name="OSetGlobal",$_),OField:($_=function(dst,a,i){return{_hx_index:38,dst:dst,a:a,i:i,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.i]}}},$_._hx_name="OField",$_),OSetField:($_=function(dst,i,a){return{_hx_index:39,dst:dst,i:i,a:a,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.i,this.a]}}},$_._hx_name="OSetField",$_),OGetThis:($_=function(dst,i){return{_hx_index:40,dst:dst,i:i,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.i]}}},$_._hx_name="OGetThis",$_),OSetThis:($_=function(i,a){return{_hx_index:41,i:i,a:a,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.i,this.a]}}},$_._hx_name="OSetThis",$_),ODynGet:($_=function(dst,a,i){return{_hx_index:42,dst:dst,a:a,i:i,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.i]}}},$_._hx_name="ODynGet",$_),ODynSet:($_=function(dst,i,a){return{_hx_index:43,dst:dst,i:i,a:a,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.i,this.a]}}},$_._hx_name="ODynSet",$_),OJTrue:($_=function(dst,offset){return{_hx_index:44,dst:dst,offset:offset,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.offset]}}},$_._hx_name="OJTrue",$_),OJFalse:($_=function(dst,offset){return{_hx_index:45,dst:dst,offset:offset,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.offset]}}},$_._hx_name="OJFalse",$_),OJNull:($_=function(dst,offset){return{_hx_index:46,dst:dst,offset:offset,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.offset]}}},$_._hx_name="OJNull",$_),OJNotNull:($_=function(dst,offset){return{_hx_index:47,dst:dst,offset:offset,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.offset]}}},$_._hx_name="OJNotNull",$_),OJSLt:($_=function(dst,a,offset){return{_hx_index:48,dst:dst,a:a,offset:offset,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.offset]}}},$_._hx_name="OJSLt",$_),OJSGte:($_=function(dst,a,offset){return{_hx_index:49,dst:dst,a:a,offset:offset,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.offset]}}},$_._hx_name="OJSGte",$_),OJSGt:($_=function(dst,a,offset){return{_hx_index:50,dst:dst,a:a,offset:offset,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.offset]}}},$_._hx_name="OJSGt",$_),OJSLte:($_=function(dst,a,offset){return{_hx_index:51,dst:dst,a:a,offset:offset,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.offset]}}},$_._hx_name="OJSLte",$_),OJULt:($_=function(dst,a,offset){return{_hx_index:52,dst:dst,a:a,offset:offset,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.offset]}}},$_._hx_name="OJULt",$_),OJUGte:($_=function(dst,a,offset){return{_hx_index:53,dst:dst,a:a,offset:offset,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.offset]}}},$_._hx_name="OJUGte",$_),OJNotLt:($_=function(dst,a,offset){return{_hx_index:54,dst:dst,a:a,offset:offset,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.offset]}}},$_._hx_name="OJNotLt",$_),OJNotGte:($_=function(dst,a,offset){return{_hx_index:55,dst:dst,a:a,offset:offset,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.offset]}}},$_._hx_name="OJNotGte",$_),OJEq:($_=function(dst,a,offset){return{_hx_index:56,dst:dst,a:a,offset:offset,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.offset]}}},$_._hx_name="OJEq",$_),OJNotEq:($_=function(dst,a,offset){return{_hx_index:57,dst:dst,a:a,offset:offset,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.offset]}}},$_._hx_name="OJNotEq",$_),OJAlways:($_=function(offset){return{_hx_index:58,offset:offset,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.offset]}}},$_._hx_name="OJAlways",$_),OToDyn:($_=function(dst,a){return{_hx_index:59,dst:dst,a:a,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a]}}},$_._hx_name="OToDyn",$_),OToSFloat:($_=function(dst,a){return{_hx_index:60,dst:dst,a:a,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a]}}},$_._hx_name="OToSFloat",$_),OToUFloat:($_=function(dst,a){return{_hx_index:61,dst:dst,a:a,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a]}}},$_._hx_name="OToUFloat",$_),OToInt:($_=function(dst,a){return{_hx_index:62,dst:dst,a:a,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a]}}},$_._hx_name="OToInt",$_),OSafeCast:($_=function(dst,a){return{_hx_index:63,dst:dst,a:a,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a]}}},$_._hx_name="OSafeCast",$_),OUnsafeCast:($_=function(dst,a){return{_hx_index:64,dst:dst,a:a,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a]}}},$_._hx_name="OUnsafeCast",$_),OToVirtual:($_=function(dst,a){return{_hx_index:65,dst:dst,a:a,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a]}}},$_._hx_name="OToVirtual",$_),OLabel:{_hx_name:"OLabel",_hx_index:66,__enum__:"format.hl.Opcode",toString:$estr},ORet:($_=function(dst){return{_hx_index:67,dst:dst,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst]}}},$_._hx_name="ORet",$_),OThrow:($_=function(dst){return{_hx_index:68,dst:dst,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst]}}},$_._hx_name="OThrow",$_),ORethrow:($_=function(dst){return{_hx_index:69,dst:dst,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst]}}},$_._hx_name="ORethrow",$_),OSwitch:($_=function(dst,cases,end){return{_hx_index:70,dst:dst,cases:cases,end:end,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.cases,this.end]}}},$_._hx_name="OSwitch",$_),ONullCheck:($_=function(dst){return{_hx_index:71,dst:dst,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst]}}},$_._hx_name="ONullCheck",$_),OTrap:($_=function(dst,end){return{_hx_index:72,dst:dst,end:end,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.end]}}},$_._hx_name="OTrap",$_),OEndTrap:($_=function(last){return{_hx_index:73,last:last,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.last]}}},$_._hx_name="OEndTrap",$_),OGetUI8:($_=function(dst,a,b){return{_hx_index:74,dst:dst,a:a,b:b,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.b]}}},$_._hx_name="OGetUI8",$_),OGetUI16:($_=function(dst,a,b){return{_hx_index:75,dst:dst,a:a,b:b,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.b]}}},$_._hx_name="OGetUI16",$_),OGetMem:($_=function(dst,a,b){return{_hx_index:76,dst:dst,a:a,b:b,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.b]}}},$_._hx_name="OGetMem",$_),OGetArray:($_=function(dst,a,b){return{_hx_index:77,dst:dst,a:a,b:b,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.b]}}},$_._hx_name="OGetArray",$_),OSetUI8:($_=function(dst,a,b){return{_hx_index:78,dst:dst,a:a,b:b,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.b]}}},$_._hx_name="OSetUI8",$_),OSetUI16:($_=function(dst,a,b){return{_hx_index:79,dst:dst,a:a,b:b,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.b]}}},$_._hx_name="OSetUI16",$_),OSetMem:($_=function(dst,a,b){return{_hx_index:80,dst:dst,a:a,b:b,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.b]}}},$_._hx_name="OSetMem",$_),OSetArray:($_=function(dst,a,b){return{_hx_index:81,dst:dst,a:a,b:b,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.b]}}},$_._hx_name="OSetArray",$_),ONew:($_=function(dst){return{_hx_index:82,dst:dst,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst]}}},$_._hx_name="ONew",$_),OArraySize:($_=function(dst,a){return{_hx_index:83,dst:dst,a:a,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a]}}},$_._hx_name="OArraySize",$_),OType:($_=function(dst,t){return{_hx_index:84,dst:dst,t:t,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.t]}}},$_._hx_name="OType",$_),OGetType:($_=function(dst,a){return{_hx_index:85,dst:dst,a:a,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a]}}},$_._hx_name="OGetType",$_),OGetTID:($_=function(dst,a){return{_hx_index:86,dst:dst,a:a,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a]}}},$_._hx_name="OGetTID",$_),ORef:($_=function(dst,a){return{_hx_index:87,dst:dst,a:a,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a]}}},$_._hx_name="ORef",$_),OUnref:($_=function(dst,a){return{_hx_index:88,dst:dst,a:a,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a]}}},$_._hx_name="OUnref",$_),OSetref:($_=function(dst,a){return{_hx_index:89,dst:dst,a:a,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a]}}},$_._hx_name="OSetref",$_),OMakeEnum:($_=function(dst,i,a){return{_hx_index:90,dst:dst,i:i,a:a,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.i,this.a]}}},$_._hx_name="OMakeEnum",$_),OEnumAlloc:($_=function(dst,i){return{_hx_index:91,dst:dst,i:i,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.i]}}},$_._hx_name="OEnumAlloc",$_),OEnumIndex:($_=function(dst,a){return{_hx_index:92,dst:dst,a:a,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a]}}},$_._hx_name="OEnumIndex",$_),OEnumField:($_=function(dst,a,i,param){return{_hx_index:93,dst:dst,a:a,i:i,param:param,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.a,this.i,this.param]}}},$_._hx_name="OEnumField",$_),OSetEnumField:($_=function(dst,param,a){return{_hx_index:94,dst:dst,param:param,a:a,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.param,this.a]}}},$_._hx_name="OSetEnumField",$_),OAssert:{_hx_name:"OAssert",_hx_index:95,__enum__:"format.hl.Opcode",toString:$estr},ORefData:($_=function(dst,src){return{_hx_index:96,dst:dst,src:src,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.src]}}},$_._hx_name="ORefData",$_),ORefOffset:($_=function(dst,src,offset){return{_hx_index:97,dst:dst,src:src,offset:offset,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.dst,this.src,this.offset]}}},$_._hx_name="ORefOffset",$_),ONop:{_hx_name:"ONop",_hx_index:98,__enum__:"format.hl.Opcode",toString:$estr},OPrefetch:($_=function(r,field,mode){return{_hx_index:99,r:r,field:field,mode:mode,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.r,this.field,this.mode]}}},$_._hx_name="OPrefetch",$_),OAsm:($_=function(op,value,r){return{_hx_index:100,op:op,value:value,r:r,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.op,this.value,this.r]}}},$_._hx_name="OAsm",$_),OCatch:($_=function(i){return{_hx_index:101,i:i,__enum__:"format.hl.Opcode",toString:$estr,__params__:function(){return[this.i]}}},$_._hx_name="OCatch",$_)};format_hl_Opcode.__constructs__=[format_hl_Opcode.OMov,format_hl_Opcode.OInt,format_hl_Opcode.OFloat,format_hl_Opcode.OBool,format_hl_Opcode.OBytes,format_hl_Opcode.OString,format_hl_Opcode.ONull,format_hl_Opcode.OAdd,format_hl_Opcode.OSub,format_hl_Opcode.OMul,format_hl_Opcode.OSDiv,format_hl_Opcode.OUDiv,format_hl_Opcode.OSMod,format_hl_Opcode.OUMod,format_hl_Opcode.OShl,format_hl_Opcode.OSShr,format_hl_Opcode.OUShr,format_hl_Opcode.OAnd,format_hl_Opcode.OOr,format_hl_Opcode.OXor,format_hl_Opcode.ONeg,format_hl_Opcode.ONot,format_hl_Opcode.OIncr,format_hl_Opcode.ODecr,format_hl_Opcode.OCall0,format_hl_Opcode.OCall1,format_hl_Opcode.OCall2,format_hl_Opcode.OCall3,format_hl_Opcode.OCall4,format_hl_Opcode.OCallN,format_hl_Opcode.OCallMethod,format_hl_Opcode.OCallThis,format_hl_Opcode.OCallClosure,format_hl_Opcode.OStaticClosure,format_hl_Opcode.OInstanceClosure,format_hl_Opcode.OVirtualClosure,format_hl_Opcode.OGetGlobal,format_hl_Opcode.OSetGlobal,format_hl_Opcode.OField,format_hl_Opcode.OSetField,format_hl_Opcode.OGetThis,format_hl_Opcode.OSetThis,format_hl_Opcode.ODynGet,format_hl_Opcode.ODynSet,format_hl_Opcode.OJTrue,format_hl_Opcode.OJFalse,format_hl_Opcode.OJNull,format_hl_Opcode.OJNotNull,format_hl_Opcode.OJSLt,format_hl_Opcode.OJSGte,format_hl_Opcode.OJSGt,format_hl_Opcode.OJSLte,format_hl_Opcode.OJULt,format_hl_Opcode.OJUGte,format_hl_Opcode.OJNotLt,format_hl_Opcode.OJNotGte,format_hl_Opcode.OJEq,format_hl_Opcode.OJNotEq,format_hl_Opcode.OJAlways,format_hl_Opcode.OToDyn,format_hl_Opcode.OToSFloat,format_hl_Opcode.OToUFloat,format_hl_Opcode.OToInt,format_hl_Opcode.OSafeCast,format_hl_Opcode.OUnsafeCast,format_hl_Opcode.OToVirtual,format_hl_Opcode.OLabel,format_hl_Opcode.ORet,format_hl_Opcode.OThrow,format_hl_Opcode.ORethrow,format_hl_Opcode.OSwitch,format_hl_Opcode.ONullCheck,format_hl_Opcode.OTrap,format_hl_Opcode.OEndTrap,format_hl_Opcode.OGetUI8,format_hl_Opcode.OGetUI16,format_hl_Opcode.OGetMem,format_hl_Opcode.OGetArray,format_hl_Opcode.OSetUI8,format_hl_Opcode.OSetUI16,format_hl_Opcode.OSetMem,format_hl_Opcode.OSetArray,format_hl_Opcode.ONew,format_hl_Opcode.OArraySize,format_hl_Opcode.OType,format_hl_Opcode.OGetType,format_hl_Opcode.OGetTID,format_hl_Opcode.ORef,format_hl_Opcode.OUnref,format_hl_Opcode.OSetref,format_hl_Opcode.OMakeEnum,format_hl_Opcode.OEnumAlloc,format_hl_Opcode.OEnumIndex,format_hl_Opcode.OEnumField,format_hl_Opcode.OSetEnumField,format_hl_Opcode.OAssert,format_hl_Opcode.ORefData,format_hl_Opcode.ORefOffset,format_hl_Opcode.ONop,format_hl_Opcode.OPrefetch,format_hl_Opcode.OAsm,format_hl_Opcode.OCatch];class format_hl_Reader{constructor(readCode){if(readCode==null){readCode=true}this.readCode=readCode;this.args1=[0];this.args2=[0,0];this.args3=[0,0,0];this.args4=[0,0,0,0]}_read(){return this.i.readByte()}index(){let b=this.i.readByte();if((b&128)==0){return b&127}if((b&64)==0){let v2=this.i.readByte()|(b&31)<<8;if((b&32)==0){return v2}else{return-v2}}let c=this.i.readByte();let d=this.i.readByte();let e=this.i.readByte();let v=(b&31)<<24|c<<16|d<<8|e;if((b&32)==0){return v}else{return-v}}uindex(){let v=this.index();if(v<0){throw haxe_Exception.thrown("Expected uindex but got "+v)}return v}readStrings(n){let size=this.i.readInt32();let data=this.i.read(size);let out=[];let pos=0;let _g=0;let _g1=n;while(_g<_g1){let _=_g++;let sz=this.uindex();let str=data.getString(pos,sz);pos+=sz+1;out.push(str)}return out}getString(){let i=this.index();let s=this.strings[i];if(s==null){throw haxe_Exception.thrown("No string @"+i)}return s}getType(){let i=this.index();let t=this.types[i];if(t==null){throw haxe_Exception.thrown("No type @"+i)}return t}readType(){let _g=this.i.readByte();switch(_g){case 0:return format_hl_HLType.HVoid;case 1:return format_hl_HLType.HUi8;case 2:return format_hl_HLType.HUi16;case 3:return format_hl_HLType.HI32;case 4:return format_hl_HLType.HI64;case 5:return format_hl_HLType.HF32;case 6:return format_hl_HLType.HF64;case 7:return format_hl_HLType.HBool;case 8:return format_hl_HLType.HBytes;case 9:return format_hl_HLType.HDyn;case 10:let _g1=[];let _g2=0;let _g3=this.i.readByte();while(_g2<_g3){let i=_g2++;_g1.push(format_hl_HLType.HAt(this.uindex()))}return format_hl_HLType.HFun({args:_g1,ret:format_hl_HLType.HAt(this.uindex())});case 11:return format_hl_HLType.HObj(this.readProto());case 12:return format_hl_HLType.HArray;case 13:return format_hl_HLType.HType;case 14:return format_hl_HLType.HRef(this.getType());case 15:let _g4=[];let _g5=0;let _g6=this.uindex();while(_g5<_g6){let i=_g5++;_g4.push({name:this.getString(),t:format_hl_HLType.HAt(this.uindex())})}return format_hl_HLType.HVirtual(_g4);case 16:return format_hl_HLType.HDynObj;case 17:return format_hl_HLType.HAbstract(this.getString());case 18:let name=this.getString();let global1=this.uindex()-1;let _g7=[];let _g8=0;let _g9=this.uindex();while(_g8<_g9){let i=_g8++;let tmp=this.getString();let _g13=[];let _g14=0;let _g22=this.uindex();while(_g14<_g22){let i2=_g14++;_g13.push(format_hl_HLType.HAt(this.uindex()))}_g7.push({name:tmp,params:_g13})}let constructs=_g7;if(name==this.strings[0]&&constructs.length==1&&constructs[0].name==this.strings[0]){name=null;constructs[0].name=""}return format_hl_HLType.HEnum({name:name,globalValue:global1<0?null:global1,constructs:constructs});case 19:return format_hl_HLType.HNull(this.getType());case 20:let _g10=[];let _g11=0;let _g12=this.i.readByte();while(_g11<_g12){let i=_g11++;_g10.push(format_hl_HLType.HAt(this.uindex()))}return format_hl_HLType.HMethod({args:_g10,ret:format_hl_HLType.HAt(this.uindex())});case 21:return format_hl_HLType.HStruct(this.readProto());case 22:return format_hl_HLType.HPacked({v:format_hl_HLType.HAt(this.uindex())});case 23:return format_hl_HLType.HGUID;default:let x=_g;throw haxe_Exception.thrown("Unsupported type value "+x)}}readProto(){let p={name:this.getString(),tsuper:null,fields:null,proto:null,bindings:null,globalValue:null};let sup=this.index();if(sup>=0){p.tsuper=this.types[sup];if(p.tsuper==null){throw haxe_Exception.thrown("assert")}}p.globalValue=this.uindex()-1;if(p.globalValue<0){p.globalValue=null}let nfields=this.uindex();let nproto=this.uindex();let nbindings=this.uindex();let _g=[];let _g1=0;let _g2=nfields;while(_g1<_g2){let i=_g1++;_g.push({name:this.getString(),t:format_hl_HLType.HAt(this.uindex())})}p.fields=_g;let _g3=[];let _g4=0;let _g5=nproto;while(_g4<_g5){let i=_g4++;_g3.push({name:this.getString(),findex:this.uindex(),pindex:this.index()})}p.proto=_g3;let _g6=[];let _g7=0;let _g8=nbindings;while(_g7<_g8){let i=_g7++;_g6.push({fid:this.uindex(),mid:this.uindex()})}p.bindings=_g6;return p}fixType(t){if(t._hx_index==24){let i=t.i;return this.types[i]}else{return t}}readFunction(){let t=this.getType();let idx=this.uindex();let nregs=this.uindex();let nops=this.uindex();let _g=[];let _g1=0;let _g2=nregs;while(_g1<_g2){let i=_g1++;_g.push(this.getType())}let tmp=_g;let tmp1;if(this.readCode){let _g3=[];let _g12=0;let _g22=nops;while(_g12<_g22){let i=_g12++;_g3.push(this.readOp())}tmp1=_g3}else{tmp1=this.skipOps(nops)}let tmp2=this.readDebug(nops);let tmp3;if((this.flags&1<<format_hl_CodeFlag.HasDebug._hx_index)!=0&&this.version>=3){let _g3=[];let _g12=0;let _g22=this.uindex();while(_g12<_g22){let i=_g12++;_g3.push({varName:this.uindex(),position:this.index()-1})}tmp3=_g3}else{tmp3=[]}return{t:t,findex:idx,regs:tmp,ops:tmp1,debug:tmp2,assigns:tmp3}}skipOps(nops){let _g=0;let _g1=nops;while(_g<_g1){let i=_g++;let op=this.i.readByte();let args=format_hl_Reader.OP_ARGS[op];if(args<0){switch(op){case 70:this.uindex();let _g12=0;let _g2=this.uindex();while(_g12<_g2){let i2=_g12++;this.uindex()}this.uindex();break;case 29:case 30:case 31:case 32:case 90:this.index();this.index();let _g3=0;let _g4=this.uindex();while(_g3<_g4){let i2=_g3++;this.index()}break;default:let tmp="Don't know how to handle opcode "+op+"(";let _this=format_hl_Opcode.__constructs__;let result=new Array(_this.length);let _g5=0;let _g6=_this.length;while(_g5<_g6){let i2=_g5++;result[i2]=_this[i2]._hx_name}throw haxe_Exception.thrown(tmp+result[op]+")")}}else{let _g2=0;let _g12=args;while(_g2<_g12){let i2=_g2++;this.index()}}}return null}readOp(){let op=this.i.readByte();let args=format_hl_Reader.OP_ARGS[op];switch(args){case-1:switch(op){case 70:this.args3[0]=this.uindex();let tmp=this.args3;let _g=[];let _g1=0;let _g2=this.uindex();while(_g1<_g2){let i=_g1++;_g.push(this.uindex())}tmp[1]=_g;this.args3[2]=this.uindex();return Type.createEnumIndex(format_hl_Opcode,op,this.args3);case 29:case 30:case 31:case 32:case 90:this.args3[0]=this.index();this.args3[1]=this.index();let tmp1=this.args3;let _g3=[];let _g4=0;let _g5=this.uindex();while(_g4<_g5){let i=_g4++;_g3.push(this.index())}tmp1[2]=_g3;return Type.createEnumIndex(format_hl_Opcode,op,this.args3);default:let tmp2="Don't know how to handle opcode "+op+"(";let _this=format_hl_Opcode.__constructs__;let result=new Array(_this.length);let _g6=0;let _g7=_this.length;while(_g6<_g7){let i=_g6++;result[i]=_this[i]._hx_name}throw haxe_Exception.thrown(tmp2+result[op]+")")}break;case 1:this.args1[0]=this.index();return Type.createEnumIndex(format_hl_Opcode,op,this.args1);case 2:this.args2[0]=this.index();this.args2[1]=this.index();return Type.createEnumIndex(format_hl_Opcode,op,this.args2);case 3:this.args3[0]=this.index();this.args3[1]=this.index();this.args3[2]=this.index();return Type.createEnumIndex(format_hl_Opcode,op,this.args3);case 4:this.args4[0]=this.index();this.args4[1]=this.index();this.args4[2]=this.index();this.args4[3]=this.index();return Type.createEnumIndex(format_hl_Opcode,op,this.args4);default:let _g8=[];let _g9=0;let _g10=args;while(_g9<_g10){let i=_g9++;_g8.push(this.index())}return Type.createEnumIndex(format_hl_Opcode,op,_g8)}}readDebug(nops){if((this.flags&1<<format_hl_CodeFlag.HasDebug._hx_index)==0){return null}let curfile=-1;let curline=0;let debug=[];let i=0;while(i<nops){let c=this.i.readByte();if((c&1)!=0){c>>=1;curfile=c<<8|this.i.readByte();if(curfile>=this.debugFiles.length){throw haxe_Exception.thrown("Invalid debug file")}}else if((c&2)!=0){let delta=c>>6;let count=c>>2&15;if(i+count>nops){throw haxe_Exception.thrown("Outside range")}while(count-- >0){debug[i<<1]=curfile;debug[i<<1|1]=curline;++i}curline+=delta}else if((c&4)!=0){curline+=c>>3;debug[i<<1]=curfile;debug[i<<1|1]=curline;++i}else{let b2=this.i.readByte();let b3=this.i.readByte();curline=c>>3|b2<<5|b3<<13;debug[i<<1]=curfile;debug[i<<1|1]=curline;++i}}return debug}read(i){this.i=i;if(i.readString(3)!="HLB"){throw haxe_Exception.thrown("Invalid HL file")}this.version=this.i.readByte();if(this.version<=1||this.version>5){throw haxe_Exception.thrown("HL Version "+this.version+" is not supported")}let i1=this.uindex();if(i1==null){i1=0}this.flags=i1;let nints=this.uindex();let nfloats=this.uindex();let nstrings=this.uindex();let nbytes=this.version>=5?this.uindex():0;let ntypes=this.uindex();let nglobals=this.uindex();let nnatives=this.uindex();let nfunctions=this.uindex();let nconstants=this.version>=4?this.uindex():0;let entryPoint=this.uindex();let _g=[];let _g1=0;let _g2=nints;while(_g1<_g2){let _=_g1++;_g.push(i.readInt32())}let ints=_g;let _g3=[];let _g4=0;let _g5=nfloats;while(_g4<_g5){let _=_g4++;_g3.push(i.readDouble())}let floats=_g3;this.strings=this.readStrings(nstrings);let bytes=null;let bytesPos=null;if(this.version>=5){bytes=i.read(i.readInt32());let _g22=[];let _g110=0;let _g23=nbytes;while(_g110<_g23){let _=_g110++;_g22.push(this.uindex())}bytesPos=_g22}this.debugFiles=null;if((this.flags&1<<format_hl_CodeFlag.HasDebug._hx_index)!=0){this.debugFiles=this.readStrings(this.uindex())}this.types=[];let _g6=0;let _g7=ntypes;while(_g6<_g7){let i2=_g6++;this.types[i2]=this.readType()}let _g8=0;let _g9=ntypes;while(_g8<_g9){let i2=_g8++;let _g22=this.types[i2];switch(_g22._hx_index){case 10:let f=_g22.fun;let _g110=0;let _g23=f.args.length;while(_g110<_g23){let i3=_g110++;f.args[i3]=this.fixType(f.args[i3])}f.ret=this.fixType(f.ret);break;case 11:let p=_g22.proto;let _g32=0;let _g42=p.fields;while(_g32<_g42.length){let f2=_g42[_g32];++_g32;f2.t=this.fixType(f2.t)}break;case 15:let fl=_g22.fields;let _g52=0;while(_g52<fl.length){let f2=fl[_g52];++_g52;f2.t=this.fixType(f2.t)}break;case 18:let e=_g22.proto;let _g62=0;let _g72=e.constructs;while(_g62<_g72.length){let c=_g72[_g62];++_g62;let _g24=0;let _g111=c.params.length;while(_g24<_g111){let i3=_g24++;c.params[i3]=this.fixType(c.params[i3])}}break;case 20:let f1=_g22.fun;let _g92=0;let _g102=f1.args.length;while(_g92<_g102){let i3=_g92++;f1.args[i3]=this.fixType(f1.args[i3])}f1.ret=this.fixType(f1.ret);break;case 21:let p1=_g22.proto;let _g112=0;let _g122=p1.fields;while(_g112<_g122.length){let f2=_g122[_g112];++_g112;f2.t=this.fixType(f2.t)}break;case 22:let t=_g22.t;t.v=this.fixType(t.v);break;default:}}let tmp=this.version;let tmp1=this.flags;let tmp2=this.strings;let tmp3=this.debugFiles;let tmp4=this.types;let _g10=[];let _g11=0;let _g12=nglobals;while(_g11<_g12){let i2=_g11++;_g10.push(this.getType())}let tmp5=_g10;let _g13=[];let _g14=0;let _g15=nnatives;while(_g14<_g15){let i2=_g14++;_g13.push({lib:this.getString(),name:this.getString(),t:this.getType(),findex:this.uindex()})}let tmp6=_g13;let _g16=[];let _g17=0;let _g18=nfunctions;while(_g17<_g18){let i2=_g17++;_g16.push(this.readFunction())}let tmp7=_g16;let _g19=[];let _g20=0;let _g21=nconstants;while(_g20<_g21){let i2=_g20++;let tmp8=this.uindex();let _g22=[];let _g110=0;let _g23=this.uindex();while(_g110<_g23){let i3=_g110++;_g22.push(this.uindex())}_g19.push({global:tmp8,fields:_g22})}return{version:tmp,flags:tmp1,ints:ints,floats:floats,strings:tmp2,bytes:bytes,bytesPos:bytesPos,debugFiles:tmp3,types:tmp4,entryPoint:entryPoint,globals:tmp5,natives:tmp6,functions:tmp7,constants:_g19}}}format_hl_Reader.__name__="format.hl.Reader";Object.assign(format_hl_Reader.prototype,{__class__:format_hl_Reader});class format_hl_Tools{static isDynamic(t){switch(t._hx_index){case 10:return true;case 11:return true;case 8:case 13:return false;case 14:return false;case 15:return true;case 9:case 12:case 16:return true;case 17:return false;case 18:return true;case 19:return true;case 20:return false;case 21:return false;case 22:return false;case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 23:return false;case 24:return false}}static isPtr(t){switch(t._hx_index){case 10:return true;case 11:return true;case 8:case 13:return true;case 14:return true;case 15:return true;case 9:case 12:case 16:return true;case 17:return true;case 18:return true;case 19:return true;case 20:return true;case 21:return true;case 22:return false;case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 23:return false;case 24:return false}}static containsPointer(t){switch(t._hx_index){case 10:return true;case 11:let p=t.proto;let _g=0;let _g1=p.fields;while(_g<_g1.length){let f=_g1[_g];++_g;let _g22=f.t;if(_g22._hx_index==22){let t3=_g22.t;if(format_hl_Tools.containsPointer(t3.v)){return true}}else if(format_hl_Tools.isPtr(f.t)){return true}}if(p.tsuper==null){return false}return format_hl_Tools.containsPointer(p.tsuper);case 14:return false;case 15:return true;case 9:case 12:case 16:return true;case 17:return true;case 18:let e=t.proto;let _g2=0;let _g3=e.constructs;while(_g2<_g3.length){let c=_g3[_g2];++_g2;let _g6=0;let _g12=c.params;while(_g6<_g12.length){let t3=_g12[_g6];++_g6;if(format_hl_Tools.isPtr(t3)){return true}}}return false;case 19:let t1=t.t;return format_hl_Tools.isPtr(t1);case 20:return false;case 21:let p1=t.proto;let _g4=0;let _g5=p1.fields;while(_g4<_g5.length){let f=_g5[_g4];++_g4;let _g6=f.t;if(_g6._hx_index==22){let t3=_g6.t;if(format_hl_Tools.containsPointer(t3.v)){return true}}else if(format_hl_Tools.isPtr(f.t)){return true}}if(p1.tsuper==null){return false}return format_hl_Tools.containsPointer(p1.tsuper);case 22:let t2=t.t;return format_hl_Tools.containsPointer(t2.v);case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 23:return false;case 24:return false}}static hash(name){let h=0;let _g=0;let _g1=name.length;while(_g<_g1){let i=_g++;h=223*h+name.charCodeAt(i)|0}h%=536870779;return h}static toString(t){if(t==null){return"<null>"}switch(t._hx_index){case 0:return"Void";case 1:return"hl.UI8";case 2:return"hl.UI16";case 3:return"Int";case 4:return"hl.I64";case 5:return"Single";case 6:return"Float";case 7:return"Bool";case 8:return"hl.Bytes";case 9:return"Dynamic";case 10:let f=t.fun;if(f.args.length==0){let t4=f.ret;return"Void -> "+(t4._hx_index==10?"("+format_hl_Tools.toString(t4)+")":format_hl_Tools.toString(t4))}else{let _g7=[];let _g12=0;let _g22=f.args;while(_g12<_g22.length){let a=_g22[_g12];++_g12;_g7.push(a._hx_index==10?"("+format_hl_Tools.toString(a)+")":format_hl_Tools.toString(a))}let tmp=_g7.join(" -> ")+" -> ";let t4=f.ret;return tmp+(t4._hx_index==10?"("+format_hl_Tools.toString(t4)+")":format_hl_Tools.toString(t4))}break;case 11:let o=t.proto;switch(o.name){case"haxe.ds.IntMap":return"Map<Int,Dynamic>";case"haxe.ds.ObjectMap":return"Map<{},Dynamic>";case"haxe.ds.StringMap":return"Map<String,Dynamic>";case"hl.types.ArrayBytes_Float":return"Array<Float>";case"hl.types.ArrayBytes_Int":return"Array<Int>";case"hl.types.ArrayBytes_Single":return"Array<Single>";case"hl.types.ArrayBytes_hl_UI16":return"Array<hl.UI16>";case"hl.types.ArrayDyn":return"Array<Dynamic>";case"hl.types.ArrayObj":return"Array<T>";default:return o.name}break;case 12:return"hl.NativeArray";case 13:return"hl.Type";case 14:let t1=t.t;return"hl.Ref<"+format_hl_Tools.toString(t1)+">";case 15:let fl=t.fields;let _g=[];let _g1=0;while(_g1<fl.length){let f2=fl[_g1];++_g1;_g.push({name:f2.name,t:f2.t})}let fields=_g;let _g2=0;while(_g2<fl.length){let f2=fl[_g2];++_g2;f2.t=format_hl_HLType.HAt(0)}let _g3=[];let _g4=0;while(_g4<fields.length){let f2=fields[_g4];++_g4;_g3.push(f2.name+" : "+format_hl_Tools.toString(f2.t))}let str="{ "+_g3.join(", ")+" }";let _g5=0;let _g6=fields.length;while(_g5<_g6){let i=_g5++;fl[i].t=fields[i].t}return str;case 16:return"hl.DynObj";case 17:let name=t.name;return"hl.NativeAbstract<"+name+">";case 18:let e=t.proto;return e.name;case 19:let t2=t.t;return"Null<"+format_hl_Tools.toString(t2)+">";case 20:let f1=t.fun;if(f1.args.length==0){let t4=f1.ret;return"Void -> "+(t4._hx_index==10?"("+format_hl_Tools.toString(t4)+")":format_hl_Tools.toString(t4))}else{let _g7=[];let _g12=0;let _g22=f1.args;while(_g12<_g22.length){let a=_g22[_g12];++_g12;_g7.push(a._hx_index==10?"("+format_hl_Tools.toString(a)+")":format_hl_Tools.toString(a))}let tmp=_g7.join(" -> ")+" -> ";let t4=f1.ret;return tmp+(t4._hx_index==10?"("+format_hl_Tools.toString(t4)+")":format_hl_Tools.toString(t4))}break;case 21:let o1=t.proto;return o1.name;case 22:let t3=t.t;return"Packed<"+format_hl_Tools.toString(t3.v)+">";case 23:return"hl.GUID";case 24:return"<...>"}}}format_hl_Tools.__name__="format.hl.Tools";var haxe_StackItem=$hxEnums["haxe.StackItem"]={__ename__:true,__constructs__:null,CFunction:{_hx_name:"CFunction",_hx_index:0,__enum__:"haxe.StackItem",toString:$estr},Module:($_=function(m){return{_hx_index:1,m:m,__enum__:"haxe.StackItem",toString:$estr,__params__:function(){return[this.m]}}},$_._hx_name="Module",$_),FilePos:($_=function(s,file,line,column){return{_hx_index:2,s:s,file:file,line:line,column:column,__enum__:"haxe.StackItem",toString:$estr,__params__:function(){return[this.s,this.file,this.line,this.column]}}},$_._hx_name="FilePos",$_),Method:($_=function(classname,method){return{_hx_index:3,classname:classname,method:method,__enum__:"haxe.StackItem",toString:$estr,__params__:function(){return[this.classname,this.method]}}},$_._hx_name="Method",$_),LocalFunction:($_=function(v){return{_hx_index:4,v:v,__enum__:"haxe.StackItem",toString:$estr,__params__:function(){return[this.v]}}},$_._hx_name="LocalFunction",$_)};haxe_StackItem.__constructs__=[haxe_StackItem.CFunction,haxe_StackItem.Module,haxe_StackItem.FilePos,haxe_StackItem.Method,haxe_StackItem.LocalFunction];class haxe_CallStack{static callStack(){return haxe_NativeStackTrace.toHaxe(haxe_NativeStackTrace.callStack())}static exceptionStack(fullStack){if(fullStack==null){fullStack=false}let eStack=haxe_NativeStackTrace.toHaxe(haxe_NativeStackTrace.exceptionStack());return fullStack?eStack:haxe_CallStack.subtract(eStack,haxe_CallStack.callStack())}static toString(stack){let b=new StringBuf;let _g=0;let _g1=stack;while(_g<_g1.length){let s=_g1[_g];++_g;b.b+="\nCalled from ";haxe_CallStack.itemToString(b,s)}return b.b}static subtract(this1,stack){let startIndex=-1;let i=-1;while(++i<this1.length){let _g=0;let _g1=stack.length;while(_g<_g1){let j=_g++;if(haxe_CallStack.equalItems(this1[i],stack[j])){if(startIndex<0){startIndex=i}++i;if(i>=this1.length){break}}else{startIndex=-1}}if(startIndex>=0){break}}if(startIndex>=0){return this1.slice(0,startIndex)}else{return this1}}static equalItems(item1,item2){if(item1==null){return item2==null}else{switch(item1._hx_index){case 0:if(item2==null){return false}else{return item2._hx_index==0}break;case 1:if(item2==null){return false}else if(item2._hx_index==1){let m2=item2.m;let m1=item1.m;return m1==m2}else{return false}break;case 2:if(item2==null){return false}else if(item2._hx_index==2){let item21=item2.s;let file2=item2.file;let line2=item2.line;let col2=item2.column;let col1=item1.column;let line1=item1.line;let file1=item1.file;let item11=item1.s;return file1==file2&&line1==line2&&col1==col2&&haxe_CallStack.equalItems(item11,item21)}else{return false}break;case 3:if(item2==null){return false}else if(item2._hx_index==3){let class2=item2.classname;let method2=item2.method;let method1=item1.method;let class1=item1.classname;return class1==class2&&method1==method2}else{return false}break;case 4:if(item2==null){return false}else if(item2._hx_index==4){let v2=item2.v;let v1=item1.v;return v1==v2}else{return false}break}}}static itemToString(b,s){switch(s._hx_index){case 0:b.b+="a C function";break;case 1:let m=s.m;b.b+="module ";b.b+=m==null?"null":""+m;break;case 2:let s1=s.s;let file=s.file;let line=s.line;let col=s.column;if(s1!=null){haxe_CallStack.itemToString(b,s1);b.b+=" ("}b.b+=file==null?"null":""+file;b.b+=" line ";b.b+=line==null?"null":""+line;if(col!=null){b.b+=" column ";b.b+=col==null?"null":""+col}if(s1!=null){b.b+=")"}break;case 3:let cname=s.classname;let meth=s.method;b.b+=Std.string(cname==null?"<unknown>":cname);b.b+=".";b.b+=meth==null?"null":""+meth;break;case 4:let n=s.v;b.b+="local function #";b.b+=n==null?"null":""+n;break}}}class haxe_IMap{}haxe_IMap.__name__="haxe.IMap";haxe_IMap.__isInterface__=true;class haxe_Exception extends Error{constructor(message,previous,native){super(message);this.message=message;this.__previousException=previous;this.__nativeException=native!=null?native:this;this.__skipStack=0;let old=Error.prepareStackTrace;Error.prepareStackTrace=function(e){return e.stack};if(native instanceof Error){this.stack=native.stack}else{let e=null;if(Error.captureStackTrace){Error.captureStackTrace(this,haxe_Exception);e=this}else{e=new Error;if(typeof e.stack=="undefined"){try{throw e}catch(_){}this.__skipStack++}}this.stack=e.stack}Error.prepareStackTrace=old}unwrap(){return this.__nativeException}toString(){return this.get_message()}__shiftStack(){this.__skipStack++}get_message(){return this.message}get_native(){return this.__nativeException}get_stack(){let _g=this.__exceptionStack;if(_g==null){let value=haxe_NativeStackTrace.toHaxe(haxe_NativeStackTrace.normalize(this.stack),this.__skipStack);this.setProperty("__exceptionStack",value);return value}else{let s=_g;return s}}setProperty(name,value){try{Object.defineProperty(this,name,{value:value,writable:true})}catch(_g){this[name]=value}}static caught(value){if(value instanceof haxe_Exception){return value}else if(value instanceof Error){return new haxe_Exception(value.message,null,value)}else{return new haxe_ValueException(value,null,value)}}static thrown(value){if(value instanceof haxe_Exception){return value.get_native()}else if(value instanceof Error){return value}else{let e=new haxe_ValueException(value);e.__skipStack++;return e}}}haxe_Exception.__name__="haxe.Exception";haxe_Exception.__super__=Error;Object.assign(haxe_Exception.prototype,{__class__:haxe_Exception});class haxe_Int32{static ucompare(a,b){if(a<0){if(b<0){return~b-~a|0}else{return 1}}if(b<0){return-1}else{return a-b|0}}}class haxe_Int64{static toString(this1){let i=this1;let b_high=0;let b_low=0;if(i.high==b_high&&i.low==b_low){return"0"}let str="";let neg=false;if(i.high<0){neg=true}let ten=new haxe__$Int64__$_$_$Int64(0,10);while(true){let b_high2=0;let b_low2=0;if(!(i.high!=b_high2||i.low!=b_low2)){break}let r=haxe_Int64.divMod(i,ten);if(r.modulus.high<0){let x=r.modulus;let high=~x.high;let low=~x.low+1|0;if(low==0){let ret=high++;high=high|0}let this_high=high;let this_low=low;str=this_low+str;let x1=r.quotient;let high1=~x1.high;let low1=~x1.low+1|0;if(low1==0){let ret=high1++;high1=high1|0}i=new haxe__$Int64__$_$_$Int64(high1,low1)}else{str=r.modulus.low+str;i=r.quotient}}if(neg){str="-"+str}return str}static divMod(dividend,divisor){if(divisor.high==0){switch(divisor.low){case 0:throw haxe_Exception.thrown("divide by zero");case 1:return{quotient:new haxe__$Int64__$_$_$Int64(dividend.high,dividend.low),modulus:new haxe__$Int64__$_$_$Int64(0,0)}}}let divSign=dividend.high<0!=divisor.high<0;let modulus;if(dividend.high<0){let high=~dividend.high;let low=~dividend.low+1|0;if(low==0){let ret=high++;high=high|0}modulus=new haxe__$Int64__$_$_$Int64(high,low)}else{modulus=new haxe__$Int64__$_$_$Int64(dividend.high,dividend.low)}if(divisor.high<0){let high=~divisor.high;let low=~divisor.low+1|0;if(low==0){let ret=high++;high=high|0}divisor=new haxe__$Int64__$_$_$Int64(high,low)}let quotient=new haxe__$Int64__$_$_$Int64(0,0);let mask=new haxe__$Int64__$_$_$Int64(0,1);while(!(divisor.high<0)){let v=haxe_Int32.ucompare(divisor.high,modulus.high);let cmp=v!=0?v:haxe_Int32.ucompare(divisor.low,modulus.low);let b=1;b&=63;divisor=b==0?new haxe__$Int64__$_$_$Int64(divisor.high,divisor.low):b<32?new haxe__$Int64__$_$_$Int64(divisor.high<<b|divisor.low>>>32-b,divisor.low<<b):new haxe__$Int64__$_$_$Int64(divisor.low<<b-32,0);let b1=1;b1&=63;mask=b1==0?new haxe__$Int64__$_$_$Int64(mask.high,mask.low):b1<32?new haxe__$Int64__$_$_$Int64(mask.high<<b1|mask.low>>>32-b1,mask.low<<b1):new haxe__$Int64__$_$_$Int64(mask.low<<b1-32,0);if(cmp>=0){break}}while(true){let b_high=0;let b_low=0;if(!(mask.high!=b_high||mask.low!=b_low)){break}let v=haxe_Int32.ucompare(modulus.high,divisor.high);if((v!=0?v:haxe_Int32.ucompare(modulus.low,divisor.low))>=0){quotient=new haxe__$Int64__$_$_$Int64(quotient.high|mask.high,quotient.low|mask.low);let high=modulus.high-divisor.high|0;let low=modulus.low-divisor.low|0;if(haxe_Int32.ucompare(modulus.low,divisor.low)<0){let ret=high--;high=high|0}modulus=new haxe__$Int64__$_$_$Int64(high,low)}let b=1;b&=63;mask=b==0?new haxe__$Int64__$_$_$Int64(mask.high,mask.low):b<32?new haxe__$Int64__$_$_$Int64(mask.high>>>b,mask.high<<32-b|mask.low>>>b):new haxe__$Int64__$_$_$Int64(0,mask.high>>>b-32|0);let b1=1;b1&=63;divisor=b1==0?new haxe__$Int64__$_$_$Int64(divisor.high,divisor.low):b1<32?new haxe__$Int64__$_$_$Int64(divisor.high>>>b1,divisor.high<<32-b1|divisor.low>>>b1):new haxe__$Int64__$_$_$Int64(0,divisor.high>>>b1-32|0)}if(divSign){let high=~quotient.high;let low=~quotient.low+1|0;if(low==0){let ret=high++;high=high|0}quotient=new haxe__$Int64__$_$_$Int64(high,low)}if(dividend.high<0){let high=~modulus.high;let low=~modulus.low+1|0;if(low==0){let ret=high++;high=high|0}modulus=new haxe__$Int64__$_$_$Int64(high,low)}return{quotient:quotient,modulus:modulus}}}class haxe__$Int64__$_$_$Int64{constructor(high,low){this.high=high;this.low=low}toString(){return haxe_Int64.toString(this)}}haxe__$Int64__$_$_$Int64.__name__="haxe._Int64.___Int64";Object.assign(haxe__$Int64__$_$_$Int64.prototype,{__class__:haxe__$Int64__$_$_$Int64});class haxe_Log{static formatOutput(v,infos){let str=Std.string(v);if(infos==null){return str}let pstr=infos.fileName+":"+infos.lineNumber;if(infos.customParams!=null){let _g=0;let _g1=infos.customParams;while(_g<_g1.length){let v2=_g1[_g];++_g;str+=", "+Std.string(v2)}}return pstr+": "+str}static trace(v,infos){let str=haxe_Log.formatOutput(v,infos);if(typeof console!="undefined"&&console.log!=null){console.log(str)}}}haxe_Log.__name__="haxe.Log";class haxe_NativeStackTrace{static saveStack(e){haxe_NativeStackTrace.lastError=e}static callStack(){let e=new Error("");let stack=haxe_NativeStackTrace.tryHaxeStack(e);if(typeof stack=="undefined"){try{throw e}catch(_g){}stack=e.stack}return haxe_NativeStackTrace.normalize(stack,2)}static exceptionStack(){return haxe_NativeStackTrace.normalize(haxe_NativeStackTrace.tryHaxeStack(haxe_NativeStackTrace.lastError))}static toHaxe(s,skip){if(skip==null){skip=0}if(s==null){return[]}else if(typeof s=="string"){let stack=s.split("\n");if(stack[0]=="Error"){stack.shift()}let m=[];let _g=0;let _g1=stack.length;while(_g<_g1){let i=_g++;if(skip>i){continue}let line=stack[i];let matched=line.match(/^    at ([$A-Za-z0-9_. ]+) \(([^)]+):([0-9]+):([0-9]+)\)$/);if(matched!=null){let path=matched[1].split(".");if(path[0]=="$hxClasses"){path.shift()}let meth=path.pop();let file=matched[2];let line2=Std.parseInt(matched[3]);let column=Std.parseInt(matched[4]);m.push(haxe_StackItem.FilePos(meth=="Anonymous function"?haxe_StackItem.LocalFunction():meth=="Global code"?null:haxe_StackItem.Method(path.join("."),meth),file,line2,column))}else{m.push(haxe_StackItem.Module(StringTools.trim(line)))}}return m}else if(skip>0&&Array.isArray(s)){return s.slice(skip)}else{return s}}static tryHaxeStack(e){if(e==null){return[]}let oldValue=Error.prepareStackTrace;Error.prepareStackTrace=haxe_NativeStackTrace.prepareHxStackTrace;let stack=e.stack;Error.prepareStackTrace=oldValue;return stack}static prepareHxStackTrace(e,callsites){let stack=[];let _g=0;while(_g<callsites.length){let site=callsites[_g];++_g;if(haxe_NativeStackTrace.wrapCallSite!=null){site=haxe_NativeStackTrace.wrapCallSite(site)}let method=null;let fullName=site.getFunctionName();if(fullName!=null){let idx=fullName.lastIndexOf(".");if(idx>=0){let className=fullName.substring(0,idx);let methodName=fullName.substring(idx+1);method=haxe_StackItem.Method(className,methodName)}else{method=haxe_StackItem.Method(null,fullName)}}let fileName=site.getFileName();let fileAddr=fileName==null?-1:fileName.indexOf("file:");if(haxe_NativeStackTrace.wrapCallSite!=null&&fileAddr>0){fileName=fileName.substring(fileAddr+6)}stack.push(haxe_StackItem.FilePos(method,fileName,site.getLineNumber(),site.getColumnNumber()))}return stack}static normalize(stack,skipItems){if(skipItems==null){skipItems=0}if(Array.isArray(stack)&&skipItems>0){return stack.slice(skipItems)}else if(typeof stack=="string"){switch(stack.substring(0,6)){case"Error\n":case"Error:":++skipItems;break;default:}return haxe_NativeStackTrace.skipLines(stack,skipItems)}else{return stack}}static skipLines(stack,skip,pos){if(pos==null){pos=0}if(skip>0){pos=stack.indexOf("\n",pos);if(pos<0){return""}else{return haxe_NativeStackTrace.skipLines(stack,--skip,pos+1)}}else{return stack.substring(pos)}}}haxe_NativeStackTrace.__name__="haxe.NativeStackTrace";class haxe_Timer{constructor(time_ms){let me=this;this.id=setInterval(function(){me.run()},time_ms)}stop(){if(this.id==null){return}clearInterval(this.id);this.id=null}run(){}static delay(f,time_ms){let t=new haxe_Timer(time_ms);t.run=function(){t.stop();f()};return t}}haxe_Timer.__name__="haxe.Timer";Object.assign(haxe_Timer.prototype,{__class__:haxe_Timer});class haxe_ValueException extends haxe_Exception{constructor(value,previous,native){super(String(value),previous,native);this.value=value;this.__skipStack++}unwrap(){return this.value}}haxe_ValueException.__name__="haxe.ValueException";haxe_ValueException.__super__=haxe_Exception;Object.assign(haxe_ValueException.prototype,{__class__:haxe_ValueException});class haxe_ds_BalancedTree{constructor(){}set(key,value){this.root=this.setLoop(key,value,this.root)}get(key){let node=this.root;while(node!=null){let c=this.compare(key,node.key);if(c==0){return node.value}if(c<0){node=node.left}else{node=node.right}}return null}setLoop(k,v,node){if(node==null){return new haxe_ds_TreeNode(null,k,v,null)}let c=this.compare(k,node.key);if(c==0){return new haxe_ds_TreeNode(node.left,k,v,node.right,node==null?0:node._height)}else if(c<0){let nl=this.setLoop(k,v,node.left);return this.balance(nl,node.key,node.value,node.right)}else{let nr=this.setLoop(k,v,node.right);return this.balance(node.left,node.key,node.value,nr)}}balance(l,k,v,r){let hl=l==null?0:l._height;let hr=r==null?0:r._height;if(hl>hr+2){let _this=l.left;let _this1=l.right;if((_this==null?0:_this._height)>=(_this1==null?0:_this1._height)){return new haxe_ds_TreeNode(l.left,l.key,l.value,new haxe_ds_TreeNode(l.right,k,v,r))}else{return new haxe_ds_TreeNode(new haxe_ds_TreeNode(l.left,l.key,l.value,l.right.left),l.right.key,l.right.value,new haxe_ds_TreeNode(l.right.right,k,v,r))}}else if(hr>hl+2){let _this=r.right;let _this1=r.left;if((_this==null?0:_this._height)>(_this1==null?0:_this1._height)){return new haxe_ds_TreeNode(new haxe_ds_TreeNode(l,k,v,r.left),r.key,r.value,r.right)}else{return new haxe_ds_TreeNode(new haxe_ds_TreeNode(l,k,v,r.left.left),r.left.key,r.left.value,new haxe_ds_TreeNode(r.left.right,r.key,r.value,r.right))}}else{return new haxe_ds_TreeNode(l,k,v,r,(hl>hr?hl:hr)+1)}}compare(k1,k2){return Reflect2.compare(k1,k2)}}haxe_ds_BalancedTree.__name__="haxe.ds.BalancedTree";haxe_ds_BalancedTree.__interfaces__=[haxe_IMap];Object.assign(haxe_ds_BalancedTree.prototype,{__class__:haxe_ds_BalancedTree});class haxe_ds_TreeNode{constructor(l,k,v,r,h){if(h==null){h=-1}this.left=l;this.key=k;this.value=v;this.right=r;if(h==-1){let tmp;let _this=this.left;let _this1=this.right;if((_this==null?0:_this._height)>(_this1==null?0:_this1._height)){let _this2=this.left;tmp=_this2==null?0:_this2._height}else{let _this2=this.right;tmp=_this2==null?0:_this2._height}this._height=tmp+1}else{this._height=h}}}haxe_ds_TreeNode.__name__="haxe.ds.TreeNode";Object.assign(haxe_ds_TreeNode.prototype,{__class__:haxe_ds_TreeNode});class haxe_ds_GenericCell{constructor(elt,next){this.elt=elt;this.next=next}}haxe_ds_GenericCell.__name__="haxe.ds.GenericCell";Object.assign(haxe_ds_GenericCell.prototype,{__class__:haxe_ds_GenericCell});class haxe_ds_GenericStack{constructor(){}}haxe_ds_GenericStack.__name__="haxe.ds.GenericStack";Object.assign(haxe_ds_GenericStack.prototype,{__class__:haxe_ds_GenericStack});class haxe_ds_IntMap{constructor(){this.m=new Map}}haxe_ds_IntMap.__name__="haxe.ds.IntMap";haxe_ds_IntMap.__interfaces__=[haxe_IMap];Object.assign(haxe_ds_IntMap.prototype,{__class__:haxe_ds_IntMap});class haxe_ds_StringMap{constructor(){this.m=new Map}}haxe_ds_StringMap.__name__="haxe.ds.StringMap";haxe_ds_StringMap.__interfaces__=[haxe_IMap];Object.assign(haxe_ds_StringMap.prototype,{__class__:haxe_ds_StringMap});class haxe_exceptions_PosException extends haxe_Exception{constructor(message,previous,pos){super(message,previous);if(pos==null){this.posInfos={fileName:"(unknown)",lineNumber:0,className:"(unknown)",methodName:"(unknown)"}}else{this.posInfos=pos}this.__skipStack++}toString(){return""+super.toString()+" in "+this.posInfos.className+"."+this.posInfos.methodName+" at "+this.posInfos.fileName+":"+this.posInfos.lineNumber}}haxe_exceptions_PosException.__name__="haxe.exceptions.PosException";haxe_exceptions_PosException.__super__=haxe_Exception;Object.assign(haxe_exceptions_PosException.prototype,{__class__:haxe_exceptions_PosException});class haxe_exceptions_NotImplementedException extends haxe_exceptions_PosException{constructor(message,previous,pos){if(message==null){message="Not implemented"}super(message,previous,pos);this.__skipStack++}}haxe_exceptions_NotImplementedException.__name__="haxe.exceptions.NotImplementedException";haxe_exceptions_NotImplementedException.__super__=haxe_exceptions_PosException;Object.assign(haxe_exceptions_NotImplementedException.prototype,{__class__:haxe_exceptions_NotImplementedException});class haxe_io_Bytes{constructor(data){this.length=data.byteLength;this.b=new Uint8Array(data);this.b.bufferValue=data;data.hxBytes=this;data.bytes=this.b}getDouble(pos){if(this.data==null){this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)}return this.data.getFloat64(pos,true)}getFloat(pos){if(this.data==null){this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)}return this.data.getFloat32(pos,true)}getUInt16(pos){if(this.data==null){this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)}return this.data.getUint16(pos,true)}getInt32(pos){if(this.data==null){this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)}return this.data.getInt32(pos,true)}getInt64(pos){return new haxe__$Int64__$_$_$Int64(this.getInt32(pos+4),this.getInt32(pos))}getString(pos,len,encoding){if(pos<0||len<0||pos+len>this.length){throw haxe_Exception.thrown(haxe_io_Error.OutsideBounds)}if(encoding==null){encoding=haxe_io_Encoding.UTF8}let s="";let b=this.b;let i=pos;let max=pos+len;switch(encoding._hx_index){case 0:let debug=pos>0;while(i<max){let c=b[i++];if(c<128){if(c==0){break}s+=String.fromCodePoint(c)}else if(c<224){let code=(c&63)<<6|b[i++]&127;s+=String.fromCodePoint(code)}else if(c<240){let c2=b[i++];let code=(c&31)<<12|(c2&127)<<6|b[i++]&127;s+=String.fromCodePoint(code)}else{let c2=b[i++];let c3=b[i++];let u=(c&15)<<18|(c2&127)<<12|(c3&127)<<6|b[i++]&127;s+=String.fromCodePoint(u)}}break;case 1:while(i<max){let c=b[i++]|b[i++]<<8;s+=String.fromCodePoint(c)}break}return s}toString(){return this.getString(0,this.length)}toHex(){let s_b="";let chars=[];let str="0123456789abcdef";let _g=0;let _g1=str.length;while(_g<_g1){let i=_g++;chars.push(HxOverrides.cca(str,i))}let _g2=0;let _g3=this.length;while(_g2<_g3){let i=_g2++;let c=this.b[i];s_b+=String.fromCodePoint(chars[c>>4]);s_b+=String.fromCodePoint(chars[c&15])}return s_b}static ofString(s,encoding){if(encoding==haxe_io_Encoding.RawNative){let buf=new Uint8Array(s.length<<1);let _g=0;let _g1=s.length;while(_g<_g1){let i2=_g++;let c=s.charCodeAt(i2);buf[i2<<1]=c&255;buf[i2<<1|1]=c>>8}return new haxe_io_Bytes(buf.buffer)}let a=[];let i=0;while(i<s.length){let c=s.charCodeAt(i++);if(55296<=c&&c<=56319){c=c-55232<<10|s.charCodeAt(i++)&1023}if(c<=127){a.push(c)}else if(c<=2047){a.push(192|c>>6);a.push(128|c&63)}else if(c<=65535){a.push(224|c>>12);a.push(128|c>>6&63);a.push(128|c&63)}else{a.push(240|c>>18);a.push(128|c>>12&63);a.push(128|c>>6&63);a.push(128|c&63)}}return new haxe_io_Bytes(new Uint8Array(a).buffer)}static ofData(b){let hb=b.hxBytes;if(hb!=null){return hb}return new haxe_io_Bytes(b)}}haxe_io_Bytes.__name__="haxe.io.Bytes";Object.assign(haxe_io_Bytes.prototype,{__class__:haxe_io_Bytes});class haxe_io_BytesBuffer{constructor(){this.pos=0;this.size=0}addByte(byte){if(this.pos==this.size){this.grow(1)}this.view.setUint8(this.pos++,byte)}add(src){if(this.pos+src.length>this.size){this.grow(src.length)}if(this.size==0){return}let sub=new Uint8Array(src.b.buffer,src.b.byteOffset,src.length);this.u8.set(sub,this.pos);this.pos+=src.length}addInt32(v){if(this.pos+4>this.size){this.grow(4)}this.view.setInt32(this.pos,v,true);this.pos+=4}addInt64(v){if(this.pos+8>this.size){this.grow(8)}this.view.setInt32(this.pos,v.low,true);this.view.setInt32(this.pos+4,v.high,true);this.pos+=8}grow(delta){let req=this.pos+delta;let nsize=this.size==0?16:this.size;while(nsize<req)nsize=nsize*3>>1;let nbuf=new ArrayBuffer(nsize);let nu8=new Uint8Array(nbuf);if(this.size>0){nu8.set(this.u8)}this.size=nsize;this.buffer=nbuf;this.u8=nu8;this.view=new DataView(this.buffer)}getBytes(){if(this.size==0){return new haxe_io_Bytes(new ArrayBuffer(0))}let b=new haxe_io_Bytes(this.buffer);b.length=this.pos;return b}}haxe_io_BytesBuffer.__name__="haxe.io.BytesBuffer";Object.assign(haxe_io_BytesBuffer.prototype,{__class__:haxe_io_BytesBuffer});class haxe_io_BytesInput extends haxe_io_Input{constructor(b,pos,len){super();if(pos==null){pos=0}if(len==null){len=b.length-pos}if(pos<0||len<0||pos+len>b.length){throw haxe_Exception.thrown(haxe_io_Error.OutsideBounds)}this.b=b.b;this.pos=pos;this.len=len;this.totlen=len}readByte(){if(this.len==0){throw haxe_Exception.thrown(new haxe_io_Eof)}this.len--;return this.b[this.pos++]}readBytes(buf,pos,len){if(pos<0||len<0||pos+len>buf.length){throw haxe_Exception.thrown(haxe_io_Error.OutsideBounds)}if(this.len==0&&len>0){throw haxe_Exception.thrown(new haxe_io_Eof)}if(this.len<len){len=this.len}let b1=this.b;let b2=buf.b;let _g=0;let _g1=len;while(_g<_g1){let i=_g++;b2[pos+i]=b1[this.pos+i]}this.pos+=len;this.len-=len;return len}}haxe_io_BytesInput.__name__="haxe.io.BytesInput";haxe_io_BytesInput.__super__=haxe_io_Input;Object.assign(haxe_io_BytesInput.prototype,{__class__:haxe_io_BytesInput});var haxe_io_Encoding=$hxEnums["haxe.io.Encoding"]={__ename__:true,__constructs__:null,UTF8:{_hx_name:"UTF8",_hx_index:0,__enum__:"haxe.io.Encoding",toString:$estr},RawNative:{_hx_name:"RawNative",_hx_index:1,__enum__:"haxe.io.Encoding",toString:$estr}};haxe_io_Encoding.__constructs__=[haxe_io_Encoding.UTF8,haxe_io_Encoding.RawNative];class haxe_io_Eof{constructor(){}toString(){return"Eof"}}haxe_io_Eof.__name__="haxe.io.Eof";Object.assign(haxe_io_Eof.prototype,{__class__:haxe_io_Eof});var haxe_io_Error=$hxEnums["haxe.io.Error"]={__ename__:true,__constructs__:null,Blocked:{_hx_name:"Blocked",_hx_index:0,__enum__:"haxe.io.Error",toString:$estr},Overflow:{_hx_name:"Overflow",_hx_index:1,__enum__:"haxe.io.Error",toString:$estr},OutsideBounds:{_hx_name:"OutsideBounds",_hx_index:2,__enum__:"haxe.io.Error",toString:$estr},Custom:($_=function(e){return{_hx_index:3,e:e,__enum__:"haxe.io.Error",toString:$estr,__params__:function(){return[this.e]}}},$_._hx_name="Custom",$_)};haxe_io_Error.__constructs__=[haxe_io_Error.Blocked,haxe_io_Error.Overflow,haxe_io_Error.OutsideBounds,haxe_io_Error.Custom];class haxe_io_FPHelper{static floatToI32(f){haxe_io_FPHelper.helper.setFloat32(0,f,true);return haxe_io_FPHelper.helper.getInt32(0,true)}static i64ToDouble(low,high){haxe_io_FPHelper.helper.setInt32(0,low,true);haxe_io_FPHelper.helper.setInt32(4,high,true);return haxe_io_FPHelper.helper.getFloat64(0,true)}static doubleToI64(v){let i64=haxe_io_FPHelper.i64tmp;haxe_io_FPHelper.helper.setFloat64(0,v,true);i64.low=haxe_io_FPHelper.helper.getInt32(0,true);i64.high=haxe_io_FPHelper.helper.getInt32(4,true);return i64}}haxe_io_FPHelper.__name__="haxe.io.FPHelper";class haxe_io_Path{constructor(path){switch(path){case".":case"..":this.dir=path;this.file="";return}let c1=path.lastIndexOf("/");let c2=path.lastIndexOf("\\");if(c1<c2){this.dir=HxOverrides.substr(path,0,c2);path=HxOverrides.substr(path,c2+1,null);this.backslash=true}else if(c2<c1){this.dir=HxOverrides.substr(path,0,c1);path=HxOverrides.substr(path,c1+1,null)}else{this.dir=null}let cp=path.lastIndexOf(".");if(cp!=-1){this.ext=HxOverrides.substr(path,cp+1,null);this.file=HxOverrides.substr(path,0,cp)}else{this.ext=null;this.file=path}}static directory(path){let s=new haxe_io_Path(path);if(s.dir==null){return""}return s.dir}static normalize(path){let slash="/";path=path.split("\\").join(slash);if(path==slash){return slash}let target=[];let _g=0;let _g1=path.split(slash);while(_g<_g1.length){let token=_g1[_g];++_g;if(token==".."&&target.length>0&&target[target.length-1]!=".."){target.pop()}else if(token==""){if(target.length>0||HxOverrides.cca(path,0)==47){target.push(token)}}else if(token!="."){target.push(token)}}let tmp=target.join(slash);let acc_b="";let colon=false;let slashes=false;let _g_offset=0;let _g_s=tmp;while(_g_offset<_g_s.length){let s=_g_s;let index=_g_offset++;let c=s.charCodeAt(index);if(c>=55296&&c<=56319){c=c-55232<<10|s.charCodeAt(index+1)&1023}let c1=c;if(c1>=65536){++_g_offset}let c2=c1;switch(c2){case 47:if(!colon){slashes=true}else{let i2=c2;colon=false;if(slashes){acc_b+="/";slashes=false}acc_b+=String.fromCodePoint(i2)}break;case 58:acc_b+=":";colon=true;break;default:let i=c2;colon=false;if(slashes){acc_b+="/";slashes=false}acc_b+=String.fromCodePoint(i)}}return acc_b}static addTrailingSlash(path){if(path.length==0){return"/"}let c1=path.lastIndexOf("/");let c2=path.lastIndexOf("\\");if(c1<c2){if(c2!=path.length-1){return path+"\\"}else{return path}}else if(c1!=path.length-1){return path+"/"}else{return path}}static isAbsolute(path){if(path.startsWith("/")){return true}if(path.charAt(1)==":"){return true}if(path.startsWith("\\\\")){return true}return false}}haxe_io_Path.__name__="haxe.io.Path";Object.assign(haxe_io_Path.prototype,{__class__:haxe_io_Path});class haxe_iterators_ArrayIterator{constructor(array){this.current=0;this.array=array}hasNext(){return this.current<this.array.length}next(){return this.array[this.current++]}}haxe_iterators_ArrayIterator.__name__="haxe.iterators.ArrayIterator";Object.assign(haxe_iterators_ArrayIterator.prototype,{__class__:haxe_iterators_ArrayIterator});class hld_Align{constructor(is64,boolSize){this.is64=is64;this.ptrSize=is64?8:4;this.boolSize=boolSize}get_ptr(){return this.ptrSize}typeSize(t){switch(t._hx_index){case 0:return 0;case 1:return 1;case 2:return 2;case 3:case 5:return 4;case 4:case 6:return 8;case 7:return this.boolSize;default:return this.ptrSize}}stackSize(t){switch(t._hx_index){case 3:case 5:if(this.is64){return this.ptrSize}else{return this.typeSize(t)}break;case 1:case 2:case 7:return this.ptrSize;default:return this.typeSize(t)}}rest(v,size){return-v&size-1}padSize(v,t){if(t==format_hl_HLType.HVoid){return 0}else{return-v&this.typeSize(t)-1}}padStruct(v,t){return-v&this.structSize(t)-1}structSize(t){if(format_hl_Tools.isPtr(t)){return this.structSizes[this.structSizes.length-1]}return this.structSizes[t._hx_index]}}hld_Align.__name__="hld.Align";Object.assign(hld_Align.prototype,{__class__:hld_Align});class hld_Register{static toInt(this1){return this1}}class hld_Api{}hld_Api.__name__="hld.Api";hld_Api.__isInterface__=true;Object.assign(hld_Api.prototype,{__class__:hld_Api});class hld_Buffer{constructor(size){if(size!=null){this.buf=js_node_buffer_Buffer.alloc(size)}}getPointer(pos,align){if(align.is64){return hld_Pointer.make(this.buf.readInt32LE(pos),this.buf.readInt32LE(pos+4))}return hld_Pointer.make(this.buf.readInt32LE(pos),0)}setPointer(pos,v,align){if(align.is64){let a=v;this.buf.writeInt32LE(a.low,pos);this.buf.writeInt32LE(a.high,pos+4)}else{let value=hld_Pointer.toInt(v);this.buf.writeInt32LE(value,pos)}}getI32(pos){return this.buf.readInt32LE(pos)}getUI8(pos){return this.buf.readUInt8(pos)}getUI16(pos){return this.buf.readUInt16LE(pos)}getF32(pos){return this.buf.readFloatLE(pos)}getF64(pos){return this.buf.readDoubleLE(pos)}setI32(pos,value){this.buf.writeInt32LE(value,pos)}setF64(pos,value){this.buf.writeDoubleLE(value,pos)}setUI16(pos,value){this.buf.writeUInt16LE(value,pos)}setUI8(pos,value){this.buf.writeUInt8(value,pos)}toBinaryString(){if(this.buf.length%2==1){let nbuf=new js_node_buffer_Buffer(this.buf.length+1);this.buf.copy(nbuf);return nbuf.toString("utf16le")}return this.buf.toString("utf16le")}toNodeBuffer(){return this.buf}readStringUCS2(pos,length){let str="";let _g=0;let _g1=length;while(_g<_g1){let i=_g++;let c=this.buf.readUInt16LE(pos);str+=String.fromCodePoint(c);pos+=2}return str}readStringUTF8(){let b=new haxe_io_BytesBuffer;let pos=0;while(true){let c=this.buf.readUInt8(pos++);if(c==0){break}b.addByte(c)}return b.getBytes().toString()}static fromNodeBuffer(buffer){let b=new hld_Buffer;b.buf=buffer;return b}static fromArrayBuffer(buffer){let b=new hld_Buffer;b.buf=js_node_buffer_Buffer.from(buffer);return b}static fromBinaryString(str){let b=new hld_Buffer;b.buf=js_node_buffer_Buffer.from(str,"utf16le");return b}}hld_Buffer.__name__="hld.Buffer";Object.assign(hld_Buffer.prototype,{__class__:hld_Buffer});var hld__$CodeGraph_Control=$hxEnums["hld._CodeGraph.Control"]={__ename__:true,__constructs__:null,CNo:{_hx_name:"CNo",_hx_index:0,__enum__:"hld._CodeGraph.Control",toString:$estr},CJCond:($_=function(d){return{_hx_index:1,d:d,__enum__:"hld._CodeGraph.Control",toString:$estr,__params__:function(){return[this.d]}}},$_._hx_name="CJCond",$_),CJAlways:($_=function(d){return{_hx_index:2,d:d,__enum__:"hld._CodeGraph.Control",toString:$estr,__params__:function(){return[this.d]}}},$_._hx_name="CJAlways",$_),CTry:($_=function(d){return{_hx_index:3,d:d,__enum__:"hld._CodeGraph.Control",toString:$estr,__params__:function(){return[this.d]}}},$_._hx_name="CTry",$_),CCatch:{_hx_name:"CCatch",_hx_index:4,__enum__:"hld._CodeGraph.Control",toString:$estr},CSwitch:($_=function(arr){return{_hx_index:5,arr:arr,__enum__:"hld._CodeGraph.Control",toString:$estr,__params__:function(){return[this.arr]}}},$_._hx_name="CSwitch",$_),CRet:{_hx_name:"CRet",_hx_index:6,__enum__:"hld._CodeGraph.Control",toString:$estr},CThrow:{_hx_name:"CThrow",_hx_index:7,__enum__:"hld._CodeGraph.Control",toString:$estr},CLabel:{_hx_name:"CLabel",_hx_index:8,__enum__:"hld._CodeGraph.Control",toString:$estr},CCall:($_=function(fidx){return{_hx_index:9,fidx:fidx,__enum__:"hld._CodeGraph.Control",toString:$estr,__params__:function(){return[this.fidx]}}},$_._hx_name="CCall",$_)};hld__$CodeGraph_Control.__constructs__=[hld__$CodeGraph_Control.CNo,hld__$CodeGraph_Control.CJCond,hld__$CodeGraph_Control.CJAlways,hld__$CodeGraph_Control.CTry,hld__$CodeGraph_Control.CCatch,hld__$CodeGraph_Control.CSwitch,hld__$CodeGraph_Control.CRet,hld__$CodeGraph_Control.CThrow,hld__$CodeGraph_Control.CLabel,hld__$CodeGraph_Control.CCall];class hld_CodeBlock{constructor(pos,trapl){this.visitTag=0;this.start=pos;this.prev=[];this.next=[];this.trap=trapl;this.writtenRegs=new haxe_ds_IntMap;this.writtenVars=new haxe_ds_StringMap}}hld_CodeBlock.__name__="hld.CodeBlock";Object.assign(hld_CodeBlock.prototype,{__class__:hld_CodeBlock});class hld_CodeGraph{constructor(md,f){this.localsRawCachePos=-1;this.localsRawCache=[];this.currentTag=0;this.module=md;this.fun=f;this.blockPos=new haxe_ds_IntMap;this.allBlocks=new haxe_ds_IntMap;let _g=this.fun.t;let tmp;if(_g._hx_index==10){let f2=_g.fun;tmp=f2.args.length}else{throw haxe_Exception.thrown("assert")}this.nargs=tmp;let _g1=0;let _g2=f.ops.length;while(_g1<_g2){let i=_g1++;let _g9=this.control(i);switch(_g9._hx_index){case 1:let d=_g9.d;this.allBlocks.m.set(i+1+d,true);break;case 2:let d1=_g9.d;this.allBlocks.m.set(i+1+d1,true);break;default:}}this.makeBlock(0,[]);this.args=[];let r0used=false;let _g3=0;let _g4=this.fun.assigns;while(_g3<_g4.length){let a=_g4[_g3];++_g3;if(a.position>=0){break}if(a.position==-2&&this.args.length==0){r0used=true}if(a.position==-1){let vname=this.module.strings[a.varName];this.args.push({hasIndex:false,vars:[vname]})}}if(this.args.length==this.nargs-1){if(r0used){this.args.unshift({hasIndex:true,vars:[]})}else{this.args.unshift({hasIndex:false,vars:["this"]})}}let _g5=0;let _g6=this.fun.assigns;while(_g5<_g6.length){let a=_g6[_g5];++_g5;if(a.position>=-1){break}let vname=this.module.strings[a.varName];let r=-a.position-2;this.args[r].vars.push(vname)}let tmp1;if(this.args.length>=1&&this.args[0].hasIndex){let _g9=f.regs[0];let tmp2;if(_g9._hx_index==18){let _gconstructs=_g9.proto.constructs;tmp2=_gconstructs.length==1&&_gconstructs[0].name==""}else{tmp2=false}tmp1=!tmp2}else{tmp1=false}if(tmp1){this.args[0].hasIndex=false}this.assigns=new haxe_ds_IntMap;let _g7=0;let _g8=this.fun.assigns;while(_g7<_g8.length){let a=_g8[_g7];++_g7;if(a.position<0){continue}let vname=this.module.strings[a.varName];let vl=this.assigns.m.get(a.position);if(vl==null){vl=[];this.assigns.m.set(a.position,vl)}vl.push(vname)}let jsIterator=this.blockPos.m.values();let b_jsIterator=jsIterator;let b_lastStep=jsIterator.next();while(!b_lastStep.done){let v=b_lastStep.value;b_lastStep=b_jsIterator.next();let b=v;this.checkWrites(b)}while(true){let changed=false;let jsIterator2=this.blockPos.m.values();let b_jsIterator2=jsIterator2;let b_lastStep2=jsIterator2.next();while(!b_lastStep2.done){let v=b_lastStep2.value;b_lastStep2=b_jsIterator2.next();let b=v;let _g9=0;let _g12=b.prev;while(_g9<_g12.length){let b2=_g12[_g9];++_g9;let jsIterator3=b2.writtenRegs.m.keys();let rid_jsIterator=jsIterator3;let rid_lastStep=jsIterator3.next();while(!rid_lastStep.done){let v2=rid_lastStep.value;rid_lastStep=rid_jsIterator.next();let rid=v2;let pos=b2.writtenRegs.m.get(rid);let cur=b.writtenRegs.m.get(rid);if(cur==null||cur>pos){b.writtenRegs.m.set(rid,pos);changed=true}}}}if(!changed){break}}}getBlock(pos){let bpos=pos;let b;while(true){b=this.blockPos.m.get(bpos);if(!(b==null)){break}--bpos}return b}getNextPos(pos){let b=this.getBlock(pos);if(pos==b.end){let _this=b.next;let result=new Array(_this.length);let _g=0;let _g1=_this.length;while(_g<_g1){let i=_g++;result[i]=_this[i].start}return result}return b.trap.concat([pos+1])}isRegisterWritten(rid,pos){if(rid<this.nargs){return true}let b=this.getBlock(pos);let rpos=b.writtenRegs.m.get(rid);return rpos!=null&&rpos<pos}getArgs(){return this.filterRaw(this.getArgsRaw())}getLocals(pos){return this.filterRaw(this.getLocalsRaw(pos))}filterRaw(raw){let arr=[];let _g=0;while(_g<raw.length){let a=raw[_g];++_g;let name=a.split(".")[0];if(arr.indexOf(name)>=0){continue}arr.push(name)}return arr}getArgsRaw(){let arr=[];let _g=0;let _g1=this.args;while(_g<_g1.length){let a=_g1[_g];++_g;let _g2=0;let _g3=a.vars;while(_g2<_g3.length){let v=_g3[_g2];++_g2;arr.push(v)}}return arr}getLocalsRaw(pos){if(pos==this.localsRawCachePos){return this.localsRawCache}let arr=[];let _g=0;let _g1=this.fun.assigns;while(_g<_g1.length){let a=_g1[_g];++_g;if(a.position>pos){break}if(a.position<0){continue}if(arr.indexOf(a.varName)>=0){continue}if(this.getLocal(this.module.strings[a.varName],pos)==null){continue}arr.push(a.varName)}this.localsRawCachePos=pos;let _g2=[];let _g3=0;while(_g3<arr.length){let a=arr[_g3];++_g3;_g2.push(this.module.strings[a])}this.localsRawCache=_g2;return this.localsRawCache}getReturnReg(pos){let _g=this.fun.ops[pos];switch(_g._hx_index){case 24:let dst=_g.dst;if(this.fun.regs[dst]!=format_hl_HLType.HVoid){return this.fun.regs[dst]}break;case 25:let dst1=_g.dst;if(this.fun.regs[dst1]!=format_hl_HLType.HVoid){return this.fun.regs[dst1]}break;case 26:let dst2=_g.dst;if(this.fun.regs[dst2]!=format_hl_HLType.HVoid){return this.fun.regs[dst2]}break;case 27:let dst3=_g.dst;if(this.fun.regs[dst3]!=format_hl_HLType.HVoid){return this.fun.regs[dst3]}break;case 28:let dst4=_g.dst;if(this.fun.regs[dst4]!=format_hl_HLType.HVoid){return this.fun.regs[dst4]}break;case 29:let dst5=_g.dst;if(this.fun.regs[dst5]!=format_hl_HLType.HVoid){return this.fun.regs[dst5]}break;case 30:let dst6=_g.dst;if(this.fun.regs[dst6]!=format_hl_HLType.HVoid){return this.fun.regs[dst6]}break;case 31:let dst7=_g.dst;if(this.fun.regs[dst7]!=format_hl_HLType.HVoid){return this.fun.regs[dst7]}break;case 32:let dst8=_g.dst;if(this.fun.regs[dst8]!=format_hl_HLType.HVoid){return this.fun.regs[dst8]}break;default:}return null}getLocal(name,pos){let b=this.getBlock(pos);this.currentTag++;let l=this.lookupLocal(b,name,pos);if(l!=null){return l}let _g=0;let _g1=this.args.length;while(_g<_g1){let i=_g++;let a=this.args[i];let _g12=0;let _g2=a.vars.length;while(_g12<_g2){let k=_g12++;if(a.vars[k]==name){if(!a.hasIndex){return{rid:i,t:this.fun.regs[i]}}let en=null;let t;let _g3=this.fun.regs[i];if(_g3._hx_index==18){let e=_g3.proto;en=e;t=e.constructs[0].params[k]}else{throw haxe_Exception.thrown("assert")}return{rid:i,index:k,container:en,t:t}}}}return null}lookupLocal(b,name,pos){if(b.visitTag==this.currentTag){return b.visitResult}b.visitTag=this.currentTag;let v=b.writtenVars.m.get(name);if(v!=null){let last=-1;let _g2=0;while(_g2<v.length){let p=v[_g2];++_g2;if(p<pos){last=p}else if(last<0){break}}if(last>=0){let rid=-1;let op=this.fun.ops[last];switch(op._hx_index){case 0:let d=op.dst;let a=op.a;rid=d;break;case 1:let d1=op.dst;rid=d1;break;case 2:let d2=op.dst;rid=d2;break;case 3:let d3=op.dst;rid=d3;break;case 4:let d4=op.dst;rid=d4;break;case 5:let d5=op.dst;rid=d5;break;case 6:let d6=op.dst;rid=d6;break;case 7:let d7=op.dst;let a1=op.a;let b1=op.b;rid=d7;break;case 8:let d8=op.dst;let a2=op.a;let b2=op.b;rid=d8;break;case 9:let d9=op.dst;let a3=op.a;let b3=op.b;rid=d9;break;case 10:let d10=op.dst;let a4=op.a;let b4=op.b;rid=d10;break;case 11:let d11=op.dst;let a5=op.a;let b5=op.b;rid=d11;break;case 12:let d12=op.dst;let a6=op.a;let b6=op.b;rid=d12;break;case 13:let d13=op.dst;let a7=op.a;let b7=op.b;rid=d13;break;case 14:let d14=op.dst;let a8=op.a;let b8=op.b;rid=d14;break;case 15:let d15=op.dst;let a9=op.a;let b9=op.b;rid=d15;break;case 16:let d16=op.dst;let a10=op.a;let b10=op.b;rid=d16;break;case 17:let d17=op.dst;let a11=op.a;let b11=op.b;rid=d17;break;case 18:let d18=op.dst;let a12=op.a;let b12=op.b;rid=d18;break;case 19:let d19=op.dst;let a13=op.a;let b13=op.b;rid=d19;break;case 20:let d20=op.dst;let a14=op.a;rid=d20;break;case 21:let d21=op.dst;let a15=op.a;rid=d21;break;case 22:let a16=op.dst;rid=a16;break;case 23:let a17=op.dst;rid=a17;break;case 24:let d22=op.dst;rid=d22;break;case 25:let d23=op.dst;let a18=op.a;rid=d23;break;case 26:let d24=op.dst;let a19=op.a;let b14=op.b;rid=d24;break;case 27:let d25=op.dst;let a20=op.a;let b15=op.b;let c=op.c;rid=d25;break;case 28:let d26=op.dst;let a21=op.a;let b16=op.b;let c1=op.c;let k=op.d;rid=d26;break;case 29:let d27=op.dst;let rl=op.args;let _g3=0;while(_g3<rl.length){let r14=rl[_g3];++_g3}rid=d27;break;case 30:let d28=op.dst;let rl1=op.args;let _g12=0;while(_g12<rl1.length){let r14=rl1[_g12];++_g12}rid=d28;break;case 31:let d29=op.dst;let rl2=op.args;let _g22=0;while(_g22<rl2.length){let r14=rl2[_g22];++_g22}rid=d29;break;case 32:let d30=op.dst;let f=op.obj;let rl3=op.args;let _g32=0;while(_g32<rl3.length){let r14=rl3[_g32];++_g32}rid=d30;break;case 33:let d31=op.dst;rid=d31;break;case 34:let d32=op.dst;let a22=op.a;rid=d32;break;case 35:let d33=op.dst;let a23=op.a;rid=d33;break;case 36:let d34=op.dst;rid=d34;break;case 37:let a24=op.a;break;case 38:let d35=op.dst;let a25=op.a;rid=d35;break;case 39:let a26=op.dst;let b17=op.a;break;case 40:let d36=op.dst;rid=d36;break;case 41:let a27=op.a;break;case 42:let d37=op.dst;let a28=op.a;rid=d37;break;case 43:let a29=op.dst;let b18=op.a;break;case 44:let r=op.dst;break;case 45:let r1=op.dst;break;case 46:let r2=op.dst;break;case 47:let r3=op.dst;break;case 48:let a30=op.dst;let b19=op.a;break;case 49:let a31=op.dst;let b20=op.a;break;case 50:let a32=op.dst;let b21=op.a;break;case 51:let a33=op.dst;let b22=op.a;break;case 52:let a34=op.dst;let b23=op.a;break;case 53:let a35=op.dst;let b24=op.a;break;case 54:let a36=op.dst;let b25=op.a;break;case 55:let a37=op.dst;let b26=op.a;break;case 56:let a38=op.dst;let b27=op.a;break;case 57:let a39=op.dst;let b28=op.a;break;case 58:break;case 59:let d38=op.dst;let a40=op.a;rid=d38;break;case 60:let d39=op.dst;let a41=op.a;rid=d39;break;case 61:let d40=op.dst;let a42=op.a;rid=d40;break;case 62:let d41=op.dst;let a43=op.a;rid=d41;break;case 63:let d42=op.dst;let a44=op.a;rid=d42;break;case 64:let d43=op.dst;let a45=op.a;rid=d43;break;case 65:let d44=op.dst;let a46=op.a;rid=d44;break;case 66:break;case 67:let r4=op.dst;break;case 68:let r5=op.dst;break;case 69:let r6=op.dst;break;case 70:let r7=op.dst;break;case 71:let r8=op.dst;break;case 72:let r9=op.dst;rid=r9;break;case 73:break;case 74:let d45=op.dst;let a47=op.a;let b29=op.b;rid=d45;break;case 75:let d46=op.dst;let a48=op.a;let b30=op.b;rid=d46;break;case 76:let d47=op.dst;let a49=op.a;let b31=op.b;rid=d47;break;case 77:let d48=op.dst;let a50=op.a;let b32=op.b;rid=d48;break;case 78:let a51=op.dst;let b33=op.a;let c2=op.b;break;case 79:let a52=op.dst;let b34=op.a;let c3=op.b;break;case 80:let a53=op.dst;let b35=op.a;let c4=op.b;break;case 81:let a54=op.dst;let b36=op.a;let c5=op.b;break;case 82:let d49=op.dst;rid=d49;break;case 83:let d50=op.dst;let a55=op.a;rid=d50;break;case 84:let d51=op.dst;rid=d51;break;case 85:let d52=op.dst;let a56=op.a;rid=d52;break;case 86:let d53=op.dst;let a57=op.a;rid=d53;break;case 87:let d54=op.dst;let a58=op.a;rid=d54;break;case 88:let d55=op.dst;let a59=op.a;rid=d55;break;case 89:let d56=op.dst;let a60=op.a;rid=d56;break;case 90:let d57=op.dst;let rl4=op.a;let _g4=0;while(_g4<rl4.length){let r14=rl4[_g4];++_g4}rid=d57;break;case 91:let d58=op.dst;rid=d58;break;case 92:let d59=op.dst;let a61=op.a;rid=d59;break;case 93:let d60=op.dst;let a62=op.a;rid=d60;break;case 94:let a63=op.dst;let b37=op.a;break;case 95:break;case 96:let r10=op.dst;let d61=op.src;rid=r10;break;case 97:let r11=op.dst;let r21=op.src;let off=op.offset;rid=r11;break;case 98:break;case 99:let r12=op.r;break;case 100:let ropt=op.r;let r13=format_hl_RegOpt.getReg(ropt);if(r13!=null){rid=r13}break;case 101:break}return b.visitResult={rid:rid,t:this.fun.regs[rid]}}}let found=null;let _g=0;let _g1=b.prev;while(_g<_g1.length){let b2=_g1[_g];++_g;if(b2.start<b.start){let l=this.lookupLocal(b2,name,pos);if(found!=null&&(l==null||l.rid!=found.rid)){return b.visitResult=null}found=l}}return b.visitResult=found}checkWrites(b){let _g=b.start;let _g1=b.end+1;while(_g<_g1){let i=_g++;let op=this.fun.ops[i];switch(op._hx_index){case 0:let d=op.dst;let a=op.a;if(!b.writtenRegs.m.has(d)){b.writtenRegs.m.set(d,i)}break;case 1:let d1=op.dst;if(!b.writtenRegs.m.has(d1)){b.writtenRegs.m.set(d1,i)}break;case 2:let d2=op.dst;if(!b.writtenRegs.m.has(d2)){b.writtenRegs.m.set(d2,i)}break;case 3:let d3=op.dst;if(!b.writtenRegs.m.has(d3)){b.writtenRegs.m.set(d3,i)}break;case 4:let d4=op.dst;if(!b.writtenRegs.m.has(d4)){b.writtenRegs.m.set(d4,i)}break;case 5:let d5=op.dst;if(!b.writtenRegs.m.has(d5)){b.writtenRegs.m.set(d5,i)}break;case 6:let d6=op.dst;if(!b.writtenRegs.m.has(d6)){b.writtenRegs.m.set(d6,i)}break;case 7:let d7=op.dst;let a1=op.a;let b1=op.b;if(!b.writtenRegs.m.has(d7)){b.writtenRegs.m.set(d7,i)}break;case 8:let d8=op.dst;let a2=op.a;let b2=op.b;if(!b.writtenRegs.m.has(d8)){b.writtenRegs.m.set(d8,i)}break;case 9:let d9=op.dst;let a3=op.a;let b3=op.b;if(!b.writtenRegs.m.has(d9)){b.writtenRegs.m.set(d9,i)}break;case 10:let d10=op.dst;let a4=op.a;let b4=op.b;if(!b.writtenRegs.m.has(d10)){b.writtenRegs.m.set(d10,i)}break;case 11:let d11=op.dst;let a5=op.a;let b5=op.b;if(!b.writtenRegs.m.has(d11)){b.writtenRegs.m.set(d11,i)}break;case 12:let d12=op.dst;let a6=op.a;let b6=op.b;if(!b.writtenRegs.m.has(d12)){b.writtenRegs.m.set(d12,i)}break;case 13:let d13=op.dst;let a7=op.a;let b7=op.b;if(!b.writtenRegs.m.has(d13)){b.writtenRegs.m.set(d13,i)}break;case 14:let d14=op.dst;let a8=op.a;let b8=op.b;if(!b.writtenRegs.m.has(d14)){b.writtenRegs.m.set(d14,i)}break;case 15:let d15=op.dst;let a9=op.a;let b9=op.b;if(!b.writtenRegs.m.has(d15)){b.writtenRegs.m.set(d15,i)}break;case 16:let d16=op.dst;let a10=op.a;let b10=op.b;if(!b.writtenRegs.m.has(d16)){b.writtenRegs.m.set(d16,i)}break;case 17:let d17=op.dst;let a11=op.a;let b11=op.b;if(!b.writtenRegs.m.has(d17)){b.writtenRegs.m.set(d17,i)}break;case 18:let d18=op.dst;let a12=op.a;let b12=op.b;if(!b.writtenRegs.m.has(d18)){b.writtenRegs.m.set(d18,i)}break;case 19:let d19=op.dst;let a13=op.a;let b13=op.b;if(!b.writtenRegs.m.has(d19)){b.writtenRegs.m.set(d19,i)}break;case 20:let d20=op.dst;let a14=op.a;if(!b.writtenRegs.m.has(d20)){b.writtenRegs.m.set(d20,i)}break;case 21:let d21=op.dst;let a15=op.a;if(!b.writtenRegs.m.has(d21)){b.writtenRegs.m.set(d21,i)}break;case 22:let a16=op.dst;if(!b.writtenRegs.m.has(a16)){b.writtenRegs.m.set(a16,i)}break;case 23:let a17=op.dst;if(!b.writtenRegs.m.has(a17)){b.writtenRegs.m.set(a17,i)}break;case 24:let d22=op.dst;if(!b.writtenRegs.m.has(d22)){b.writtenRegs.m.set(d22,i)}break;case 25:let d23=op.dst;let a18=op.a;if(!b.writtenRegs.m.has(d23)){b.writtenRegs.m.set(d23,i)}break;case 26:let d24=op.dst;let a19=op.a;let b14=op.b;if(!b.writtenRegs.m.has(d24)){b.writtenRegs.m.set(d24,i)}break;case 27:let d25=op.dst;let a20=op.a;let b15=op.b;let c=op.c;if(!b.writtenRegs.m.has(d25)){b.writtenRegs.m.set(d25,i)}break;case 28:let d26=op.dst;let a21=op.a;let b16=op.b;let c1=op.c;let k=op.d;if(!b.writtenRegs.m.has(d26)){b.writtenRegs.m.set(d26,i)}break;case 29:let d27=op.dst;let rl=op.args;let _g12=0;while(_g12<rl.length){let r14=rl[_g12];++_g12}if(!b.writtenRegs.m.has(d27)){b.writtenRegs.m.set(d27,i)}break;case 30:let d28=op.dst;let rl1=op.args;let _g2=0;while(_g2<rl1.length){let r14=rl1[_g2];++_g2}if(!b.writtenRegs.m.has(d28)){b.writtenRegs.m.set(d28,i)}break;case 31:let d29=op.dst;let rl2=op.args;let _g3=0;while(_g3<rl2.length){let r14=rl2[_g3];++_g3}if(!b.writtenRegs.m.has(d29)){b.writtenRegs.m.set(d29,i)}break;case 32:let d30=op.dst;let f=op.obj;let rl3=op.args;let _g4=0;while(_g4<rl3.length){let r14=rl3[_g4];++_g4}if(!b.writtenRegs.m.has(d30)){b.writtenRegs.m.set(d30,i)}break;case 33:let d31=op.dst;if(!b.writtenRegs.m.has(d31)){b.writtenRegs.m.set(d31,i)}break;case 34:let d32=op.dst;let a22=op.a;if(!b.writtenRegs.m.has(d32)){b.writtenRegs.m.set(d32,i)}break;case 35:let d33=op.dst;let a23=op.a;if(!b.writtenRegs.m.has(d33)){b.writtenRegs.m.set(d33,i)}break;case 36:let d34=op.dst;if(!b.writtenRegs.m.has(d34)){b.writtenRegs.m.set(d34,i)}break;case 37:let a24=op.a;break;case 38:let d35=op.dst;let a25=op.a;if(!b.writtenRegs.m.has(d35)){b.writtenRegs.m.set(d35,i)}break;case 39:let a26=op.dst;let b17=op.a;break;case 40:let d36=op.dst;if(!b.writtenRegs.m.has(d36)){b.writtenRegs.m.set(d36,i)}break;case 41:let a27=op.a;break;case 42:let d37=op.dst;let a28=op.a;if(!b.writtenRegs.m.has(d37)){b.writtenRegs.m.set(d37,i)}break;case 43:let a29=op.dst;let b18=op.a;break;case 44:let r=op.dst;break;case 45:let r1=op.dst;break;case 46:let r2=op.dst;break;case 47:let r3=op.dst;break;case 48:let a30=op.dst;let b19=op.a;break;case 49:let a31=op.dst;let b20=op.a;break;case 50:let a32=op.dst;let b21=op.a;break;case 51:let a33=op.dst;let b22=op.a;break;case 52:let a34=op.dst;let b23=op.a;break;case 53:let a35=op.dst;let b24=op.a;break;case 54:let a36=op.dst;let b25=op.a;break;case 55:let a37=op.dst;let b26=op.a;break;case 56:let a38=op.dst;let b27=op.a;break;case 57:let a39=op.dst;let b28=op.a;break;case 58:break;case 59:let d38=op.dst;let a40=op.a;if(!b.writtenRegs.m.has(d38)){b.writtenRegs.m.set(d38,i)}break;case 60:let d39=op.dst;let a41=op.a;if(!b.writtenRegs.m.has(d39)){b.writtenRegs.m.set(d39,i)}break;case 61:let d40=op.dst;let a42=op.a;if(!b.writtenRegs.m.has(d40)){b.writtenRegs.m.set(d40,i)}break;case 62:let d41=op.dst;let a43=op.a;if(!b.writtenRegs.m.has(d41)){b.writtenRegs.m.set(d41,i)}break;case 63:let d42=op.dst;let a44=op.a;if(!b.writtenRegs.m.has(d42)){b.writtenRegs.m.set(d42,i)}break;case 64:let d43=op.dst;let a45=op.a;if(!b.writtenRegs.m.has(d43)){b.writtenRegs.m.set(d43,i)}break;case 65:let d44=op.dst;let a46=op.a;if(!b.writtenRegs.m.has(d44)){b.writtenRegs.m.set(d44,i)}break;case 66:break;case 67:let r4=op.dst;break;case 68:let r5=op.dst;break;case 69:let r6=op.dst;break;case 70:let r7=op.dst;break;case 71:let r8=op.dst;break;case 72:let r9=op.dst;if(!b.writtenRegs.m.has(r9)){b.writtenRegs.m.set(r9,i)}break;case 73:break;case 74:let d45=op.dst;let a47=op.a;let b29=op.b;if(!b.writtenRegs.m.has(d45)){b.writtenRegs.m.set(d45,i)}break;case 75:let d46=op.dst;let a48=op.a;let b30=op.b;if(!b.writtenRegs.m.has(d46)){b.writtenRegs.m.set(d46,i)}break;case 76:let d47=op.dst;let a49=op.a;let b31=op.b;if(!b.writtenRegs.m.has(d47)){b.writtenRegs.m.set(d47,i)}break;case 77:let d48=op.dst;let a50=op.a;let b32=op.b;if(!b.writtenRegs.m.has(d48)){b.writtenRegs.m.set(d48,i)}break;case 78:let a51=op.dst;let b33=op.a;let c2=op.b;break;case 79:let a52=op.dst;let b34=op.a;let c3=op.b;break;case 80:let a53=op.dst;let b35=op.a;let c4=op.b;break;case 81:let a54=op.dst;let b36=op.a;let c5=op.b;break;case 82:let d49=op.dst;if(!b.writtenRegs.m.has(d49)){b.writtenRegs.m.set(d49,i)}break;case 83:let d50=op.dst;let a55=op.a;if(!b.writtenRegs.m.has(d50)){b.writtenRegs.m.set(d50,i)}break;case 84:let d51=op.dst;if(!b.writtenRegs.m.has(d51)){b.writtenRegs.m.set(d51,i)}break;case 85:let d52=op.dst;let a56=op.a;if(!b.writtenRegs.m.has(d52)){b.writtenRegs.m.set(d52,i)}break;case 86:let d53=op.dst;let a57=op.a;if(!b.writtenRegs.m.has(d53)){b.writtenRegs.m.set(d53,i)}break;case 87:let d54=op.dst;let a58=op.a;if(!b.writtenRegs.m.has(d54)){b.writtenRegs.m.set(d54,i)}break;case 88:let d55=op.dst;let a59=op.a;if(!b.writtenRegs.m.has(d55)){b.writtenRegs.m.set(d55,i)}break;case 89:let d56=op.dst;let a60=op.a;if(!b.writtenRegs.m.has(d56)){b.writtenRegs.m.set(d56,i)}break;case 90:let d57=op.dst;let rl4=op.a;let _g5=0;while(_g5<rl4.length){let r14=rl4[_g5];++_g5}if(!b.writtenRegs.m.has(d57)){b.writtenRegs.m.set(d57,i)}break;case 91:let d58=op.dst;if(!b.writtenRegs.m.has(d58)){b.writtenRegs.m.set(d58,i)}break;case 92:let d59=op.dst;let a61=op.a;if(!b.writtenRegs.m.has(d59)){b.writtenRegs.m.set(d59,i)}break;case 93:let d60=op.dst;let a62=op.a;if(!b.writtenRegs.m.has(d60)){b.writtenRegs.m.set(d60,i)}break;case 94:let a63=op.dst;let b37=op.a;break;case 95:break;case 96:let r10=op.dst;let d61=op.src;if(!b.writtenRegs.m.has(r10)){b.writtenRegs.m.set(r10,i)}break;case 97:let r11=op.dst;let r21=op.src;let off=op.offset;if(!b.writtenRegs.m.has(r11)){b.writtenRegs.m.set(r11,i)}break;case 98:break;case 99:let r12=op.r;break;case 100:let ropt=op.r;let r13=format_hl_RegOpt.getReg(ropt);if(r13!=null){if(!b.writtenRegs.m.has(r13)){b.writtenRegs.m.set(r13,i)}}break;case 101:break}let vl=this.assigns.m.get(i);if(vl==null){continue}let _g6=0;while(_g6<vl.length){let v=vl[_g6];++_g6;let wl=b.writtenVars.m.get(v);if(wl==null){wl=[];b.writtenVars.m.set(v,wl)}wl.push(i)}}}makeBlock(pos,trapl){let b=this.blockPos.m.get(pos);if(b!=null){return b}let b1=new hld_CodeBlock(pos,trapl);this.blockPos.m.set(pos,b1);let i=pos;let _gthis=this;while(true){if(i>pos&&this.allBlocks.m.has(i)){b1.end=i-1;let tl=null;let b2=_gthis.makeBlock(i+1+-1,tl==null?b1.trap:tl);b2.prev.push(b1);b1.next=[b2];break}let _g=this.control(i);switch(_g._hx_index){case 0:++i;continue;case 1:let d=_g.d;b1.end=i;let tl=null;let b2=_gthis.makeBlock(i+1,tl==null?b1.trap:tl);b2.prev.push(b1);let tl1=null;let b21=_gthis.makeBlock(i+1+d,tl1==null?b1.trap:tl1);b21.prev.push(b1);b1.next=[b2,b21];break;case 2:let d1=_g.d;b1.end=i;let tl2=null;let b22=_gthis.makeBlock(i+1+d1,tl2==null?b1.trap:tl2);b22.prev.push(b1);b1.next=[b22];break;case 3:let d2=_g.d;b1.end=i;let tl3=b1.trap.slice();tl3.push(i+1+d2);let b23=_gthis.makeBlock(i+1,tl3==null?b1.trap:tl3);b23.prev.push(b1);let tl4=null;let b24=_gthis.makeBlock(i+1+d2,tl4==null?b1.trap:tl4);b24.prev.push(b1);b1.next=[b23,b24];break;case 4:if(b1.trap.length==0){throw haxe_Exception.thrown("assert")}let tl5=b1.trap.slice();let p=tl5.pop();b1.end=i;let b25=_gthis.makeBlock(i+1,tl5==null?b1.trap:tl5);b25.prev.push(b1);let b26=_gthis.makeBlock(i+1+(p-1-i),tl5==null?b1.trap:tl5);b26.prev.push(b1);b1.next=[b25,b26];break;case 5:let pl=_g.arr;b1.end=i;let b3=b1.next;let tl6=null;let b27=_gthis.makeBlock(i+1,tl6==null?b1.trap:tl6);b27.prev.push(b1);b3.push(b27);let _g1=0;while(_g1<pl.length){let p2=pl[_g1];++_g1;let b4=b1.next;let tl7=null;let b28=_gthis.makeBlock(i+1+p2,tl7==null?b1.trap:tl7);b28.prev.push(b1);b4.push(b28)}break;case 6:if(b1.trap.length!=0){throw haxe_Exception.thrown("assert")}b1.end=i;break;case 7:b1.end=i;if(b1.trap.length>0){let tl7=b1.trap.slice();let p2=tl7.pop();let b28=_gthis.makeBlock(i+1+(p2-1-i),tl7==null?b1.trap:tl7);b28.prev.push(b1);b1.next=[b28]}break;case 8:++i;b1.loop=true;continue;case 9:++i;continue}break}return b1}control(i){let _g=this.fun.ops[i];switch(_g._hx_index){case 24:let idx=_g.i;return hld__$CodeGraph_Control.CCall(idx);case 25:let idx1=_g.i;return hld__$CodeGraph_Control.CCall(idx1);case 26:let idx2=_g.i;return hld__$CodeGraph_Control.CCall(idx2);case 27:let idx3=_g.i;return hld__$CodeGraph_Control.CCall(idx3);case 28:let idx4=_g.i;return hld__$CodeGraph_Control.CCall(idx4);case 29:let idx5=_g.i;return hld__$CodeGraph_Control.CCall(idx5);case 30:return hld__$CodeGraph_Control.CCall(-1);case 31:return hld__$CodeGraph_Control.CCall(-1);case 32:return hld__$CodeGraph_Control.CCall(-1);case 44:let d=_g.offset;return hld__$CodeGraph_Control.CJCond(d);case 45:let d1=_g.offset;return hld__$CodeGraph_Control.CJCond(d1);case 46:let d2=_g.offset;return hld__$CodeGraph_Control.CJCond(d2);case 47:let d3=_g.offset;return hld__$CodeGraph_Control.CJCond(d3);case 48:let d4=_g.offset;return hld__$CodeGraph_Control.CJCond(d4);case 49:let d5=_g.offset;return hld__$CodeGraph_Control.CJCond(d5);case 50:let d6=_g.offset;return hld__$CodeGraph_Control.CJCond(d6);case 51:let d7=_g.offset;return hld__$CodeGraph_Control.CJCond(d7);case 52:let d8=_g.offset;return hld__$CodeGraph_Control.CJCond(d8);case 53:let d9=_g.offset;return hld__$CodeGraph_Control.CJCond(d9);case 54:let d10=_g.offset;return hld__$CodeGraph_Control.CJCond(d10);case 55:let d11=_g.offset;return hld__$CodeGraph_Control.CJCond(d11);case 56:let d12=_g.offset;return hld__$CodeGraph_Control.CJCond(d12);case 57:let d13=_g.offset;return hld__$CodeGraph_Control.CJCond(d13);case 58:let d14=_g.offset;return hld__$CodeGraph_Control.CJAlways(d14);case 66:return hld__$CodeGraph_Control.CLabel;case 67:return hld__$CodeGraph_Control.CRet;case 68:return hld__$CodeGraph_Control.CThrow;case 69:return hld__$CodeGraph_Control.CThrow;case 70:let cases=_g.cases;return hld__$CodeGraph_Control.CSwitch(cases);case 72:let d15=_g.end;return hld__$CodeGraph_Control.CTry(d15);case 73:return hld__$CodeGraph_Control.CCatch;default:return hld__$CodeGraph_Control.CNo}}opFx(op,read,write){switch(op._hx_index){case 0:let d=op.dst;let a=op.a;read(a);write(d);break;case 1:let d1=op.dst;write(d1);break;case 2:let d2=op.dst;write(d2);break;case 3:let d3=op.dst;write(d3);break;case 4:let d4=op.dst;write(d4);break;case 5:let d5=op.dst;write(d5);break;case 6:let d6=op.dst;write(d6);break;case 7:let d7=op.dst;let a1=op.a;let b=op.b;read(a1);read(b);write(d7);break;case 8:let d8=op.dst;let a2=op.a;let b1=op.b;read(a2);read(b1);write(d8);break;case 9:let d9=op.dst;let a3=op.a;let b2=op.b;read(a3);read(b2);write(d9);break;case 10:let d10=op.dst;let a4=op.a;let b3=op.b;read(a4);read(b3);write(d10);break;case 11:let d11=op.dst;let a5=op.a;let b4=op.b;read(a5);read(b4);write(d11);break;case 12:let d12=op.dst;let a6=op.a;let b5=op.b;read(a6);read(b5);write(d12);break;case 13:let d13=op.dst;let a7=op.a;let b6=op.b;read(a7);read(b6);write(d13);break;case 14:let d14=op.dst;let a8=op.a;let b7=op.b;read(a8);read(b7);write(d14);break;case 15:let d15=op.dst;let a9=op.a;let b8=op.b;read(a9);read(b8);write(d15);break;case 16:let d16=op.dst;let a10=op.a;let b9=op.b;read(a10);read(b9);write(d16);break;case 17:let d17=op.dst;let a11=op.a;let b10=op.b;read(a11);read(b10);write(d17);break;case 18:let d18=op.dst;let a12=op.a;let b11=op.b;read(a12);read(b11);write(d18);break;case 19:let d19=op.dst;let a13=op.a;let b12=op.b;read(a13);read(b12);write(d19);break;case 20:let d20=op.dst;let a14=op.a;read(a14);write(d20);break;case 21:let d21=op.dst;let a15=op.a;read(a15);write(d21);break;case 22:let a16=op.dst;read(a16);write(a16);break;case 23:let a17=op.dst;read(a17);write(a17);break;case 24:let d22=op.dst;write(d22);break;case 25:let d23=op.dst;let a18=op.a;read(a18);write(d23);break;case 26:let d24=op.dst;let a19=op.a;let b13=op.b;read(a19);read(b13);write(d24);break;case 27:let d25=op.dst;let a20=op.a;let b14=op.b;let c=op.c;read(a20);read(b14);read(c);write(d25);break;case 28:let d26=op.dst;let a21=op.a;let b15=op.b;let c1=op.c;let k=op.d;read(a21);read(b15);read(c1);read(k);write(d26);break;case 29:let d27=op.dst;let rl=op.args;let _g=0;while(_g<rl.length){let r14=rl[_g];++_g;read(r14)}write(d27);break;case 30:let d28=op.dst;let rl1=op.args;let _g1=0;while(_g1<rl1.length){let r14=rl1[_g1];++_g1;read(r14)}write(d28);break;case 31:let d29=op.dst;let rl2=op.args;let _g2=0;while(_g2<rl2.length){let r14=rl2[_g2];++_g2;read(r14)}write(d29);break;case 32:let d30=op.dst;let f=op.obj;let rl3=op.args;read(f);let _g3=0;while(_g3<rl3.length){let r14=rl3[_g3];++_g3;read(r14)}write(d30);break;case 33:let d31=op.dst;write(d31);break;case 34:let d32=op.dst;let a22=op.a;read(a22);write(d32);break;case 35:let d33=op.dst;let a23=op.a;read(a23);write(d33);break;case 36:let d34=op.dst;write(d34);break;case 37:let a24=op.a;read(a24);break;case 38:let d35=op.dst;let a25=op.a;read(a25);write(d35);break;case 39:let a26=op.dst;let b16=op.a;read(a26);read(b16);break;case 40:let d36=op.dst;write(d36);break;case 41:let a27=op.a;read(a27);break;case 42:let d37=op.dst;let a28=op.a;read(a28);write(d37);break;case 43:let a29=op.dst;let b17=op.a;read(a29);read(b17);break;case 44:let r=op.dst;read(r);break;case 45:let r1=op.dst;read(r1);break;case 46:let r2=op.dst;read(r2);break;case 47:let r3=op.dst;read(r3);break;case 48:let a30=op.dst;let b18=op.a;read(a30);read(b18);break;case 49:let a31=op.dst;let b19=op.a;read(a31);read(b19);break;case 50:let a32=op.dst;let b20=op.a;read(a32);read(b20);break;case 51:let a33=op.dst;let b21=op.a;read(a33);read(b21);break;case 52:let a34=op.dst;let b22=op.a;read(a34);read(b22);break;case 53:let a35=op.dst;let b23=op.a;read(a35);read(b23);break;case 54:let a36=op.dst;let b24=op.a;read(a36);read(b24);break;case 55:let a37=op.dst;let b25=op.a;read(a37);read(b25);break;case 56:let a38=op.dst;let b26=op.a;read(a38);read(b26);break;case 57:let a39=op.dst;let b27=op.a;read(a39);read(b27);break;case 58:break;case 59:let d38=op.dst;let a40=op.a;read(a40);write(d38);break;case 60:let d39=op.dst;let a41=op.a;read(a41);write(d39);break;case 61:let d40=op.dst;let a42=op.a;read(a42);write(d40);break;case 62:let d41=op.dst;let a43=op.a;read(a43);write(d41);break;case 63:let d42=op.dst;let a44=op.a;read(a44);write(d42);break;case 64:let d43=op.dst;let a45=op.a;read(a45);write(d43);break;case 65:let d44=op.dst;let a46=op.a;read(a46);write(d44);break;case 66:break;case 67:let r4=op.dst;read(r4);break;case 68:let r5=op.dst;read(r5);break;case 69:let r6=op.dst;read(r6);break;case 70:let r7=op.dst;read(r7);break;case 71:let r8=op.dst;read(r8);break;case 72:let r9=op.dst;write(r9);break;case 73:break;case 74:let d45=op.dst;let a47=op.a;let b28=op.b;read(a47);read(b28);write(d45);break;case 75:let d46=op.dst;let a48=op.a;let b29=op.b;read(a48);read(b29);write(d46);break;case 76:let d47=op.dst;let a49=op.a;let b30=op.b;read(a49);read(b30);write(d47);break;case 77:let d48=op.dst;let a50=op.a;let b31=op.b;read(a50);read(b31);write(d48);break;case 78:let a51=op.dst;let b32=op.a;let c2=op.b;read(a51);read(b32);read(c2);break;case 79:let a52=op.dst;let b33=op.a;let c3=op.b;read(a52);read(b33);read(c3);break;case 80:let a53=op.dst;let b34=op.a;let c4=op.b;read(a53);read(b34);read(c4);break;case 81:let a54=op.dst;let b35=op.a;let c5=op.b;read(a54);read(b35);read(c5);break;case 82:let d49=op.dst;write(d49);break;case 83:let d50=op.dst;let a55=op.a;read(a55);write(d50);break;case 84:let d51=op.dst;write(d51);break;case 85:let d52=op.dst;let a56=op.a;read(a56);write(d52);break;case 86:let d53=op.dst;let a57=op.a;read(a57);write(d53);break;case 87:let d54=op.dst;let a58=op.a;read(a58);write(d54);break;case 88:let d55=op.dst;let a59=op.a;read(a59);write(d55);break;case 89:let d56=op.dst;let a60=op.a;read(a60);write(d56);break;case 90:let d57=op.dst;let rl4=op.a;let _g4=0;while(_g4<rl4.length){let r14=rl4[_g4];++_g4;read(r14)}write(d57);break;case 91:let d58=op.dst;write(d58);break;case 92:let d59=op.dst;let a61=op.a;read(a61);write(d59);break;case 93:let d60=op.dst;let a62=op.a;read(a62);write(d60);break;case 94:let a63=op.dst;let b36=op.a;read(a63);read(b36);break;case 95:break;case 96:let r10=op.dst;let d61=op.src;read(d61);write(r10);break;case 97:let r11=op.dst;let r21=op.src;let off=op.offset;read(r21);read(off);write(r11);break;case 98:break;case 99:let r12=op.r;read(r12);break;case 100:let ropt=op.r;let r13=format_hl_RegOpt.getReg(ropt);if(r13!=null){read(r13);write(r13)}break;case 101:break}}}hld_CodeGraph.__name__="hld.CodeGraph";Object.assign(hld_CodeGraph.prototype,{__class__:hld_CodeGraph});var hld_StepMode=$hxEnums["hld.StepMode"]={__ename__:true,__constructs__:null,Out:{_hx_name:"Out",_hx_index:0,__enum__:"hld.StepMode",toString:$estr},Next:{_hx_name:"Next",_hx_index:1,__enum__:"hld.StepMode",toString:$estr},Into:{_hx_name:"Into",_hx_index:2,__enum__:"hld.StepMode",toString:$estr}};hld_StepMode.__constructs__=[hld_StepMode.Out,hld_StepMode.Next,hld_StepMode.Into];class hld_Address{constructor(ptr,t){this.ptr=ptr;this.t=t}}hld_Address.__name__="hld.Address";Object.assign(hld_Address.prototype,{__class__:hld_Address});class hld_WatchPoint{constructor(addr,regs,forReadWrite){this.addr=addr;this.regs=regs;this.forReadWrite=forReadWrite}}hld_WatchPoint.__name__="hld.WatchPoint";Object.assign(hld_WatchPoint.prototype,{__class__:hld_WatchPoint});class hld_StackRawInfo{constructor(fidx,fpos,codePos,ebp){this.fidx=fidx;this.fpos=fpos;this.codePos=codePos;this.ebp=ebp}}hld_StackRawInfo.__name__="hld.StackRawInfo";Object.assign(hld_StackRawInfo.prototype,{__class__:hld_StackRawInfo});class hld_StackInfo{constructor(file,line,ebp,context){this.file=file;this.line=line;this.ebp=ebp;this.context=context}}hld_StackInfo.__name__="hld.StackInfo";Object.assign(hld_StackInfo.prototype,{__class__:hld_StackInfo});class hld_Debugger{constructor(){this.mainThread=0;this.afterStep=false;this.nextStep=hld_Pointer.make(0,0);this.breakPoints=[];this.watches=[]}set_nextStep(v){if(hld_Debugger.DEBUG){haxe_Log.trace("NEXT STEP "+this.jit.codePtrToString(v),{fileName:"hld/Debugger.hx",lineNumber:96,className:"hld.Debugger",methodName:"set_nextStep"})}return this.nextStep=v}set_currentThread(v){this.currentThread=v;this.eval.currentThread=v;return v}set_stoppedThread(v){return this.stoppedThread=this.set_currentThread(v)}get_is64(){return this.jit.is64}loadModule(content){this.module=new hld_Module;this.module.load(content)}connectTries(host,port,timeout,onResult){if(timeout<=0){onResult(false);return}let ts=Date.now()/1e3;let _gthis=this;this.connect(host,port,function(b){if(b){onResult(true);return}haxe_Timer.delay(function(){_gthis.connectTries(host,port,timeout-(Date.now()/1e3-ts),onResult)},20)})}connect(host,port,onResult){let _gthis=this;let done=function(input){_gthis.jit=new hld_JitInfo;if(!_gthis.jit.read(input,_gthis.module)){_gthis.close();onResult(false);return}_gthis.module.init(_gthis.jit.align);onResult(true)};let inputData=new haxe_io_BytesBuffer;this.sock=new js_node_net_Socket;this.sock.on("data",function(buf){inputData.add(haxe_io_Bytes.ofData(buf.buffer));try{done(new haxe_io_BytesInput(inputData.getBytes()))}catch(_g){haxe_NativeStackTrace.lastError=_g;if(!(haxe_Exception.caught(_g).unwrap()instanceof haxe_io_Eof)){throw _g}}});js_node_Dns.lookup(host,{family:4},function(err,address,family){if(err!=null){onResult(false);return}_gthis.sock.on("error",function(err2){if(onResult!=null){_gthis.close();onResult(false);return}});_gthis.sock.connect(port,address,function(){})})}init(api){this.api=api;this.eval=new hld_Eval(this.module,api,this.jit);this.eval.resumeDebug=$bind(this,this.evalResumeDebug);this.eval.setSingleStep=$bind(this,this.singleStep);if(!api.start()){return false}this.wait();return true}evalResumeDebug(){this.resume();this.wait(false,true)}close(){if(this.sock!=null){this.sock.destroy();this.sock=null}}run(){this.afterStep=false;this.close();if(this.stoppedThread!=null){this.resume()}return this.wait()}getThreads(){let _g=[];let jsIterator=this.threads.m.values();let t_jsIterator=jsIterator;let t_lastStep=jsIterator.next();while(!t_lastStep.done){let v=t_lastStep.value;t_lastStep=t_jsIterator.next();let t=v;_g.push(t.id)}let tl=_g;tl.sort(Reflect2.compare);return tl}setCurrentThread(tid){this.set_currentThread(tid);this.prepareStack()}pause(){if(!this.api.breakpoint()){throw haxe_Exception.thrown("Failed to break process")}let r=this.wait(false,false,true);let found=false;let jsIterator=this.threads.m.values();let t_jsIterator=jsIterator;let t_lastStep=jsIterator.next();while(!t_lastStep.done){let v=t_lastStep.value;t_lastStep=t_jsIterator.next();let t=v;if(t.id==this.stoppedThread){found=true;break}}if(!found){this.set_currentThread(this.mainThread);this.prepareStack()}return r}singleStep(tid,set){if(set==null){set=true}let r=hld_Pointer.toInt(this.getReg(tid,3));if(set){r|=256}else{r&=-257}if(hld_Debugger.DEBUG){haxe_Log.trace("SINGLESTEP "+(set==null?"null":""+set),{fileName:"hld/Debugger.hx",lineNumber:253,className:"hld.Debugger",methodName:"singleStep"})}this.setReg(tid,3,hld_Pointer.make(r,0))}getException(){let t=this.threads.m.get(this.currentThread);if(t==null){return null}let exc=t.exception;if(exc==null||exc.low==0&&exc.high==0){return null}return this.eval.readVal(exc,format_hl_HLType.HDyn)}getVMExceptionStack(){let t=this.threads.m.get(this.currentThread);if(t==null){return null}let stack=t.exceptionStack;if(stack==null){return null}let _gthis=this;let result=new Array(stack.length);let _g=0;let _g1=stack.length;while(_g<_g1){let i=_g++;result[i]=_gthis.stackInfo(stack[i])}return result}hasStack(){return this.currentStack.length>0}getCurrentVars(args){let s=this.currentStack[this.currentStackFrame];if(s==null){return[]}let g=this.module.getGraph(s.fidx);if(args){return g.getArgs()}let locals=g.getLocals(s.fpos);if(this.afterStep&&this.currentStackFrame==0&&g.getReturnReg(s.fpos)!=null){locals.push("$ret")}return locals}getCurrentClass(){let s=this.currentStack[this.currentStackFrame];let ctx=this.module.getMethodContext(s.fidx);if(ctx==null){return null}let name=ctx.obj.name;return name.split("$").join("")}getClassStatics(cl){let v=this.getValue(cl,true);if(v==null){throw haxe_Exception.thrown("No such class "+cl)}let fields=this.eval.getFields(v);HxOverrides.remove(fields,"__name__");HxOverrides.remove(fields,"__type__");HxOverrides.remove(fields,"__meta__");HxOverrides.remove(fields,"__implementedBy__");HxOverrides.remove(fields,"__constructor__");return fields}wait(onSingleStep,onEvalCall,onPause){if(onPause==null){onPause=false}if(onEvalCall==null){onEvalCall=false}if(onSingleStep==null){onSingleStep=false}let cmd=null;let condition=null;this.watchBreak=null;_hx_loop1:while(true){cmd=this.api.wait(this.customTimeout==null?1e3:Math.ceil(this.customTimeout*1e3));if(cmd.r==1&&!onEvalCall&&(this.jit.isCodePtr(this.nextStep)||onSingleStep)){cmd.r=2;this.singleStep(cmd.tid,false)}if(hld_Debugger.DEBUG){switch(cmd.r){case-1:case 4:break;case 0:haxe_Log.trace("EXIT",{fileName:"hld/Debugger.hx",lineNumber:336,className:"hld.Debugger",methodName:"wait"});break;case 1:haxe_Log.trace("BREAK",{fileName:"hld/Debugger.hx",lineNumber:332,className:"hld.Debugger",methodName:"wait"});break;case 2:haxe_Log.trace("STEP",{fileName:"hld/Debugger.hx",lineNumber:334,className:"hld.Debugger",methodName:"wait"});break;case 3:haxe_Log.trace("**** ERROR ****",{fileName:"hld/Debugger.hx",lineNumber:330,className:"hld.Debugger",methodName:"wait"});break;default:haxe_Log.trace(cmd.r,{fileName:"hld/Debugger.hx",lineNumber:339,className:"hld.Debugger",methodName:"wait"})}}let tid=cmd.tid;switch(cmd.r){case 0:this.processExit=true;break _hx_loop1;case 1:let this1=this.getCodePos(tid);let b_high=-1;let b_low=-1;let high=this1.high+b_high|0;let low=this1.low+b_low|0;if(haxe_Int32.ucompare(low,this1.low)<0){let ret=high++;high=high|0}let codePos=new haxe__$Int64__$_$_$Int64(high,low);let _g=0;let _g1=this.breakPoints;while(_g<_g1.length){let b=_g1[_g];++_g;if(hld_Pointer.opEq(b.codePos,codePos)){condition=b.condition;this.setAsm(codePos,b.oldByte);let this12=this.getReg(tid,2);let b_high2=-1;let b_low2=-1;let high2=this12.high+b_high2|0;let low2=this12.low+b_low2|0;if(haxe_Int32.ucompare(low2,this12.low)<0){let ret=high2++;high2=high2|0}this.setReg(tid,2,new haxe__$Int64__$_$_$Int64(high2,low2));this.singleStep(tid);this.set_nextStep(codePos);break}}break _hx_loop1;case 2:if(this.jit.isCodePtr(this.nextStep)){this.setAsm(this.nextStep,204);this.set_nextStep(hld_Pointer.make(0,0))}else if(this.watches.length>0){let dr6=this.api.readRegister(tid,8);let watchBits=hld_Pointer.toInt(dr6)&15;if(watchBits!=0){let _g2=0;let _g12=this.watches;while(_g2<_g12.length){let w=_g12[_g2];++_g2;let _g22=0;let _g3=w.regs;while(_g22<_g3.length){let r=_g3[_g22];++_g22;if((watchBits&1<<hld_Debugger.HW_REGS.indexOf(r.r))!=0){this.watchBreak=w.addr;break}}}this.api.writeRegister(tid,8,hld_Pointer.make(0,0));if(this.watchBreak!=null){cmd.r=256;break _hx_loop1}}}this.set_stoppedThread(tid);if(onSingleStep){return 2}this.resume();break;case-1:case 4:if(this.customTimeout!=null){return cmd.r}break;case 3:case 5:case 256:break _hx_loop1}}this.set_stoppedThread(cmd.tid);if(onEvalCall){return cmd.r}if(this.jit.oldThreadInfos!=null){this.mainThread=this.jit.oldThreadInfos.id}else if(this.mainThread==0){this.mainThread=-1}else if(this.mainThread==-1){this.mainThread=this.stoppedThread}this.readThreads();this.prepareStack(cmd.r==256);this.eval.onBeforeBreak();if(!onSingleStep&&!onEvalCall&&!onPause&&condition!=null){try{let value=this.getValue(condition);if(value!=null){let _g=value.v;if(_g._hx_index==5){let b=_g.b;if(!b){return 4}}}}catch(_g){haxe_NativeStackTrace.lastError=_g;let e=haxe_Exception.caught(_g).unwrap();haxe_Log.trace("Can't evaluate condition ("+condition+") for breakpoint: "+Std.string(e),{fileName:"hld/Debugger.hx",lineNumber:431,className:"hld.Debugger",methodName:"wait"})}}return cmd.r}getThreadName(id,opt){let t=this.threads.m.get(id);if(t==null||t.name==null){if(opt==null){return"Thread "+id}else{return opt}}else{return t.name+":"+id}}readThreads(){let old=this.jit.oldThreadInfos;this.threads=new haxe_ds_IntMap;if(old!=null){let this12=this.threads;let key=old.id;let value={id:old.id,stackTop:old.stackTop,exception:this.eval.readPointer(old.debugExc),name:"Main"};this12.m.set(key,value);return}let count=this.eval.readI32(this.jit.threads);let tinfos=this.eval;let this1=this.jit.threads;let b_high=0;let b_low=8;let high=this1.high+b_high|0;let low=this1.low+b_low|0;if(haxe_Int32.ucompare(low,this1.low)<0){let ret=high++;high=high|0}let tinfos1=tinfos.readPointer(new haxe__$Int64__$_$_$Int64(high,low));let flagsPos=this.jit.align.ptrSize*6+8;let excPos=this.jit.align.ptrSize*5+8;let excTrapPos=this.jit.align.ptrSize*2+8;let excStackCountPos=flagsPos+4;let excStackPos=flagsPos+8+256+(this.jit.hlVersion>=1.13?128:0);let namePos=this.jit.hlVersion>=1.13?flagsPos+8:-1;let _g=0;let _g1=count;while(_g<_g1){let i=_g++;let tinf=this.eval;let pos=this.jit.align.ptrSize*i;let b_high2=pos>>31;let b_low2=pos;let high2=tinfos1.high+b_high2|0;let low2=tinfos1.low+b_low2|0;if(haxe_Int32.ucompare(low2,tinfos1.low)<0){let ret=high2++;high2=high2|0}let tinf1=tinf.readPointer(new haxe__$Int64__$_$_$Int64(high2,low2));let tid=this.eval.readI32(tinf1);let flags=this.eval;let b_high1=flagsPos>>31;let b_low1=flagsPos;let high1=tinf1.high+b_high1|0;let low1=tinf1.low+b_low1|0;if(haxe_Int32.ucompare(low1,tinf1.low)<0){let ret=high1++;high1=high1|0}let flags1=flags.readI32(new haxe__$Int64__$_$_$Int64(high1,low1));if((flags1&16)!=0){continue}if(tid==0){tid=this.mainThread}else if(this.mainThread<=0){this.mainThread=tid}let name=null;if(namePos>=0){let tname=this.eval;let b_high4=namePos>>31;let b_low4=namePos;let high4=tinf1.high+b_high4|0;let low4=tinf1.low+b_low4|0;if(haxe_Int32.ucompare(low4,tinf1.low)<0){let ret=high4++;high4=high4|0}let tname1=tname.readMem(new haxe__$Int64__$_$_$Int64(high4,low4),128).readStringUTF8();if(tname1!=""){name=tname1}}let trapCtx=this.eval;let b_high22=excTrapPos>>31;let b_low22=excTrapPos;let high22=tinf1.high+b_high22|0;let low22=tinf1.low+b_low22|0;if(haxe_Int32.ucompare(low22,tinf1.low)<0){let ret=high22++;high22=high22|0}let trapCtx1=trapCtx.readPointer(new haxe__$Int64__$_$_$Int64(high22,low22));let t=this.eval;let b_high3=0;let b_low3=8;let high3=tinf1.high+b_high3|0;let low3=tinf1.low+b_low3|0;if(haxe_Int32.ucompare(low3,tinf1.low)<0){let ret=high3++;high3=high3|0}let t1=t.readPointer(new haxe__$Int64__$_$_$Int64(high3,low3));let t2;if((flags1&4)==0){t2=null}else{let b_high4=excPos>>31;let b_low4=excPos;let high4=tinf1.high+b_high4|0;let low4=tinf1.low+b_low4|0;if(haxe_Int32.ucompare(low4,tinf1.low)<0){let ret=high4++;high4=high4|0}t2=new haxe__$Int64__$_$_$Int64(high4,low4)}let t3;if((flags1&1)==0){t3=null}else{let b_high4=excStackPos>>31;let b_low4=excStackPos;let high4=tinf1.high+b_high4|0;let low4=tinf1.low+b_low4|0;if(haxe_Int32.ucompare(low4,tinf1.low)<0){let ret=high4++;high4=high4|0}let this12=new haxe__$Int64__$_$_$Int64(high4,low4);let t6=this.eval;let b_high12=excStackCountPos>>31;let b_low12=excStackCountPos;let high12=tinf1.high+b_high12|0;let low12=tinf1.low+b_low12|0;if(haxe_Int32.ucompare(low12,tinf1.low)<0){let ret=high12++;high12=high12|0}t3=this.readVMExceptionStack(this12,t6.readI32(new haxe__$Int64__$_$_$Int64(high12,low12)))}let t4;if(trapCtx1==null||trapCtx1.low==0&&trapCtx1.high==0){t4=null}else{let b=this.eval;let b_high4=0;let b_low4=80;let high4=trapCtx1.high+b_high4|0;let low4=trapCtx1.low+b_low4|0;if(haxe_Int32.ucompare(low4,trapCtx1.low)<0){let ret=high4++;high4=high4|0}t4=b.readPointer(new haxe__$Int64__$_$_$Int64(high4,low4))}let t5={id:tid,stackTop:t1,exception:t2,exceptionStack:t3,exceptionTrap:t4,name:name};this.threads.m.set(tid,t5)}if(!this.threads.m.has(this.currentThread)){this.threads.m.set(this.currentThread,{id:this.currentThread,stackTop:null,exception:null,name:null})}}readVMExceptionStack(base,count){let stack=[];if(count<=0||count>=256||(base==null||base.low==0&&base.high==0)){return stack}let _g=0;let _g1=count;while(_g<_g1){let i=_g++;let codePtr=this.eval;let pos=i*this.jit.align.ptrSize;let b_high=pos>>31;let b_low=pos;let high=base.high+b_high|0;let low=base.low+b_low|0;if(haxe_Int32.ucompare(low,base.low)<0){let ret=high++;high=high|0}let codePtr1=codePtr.readPointer(new haxe__$Int64__$_$_$Int64(high,low));let e=this.jit.resolveAsmPos(codePtr1);if(e!=null){stack.push(e)}}let _g2=[];let _g3=0;while(_g3<stack.length){let s=stack[_g3];++_g3;if(this.module.isValid(s.fidx,s.fpos)){_g2.push(s)}}return _g2}prepareStack(isWatchbreak){if(isWatchbreak==null){isWatchbreak=false}this.currentStackFrame=0;this.currentStack=this.makeStack(this.currentThread,isWatchbreak)}skipFunction(fidx){let ctx=this.module.getMethodContext(fidx);let name=ctx==null?new haxe_io_Path(this.module.resolveSymbol(fidx,0).file).file:ctx.obj.name.split(".")[0];if(HxOverrides.cca(name,0)==36){name=HxOverrides.substr(name,1,null)}if(this.ignoredRoots==null){this.ignoredRoots=new haxe_ds_StringMap;let _g=0;let _g1=hld_Debugger.IGNORED_ROOTS;while(_g<_g1.length){let r=_g1[_g];++_g;this.ignoredRoots.m.set(r,true)}}return this.ignoredRoots.m.has(name)}step(mode){let tid=this.currentThread;let s=this.currentStack[0];let depth=this.currentStack.length;let onException=this.getException()!=null;if(s==null||onException){if(hld_Debugger.DEBUG){haxe_Log.trace("Step not supported, continue.",{fileName:"hld/Debugger.hx",lineNumber:524,className:"hld.Debugger",methodName:"step"})}this.resume();return this.wait()}let orig=this.module.resolveSymbol(s.fidx,s.fpos);let graph=this.module.getGraph(s.fidx);let marked_m=new Map;let currentCodePos=this.getCodePos(tid);let onBreakPoint=false;let immediateProcess=false;let _g=0;let _g1=this.breakPoints;while(_g<_g1.length){let b=_g1[_g];++_g;if(b.fid==s.fidx){if(b.pos==s.fpos){onBreakPoint=true}else{marked_m.set(b.pos,null)}}}let trap=this.threads.m.get(tid).exceptionTrap;if(trap!=null){let e=this.jit.resolveAsmPos(trap);if(e!=null&&e.fidx!=s.fidx){let old=this.getAsm(trap);let bp={fid:-4,pos:e.fpos,codePos:trap,oldByte:old,condition:null};this.breakPoints.push(bp);marked_m.set(-1,bp);this.setAsm(trap,204)}}let visitRec=null;let _gthis=this;visitRec=function(pos){if(marked_m.has(pos)){return}let l=_gthis.module.resolveSymbol(s.fidx,pos);let c=graph.control(pos);let lineChange;if(mode!=hld_StepMode.Out&&(l.file!=orig.file||l.line!=orig.line)){let lineChange1;switch(c._hx_index){case 2:lineChange1=true;break;case 4:lineChange1=true;break;default:lineChange1=false}lineChange=!lineChange1}else{lineChange=false}if(c._hx_index==9){let f=c.fidx;if(f>=0&&mode==hld_StepMode.Into){let fid=_gthis.module.functionsIndexes.m.get(f);if(fid==null||fid>=_gthis.module.code.functions.length||_gthis.skipFunction(fid)){c=hld__$CodeGraph_Control.CNo}}}if(lineChange||c==hld__$CodeGraph_Control.CRet||mode==hld_StepMode.Into&&c._hx_index==9){let codePos=_gthis.jit.getCodePos(s.fidx,pos);let old=_gthis.getAsm(codePos);let bp={fid:lineChange?-1:c==hld__$CodeGraph_Control.CRet?-2:-3,pos:pos,codePos:codePos,oldByte:old,condition:null};_gthis.breakPoints.push(bp);marked_m.set(pos,bp);if(hld_Pointer.opEq(codePos,currentCodePos)&&onBreakPoint){immediateProcess=true;bp.oldByte=-1}else{_gthis.setAsm(codePos,204)}if(c._hx_index==9&&hld_Pointer.opLt(codePos,currentCodePos)){visitRec(pos+1)}return}let visitRec1;switch(c._hx_index){case 0:visitRec1=true;break;case 9:visitRec1=true;break;default:visitRec1=false}if(!visitRec1){marked_m.set(pos,null)}let _g4=0;let _g12=graph.getNextPos(pos);while(_g4<_g12.length){let p=_g12[_g4];++_g4;visitRec(p)}};visitRec(s.fpos);let cleanup=function(){let jsIterator=marked_m.values();let bp_jsIterator=jsIterator;let bp_lastStep=jsIterator.next();while(!bp_lastStep.done){let v=bp_lastStep.value;bp_lastStep=bp_jsIterator.next();let bp=v;if(bp!=null){if(bp.oldByte==-1){HxOverrides.remove(_gthis.breakPoints,bp)}else{_gthis.removeBP(bp)}}}};if(!immediateProcess){while(true){this.resume();let r=this.wait();if(r!=0&&this.currentStack.length==0){r=this.wait()}if(r!=1&&r!=2||this.currentThread!=tid||this.currentStack.length==0||this.currentStack[0].fidx!=s.fidx){cleanup();return r}if((mode==hld_StepMode.Out||mode==hld_StepMode.Next)&&this.currentStack.length>depth){let isRecursive=false;let _g4=0;let _g12=this.breakPoints;while(_g4<_g12.length){let b=_g12[_g4];++_g4;if((b.fid==-2||b.fid==-1)&&hld_Pointer.opEq(this.nextStep,b.codePos)){isRecursive=true;break}}if(isRecursive){if(hld_Debugger.DEBUG){haxe_Log.trace("RECURSIVE",{fileName:"hld/Debugger.hx",lineNumber:622,className:"hld.Debugger",methodName:"step"})}continue}}break}}let _g2=0;let _g3=this.breakPoints;while(_g2<_g3.length){let b=_g3[_g2];++_g2;if(hld_Pointer.opNeq(this.nextStep,b.codePos)||b.fid>=-1){continue}let isRet=b.fid==-2;while(true){let eip=this.getReg(tid,2);let op=this.api.readByte(eip,0);if(op==72){op=this.api.readByte(eip,1)}this.singleStep(tid);this.resume();let r=this.wait(true);if(r!=2||this.currentThread!=tid){break}let st=this.makeStack(tid,false,1)[0];if(isRet){if(op==195){if(st==null){this.prepareStack();if(this.currentStack.length==0){this.resume();return this.wait()}}break}}else if(st!=null&&(st.fidx!=s.fidx||st.fpos!=b.pos)){break}}this.prepareStack();break}cleanup();this.afterStep=true;return 1}makeStack(tid,isWatchbreak,max){if(max==null){max=0}let stack=[];let tinf=this.threads.m.get(tid);if(tinf==null||tinf.stackTop==null){return stack}let esp=this.getReg(tid,0);let ebp=this.getReg(tid,1);let size=hld_Pointer.sub(tinf.stackTop,esp)+this.jit.align.ptrSize;if(size<0){size=0}let pos=-this.jit.align.ptrSize;let b_high=pos>>31;let b_low=pos;let high=esp.high+b_high|0;let low=esp.low+b_low|0;if(haxe_Int32.ucompare(low,esp.low)<0){let ret=high++;high=high|0}let mem=this.readMem(new haxe__$Int64__$_$_$Int64(high,low),size);let eip=this.getReg(tid,2);let asmPos=eip;if(isWatchbreak){let b_high2=-1;let b_low2=-1;let high2=asmPos.high+b_high2|0;let low2=asmPos.low+b_low2|0;if(haxe_Int32.ucompare(low2,asmPos.low)<0){let ret=high2++;high2=high2|0}asmPos=new haxe__$Int64__$_$_$Int64(high2,low2)}let e=this.jit.resolveAsmPos(asmPos);let inProlog=false;let exc=this.getException();let isExcCantCast=false;if(exc!=null){let _g2=exc.v;if(_g2._hx_index==7){let v=_g2.v;if(v.startsWith("Can't cast ")){isExcCantCast=true}}}if(e!=null&&!this.module.isValid(e.fidx,e.fpos)){e=null}if(e!=null){let op=this.api.readByte(eip,0);if(op==72&&this.jit.is64){op=this.api.readByte(eip,1)}if(op==195){e=null}}if(e!=null){if(e.fpos<0&&this.jit.is64){e=null}else if(e.fpos<0){let delta=hld_Pointer.sub(this.jit.getFunctionPos(e.fidx),asmPos);e.fpos=0;if(delta==0){let pos2=-this.jit.align.ptrSize;let b_high2=pos2>>31;let b_low2=pos2;let high2=esp.high+b_high2|0;let low2=esp.low+b_low2|0;if(haxe_Int32.ucompare(low2,esp.low)<0){let ret=high2++;high2=high2|0}e.ebp=new haxe__$Int64__$_$_$Int64(high2,low2)}else{e.ebp=esp}inProlog=true}else{e.ebp=ebp}if(e!=null){stack.push(e)}}if(max==1){return stack}if(this.get_is64()){let skipFirstCheck=e==null&&this.jit.isWinCall;let _g2=0;let _g12=(size>>3)-1;while(_g2<_g12){let i=_g2++;let val=mem.getPointer(i<<3,this.jit.align);if(hld_Pointer.opGt(val,esp)&&hld_Pointer.opLt(val,tinf.stackTop)||inProlog&&i==0||skipFirstCheck){let codePtr=skipFirstCheck?val:mem.getPointer(i+1<<3,this.jit.align);let e2=this.jit.resolveAsmPos(codePtr);if(e2!=null&&e2.fpos>=0){if(skipFirstCheck){e2.ebp=ebp;let pos2=i<<3;let b_high2=pos2>>31;let b_low2=pos2;let high2=esp.high+b_high2|0;let low2=esp.low+b_low2|0;if(haxe_Int32.ucompare(low2,esp.low)<0){let ret=high2++;high2=high2|0}let validEsp=new haxe__$Int64__$_$_$Int64(high2,low2);if(hld_Pointer.opLt(e2.ebp,validEsp)||hld_Pointer.opGt(e2.ebp,tinf.stackTop)){let k=i-1;if(isExcCantCast&&this.get_is64()&&this.jit.isWinCall){let val2=mem.getPointer(i+2<<3,this.jit.align);let val4=mem.getPointer(i+4<<3,this.jit.align);let val3=null;if(hld_Pointer.opGt(val2,validEsp)&&hld_Pointer.opLt(val2,tinf.stackTop)){val3=val2}if(hld_Pointer.opGt(val4,validEsp)&&hld_Pointer.opLt(val4,tinf.stackTop)){val3=val4}if(val3!=null){e2.ebp=val3;k=-1}}let first=true;while(k>0){let val2=mem.getPointer(k--<<3,this.jit.align);if(hld_Pointer.opGt(val2,validEsp)&&hld_Pointer.opLt(val2,tinf.stackTop)){let pos3=this.jit.align.ptrSize;let b_high3=pos3>>31;let b_low3=pos3;let high3=val2.high+b_high3|0;let low3=val2.low+b_low3|0;if(haxe_Int32.ucompare(low3,val2.low)<0){let ret=high3++;high3=high3|0}let code=this.readMem(new haxe__$Int64__$_$_$Int64(high3,low3),this.jit.align.ptrSize).getPointer(0,this.jit.align);if(!this.jit.isCodePtr(code)){continue}if(first||hld_Pointer.opLt(val2,e2.ebp)){e2.ebp=val2;first=false}}}}skipFirstCheck=false}else{e2.ebp=val}stack.push(e2);if(max>0&&stack.length>=max){return stack}}}}}else{let stackBottom=hld_Pointer.toInt(esp);let stackTop=hld_Pointer.toInt(tinf.stackTop);let _g2=0;let _g12=size>>2;while(_g2<_g12){let i=_g2++;let val=mem.buf.readInt32LE(i<<2);if(val>stackBottom&&val<stackTop||inProlog&&i==0){let codePtr=mem.getPointer(i+1<<2,this.jit.align);let e2=this.jit.resolveAsmPos(codePtr);if(e2!=null&&e2.fpos>=0){e2.ebp=hld_Pointer.make(val,0);stack.push(e2);if(max>0&&stack.length>=max){return stack}}}}}let _g=[];let _g1=0;while(_g1<stack.length){let s=stack[_g1];++_g1;if(this.module.isValid(s.fidx,s.fpos)){_g.push(s)}}return _g}get_stackFrameCount(){return this.currentStack.length}getBackTrace(){let _g=[];let _g1=0;let _g2=this.currentStack;while(_g1<_g2.length){let e=_g2[_g1];++_g1;_g.push(this.stackInfo(e))}return _g}getStackFrame(frame){if(frame==null){frame=this.currentStackFrame}let f=this.currentStack[frame];if(f==null){return new hld_StackInfo("???",0,hld_Pointer.make(0,0),null)}return this.stackInfo(f)}getClosureStack(value){let stack=this.eval.getClosureStack(value);let out=[];let _g=0;while(_g<stack.length){let ptr=stack[_g];++_g;let e=this.jit.resolveAsmPos(ptr);if(e==null||!this.module.isValid(e.fidx,e.fpos)||e.fpos<0){continue}out.push(this.stackInfo({fidx:e.fidx,fpos:e.fpos,ebp:null}))}return out}stackInfo(f){let s=this.module.resolveSymbol(f.fidx,f.fpos);return new hld_StackInfo(s.file,s.line,f.ebp,this.module.getMethodContext(f.fidx))}getValue(expr,global1){if(global1==null){global1=false}let cur=this.currentStack[this.currentStackFrame];if(cur==null){return null}this.eval.globalContext=global1;this.eval.setContext(cur.fidx,cur.fpos,cur.ebp);let v=this.eval.eval(expr);this.eval.globalContext=false;return v}setValue(expr,value){let cur=this.currentStack[this.currentStackFrame];if(cur==null){return null}this.eval.setContext(cur.fidx,cur.fpos,cur.ebp);return this.eval.setValue(expr,value)}getRef(expr,global1){if(global1==null){global1=false}let cur=this.currentStack[this.currentStackFrame];if(cur==null){return null}this.eval.globalContext=global1;this.eval.setContext(cur.fidx,cur.fpos,cur.ebp);let v=this.eval.ref(expr);this.eval.globalContext=global1;return v}getWatches(){let _g=[];let _g1=0;let _g2=this.watches;while(_g1<_g2.length){let w=_g2[_g1];++_g1;_g.push(w.addr)}return _g}watch(a,forReadWrite){if(forReadWrite==null){forReadWrite=false}let size=this.jit.align.typeSize(a.t);let availableRegs=hld_Debugger.HW_REGS.slice();let _g=0;let _g1=this.watches;while(_g<_g1.length){let w2=_g1[_g];++_g;let _g2=0;let _g3=w2.regs;while(_g2<_g3.length){let r=_g3[_g2];++_g2;HxOverrides.remove(availableRegs,r.r)}}let w=new hld_WatchPoint(a,[],forReadWrite);let offset=0;let bitSize=[1,2,8,4];while(size>0){let r=availableRegs.shift();if(r==null){throw haxe_Exception.thrown("Not enough hardware register to watch: remove previous watches")}let v=size>=8?2:size>=4?3:size>=2?1:0;w.regs.push({r:r,offset:offset,bits:v});let delta=bitSize[v];size-=delta;offset+=delta}this.watches.push(w);this.syncDebugRegs();return w}unwatch(a){let _g=0;let _g1=this.watches;while(_g<_g1.length){let w=_g1[_g];++_g;if(w.addr==a){HxOverrides.remove(this.watches,w);this.syncDebugRegs();return true}}return false}syncDebugRegs(){let wasPaused=false;if(this.currentThread==null){this.pause();wasPaused=true}let dr7=256;let _g=0;let _g1=this.watches;while(_g<_g1.length){let w=_g1[_g];++_g;let _g22=0;let _g32=w.regs;while(_g22<_g32.length){let r=_g32[_g22];++_g22;let rid=hld_Debugger.HW_REGS.indexOf(r.r);dr7|=1<<rid*2;dr7|=((w.forReadWrite?3:1)|r.bits<<2)<<16+rid*4}}this.api.writeRegister(this.currentThread,9,hld_Pointer.make(dr7,0));let _g2=0;let _g3=this.watches;while(_g2<_g3.length){let w=_g3[_g2];++_g2;let _g4=0;let _g12=w.regs;while(_g4<_g12.length){let r=_g12[_g4];++_g4;let tmp=this.api;let tmp1=this.currentThread;let r1=r.r;let this1=w.addr.ptr;let pos=r.offset;let b_high=pos>>31;let b_low=pos;let high=this1.high+b_high|0;let low=this1.low+b_low|0;if(haxe_Int32.ucompare(low,this1.low)<0){let ret=high++;high=high|0}tmp.writeRegister(tmp1,r1,new haxe__$Int64__$_$_$Int64(high,low))}}if(wasPaused){this.resume()}}getCodePos(tid){let eip=this.getReg(tid,2);return eip}resume(){if(this.stoppedThread==null){throw haxe_Exception.thrown("No thread stopped")}if(hld_Debugger.DEBUG){haxe_Log.trace("RUN "+this.jit.codePtrToString(this.getCodePos(this.currentThread)),{fileName:"hld/Debugger.hx",lineNumber:937,className:"hld.Debugger",methodName:"resume"})}if(!this.api.resume(this.stoppedThread)&&!this.processExit){throw haxe_Exception.thrown("Could not resume "+this.stoppedThread)}this.set_stoppedThread(null);this.watchBreak=null}end(){if(this.stoppedThread!=null){this.resume()}if(this.api!=null){this.api.stop();this.api=null}}readMem(addr,size){let mem=new hld_Buffer(size);if(!this.api.read(addr,mem,size)){throw haxe_Exception.thrown("Failed to read memory @"+hld_Pointer.toString(addr)+"["+size+"]")}return mem}getAsm(ptr){if(!this.jit.isCodePtr(ptr)){throw haxe_Exception.thrown("Assert invalid ptr "+(ptr==null?"null":hld_Pointer.toString(ptr)))}return this.api.readByte(ptr,0)}setAsm(ptr,byte){if(!this.jit.isCodePtr(ptr)){throw haxe_Exception.thrown("Assert invalid ptr "+(ptr==null?"null":hld_Pointer.toString(ptr)))}if(hld_Debugger.DEBUG){haxe_Log.trace("Set "+this.jit.codePtrToString(ptr)+"="+byte,{fileName:"hld/Debugger.hx",lineNumber:968,className:"hld.Debugger",methodName:"setAsm"})}this.api.writeByte(ptr,0,byte);this.api.flush(ptr,1)}getReg(tid,reg){return hld_Pointer.ofPtr(this.api.readRegister(tid,reg))}setReg(tid,reg,value){if(!this.api.writeRegister(tid,reg,value)){throw haxe_Exception.thrown("Failed to set register "+reg)}}checkBreakpointLine(file,line){let breaks=this.module.getBreaks(file,line);if(breaks==null){return-1}else{return breaks.line}}addBreakpoint(file,line,condition){let breaks=this.module.getBreaks(file,line);if(breaks==null){return-1}let set=false;let _g=0;let _g1=breaks.breaks;while(_g<_g1.length){let b=_g1[_g];++_g;let found=false;let _g2=0;let _g3=this.breakPoints;while(_g2<_g3.length){let a=_g3[_g2];++_g2;if(a.fid==b.ifun&&a.pos==b.pos){found=true;break}}if(found){continue}let codePos=this.jit.getCodePos(b.ifun,b.pos);let old=this.getAsm(codePos);this.setAsm(codePos,204);this.breakPoints.push({fid:b.ifun,pos:b.pos,oldByte:old,codePos:codePos,condition:condition});set=true}return breaks.line}clearBreakpoints(file){let ffuns=this.module.getFileFunctions(file);if(ffuns==null){return}let _g=0;let _g1=this.breakPoints.slice();while(_g<_g1.length){let b=_g1[_g];++_g;let _g2=0;let _g3=ffuns.functions;while(_g2<_g3.length){let f=_g3[_g2];++_g2;if(b.fid==f.ifun){this.removeBP(b);break}}}}removeBP(bp){HxOverrides.remove(this.breakPoints,bp);this.setAsm(bp.codePos,bp.oldByte);if(hld_Pointer.opEq(this.nextStep,bp.codePos)){this.singleStep(this.currentThread,false);this.set_nextStep(hld_Pointer.make(0,0))}}removeBreakpoint(file,line){let breaks=this.module.getBreaks(file,line);if(breaks==null){return false}let rem=false;let _g=0;let _g1=breaks.breaks;while(_g<_g1.length){let b=_g1[_g];++_g;let _g2=0;let _g3=this.breakPoints;while(_g2<_g3.length){let a=_g3[_g2];++_g2;if(a.fid==b.ifun&&a.pos==b.pos){rem=true;this.removeBP(a);break}}}return rem}set_breakOnThrow(b){let count=this.eval.readI32(this.jit.threads);let tinfos=this.eval;let this1=this.jit.threads;let b_high=0;let b_low=8;let high=this1.high+b_high|0;let low=this1.low+b_low|0;if(haxe_Int32.ucompare(low,this1.low)<0){let ret=high++;high=high|0}let tinfos1=tinfos.readPointer(new haxe__$Int64__$_$_$Int64(high,low));let flagsPos=this.jit.align.ptrSize*6+8;let _g=0;let _g1=count;while(_g<_g1){let i=_g++;let tinf=this.eval;let pos=this.jit.align.ptrSize*i;let b_high2=pos>>31;let b_low2=pos;let high2=tinfos1.high+b_high2|0;let low2=tinfos1.low+b_low2|0;if(haxe_Int32.ucompare(low2,tinfos1.low)<0){let ret=high2++;high2=high2|0}let tinf1=tinf.readPointer(new haxe__$Int64__$_$_$Int64(high2,low2));let flags=this.eval;let b_high1=flagsPos>>31;let b_low1=flagsPos;let high1=tinf1.high+b_high1|0;let low1=tinf1.low+b_low1|0;if(haxe_Int32.ucompare(low1,tinf1.low)<0){let ret=high1++;high1=high1|0}let flags1=flags.readI32(new haxe__$Int64__$_$_$Int64(high1,low1));if(b){flags1|=2}else{flags1&=-3}let tmp=this.eval;let b_high22=flagsPos>>31;let b_low22=flagsPos;let high22=tinf1.high+b_high22|0;let low22=tinf1.low+b_low22|0;if(haxe_Int32.ucompare(low22,tinf1.low)<0){let ret=high22++;high22=high22|0}tmp.writeI32(new haxe__$Int64__$_$_$Int64(high22,low22),flags1)}return this.breakOnThrow=b}}hld_Debugger.__name__="hld.Debugger";Object.assign(hld_Debugger.prototype,{__class__:hld_Debugger});class hld_NativeReg{static XMM(v){return v+16}static toInt(this1){return this1}static isFpu(this1){return this1>=16}static is64(this1){return this1>=8&&this1<16}}var hld_VarAddress=$hxEnums["hld.VarAddress"]={__ename__:true,__constructs__:null,ANone:{_hx_name:"ANone",_hx_index:0,__enum__:"hld.VarAddress",toString:$estr},AUndef:($_=function(t){return{_hx_index:1,t:t,__enum__:"hld.VarAddress",toString:$estr,__params__:function(){return[this.t]}}},$_._hx_name="AUndef",$_),AAddr:($_=function(ptr,t){return{_hx_index:2,ptr:ptr,t:t,__enum__:"hld.VarAddress",toString:$estr,__params__:function(){return[this.ptr,this.t]}}},$_._hx_name="AAddr",$_),AMethod:($_=function(v,ptr,t){return{_hx_index:3,v:v,ptr:ptr,t:t,__enum__:"hld.VarAddress",toString:$estr,__params__:function(){return[this.v,this.ptr,this.t]}}},$_._hx_name="AMethod",$_),AEvaled:($_=function(v){return{_hx_index:4,v:v,__enum__:"hld.VarAddress",toString:$estr,__params__:function(){return[this.v]}}},$_._hx_name="AEvaled",$_),AInlined:($_=function(fields){return{_hx_index:5,fields:fields,__enum__:"hld.VarAddress",toString:$estr,__params__:function(){return[this.fields]}}},$_._hx_name="AInlined",$_)};hld_VarAddress.__constructs__=[hld_VarAddress.ANone,hld_VarAddress.AUndef,hld_VarAddress.AAddr,hld_VarAddress.AMethod,hld_VarAddress.AEvaled,hld_VarAddress.AInlined];class hld_Eval{constructor($module,api,jit){this.printEvalCall=false;this.allowEvalGetters=true;this.globalContext=false;this.maxBytesLength=128;this.maxArrLength=10;this.module=$module;this.api=api;this.jit=jit;this.align=jit.align;this.parser=new hscript_Parser;this.parser.identChars+="$";this.sizeofVArray=this.align.ptrSize*2+this.align.typeSize(format_hl_HLType.HI32)*2;let _g=0;let _g1=$module.code.types;while(_g<_g1.length){let t=_g1[_g];++_g;if(t._hx_index==11){let o=t.proto;if(o.name=="String"){this.t_string=t}}}}setContext(funIndex,codePos,ebp){this.funIndex=funIndex;this.codePos=codePos;this.ebp=ebp}onBeforeBreak(){this.guidNames=null}eval(expr){if(expr==null||expr==""){return null}let expr1=expr;let exprs=expr1.split(":");let hint=hld_Hint.HNone;if(exprs.length>1){hint=hld_Value.parseHint(exprs.pop());expr1=exprs.join(":")}let ext_expr=expr1;let ext_hint=hint;let expr2;try{expr2=this.parser.parseString(ext_expr)}catch(_g){haxe_NativeStackTrace.lastError=_g;let _g1=haxe_Exception.caught(_g).unwrap();if(js_Boot.__instanceof(_g1,hscript_Error)){let e=_g1;throw haxe_Exception.thrown(hscript_Printer.errorToString(e))}else{throw _g}}let v=this.evalExpr(expr2);v.hint=ext_hint;v=this.makeValueWithHint(v);return v}setValue(expr,value){let v=this.eval(value);if(v==null){return null}this.setPtr(this.ref(expr),v);return v}setPtr(ref,value){let this1=ref.ptr;if(this1==null||this1.low==0&&this1.high==0){throw haxe_Exception.thrown("Can't set null ptr")}value=this.castTo(value,ref.t);let _g=value.v;switch(ref.t._hx_index){case 3:if(_g._hx_index==2){let i=_g.i;this.writeI32(ref.ptr,i)}else{if(format_hl_Tools.isPtr(ref.t)){let ptr=this.getPtr(value);if(ptr!=null||value.v==hld_ValueRepr.VNull){this.writePointer(ref.ptr,ptr);return}}throw haxe_Exception.thrown("Don't know how to set "+format_hl_Tools.toString(ref.t))}break;case 6:switch(_g._hx_index){case 2:let i=_g.i;this.writeF64(ref.ptr,i);break;case 4:let f=_g.v;this.writeF64(ref.ptr,f);break;default:if(format_hl_Tools.isPtr(ref.t)){let ptr=this.getPtr(value);if(ptr!=null||value.v==hld_ValueRepr.VNull){this.writePointer(ref.ptr,ptr);return}}throw haxe_Exception.thrown("Don't know how to set "+format_hl_Tools.toString(ref.t))}break;case 7:if(_g._hx_index==5){let flag=_g.b;let b=new hld_Buffer(1);b.buf.writeUInt8(flag?1:0,0);this.writeMem(ref.ptr,b,1)}else{if(format_hl_Tools.isPtr(ref.t)){let ptr=this.getPtr(value);if(ptr!=null||value.v==hld_ValueRepr.VNull){this.writePointer(ref.ptr,ptr);return}}throw haxe_Exception.thrown("Don't know how to set "+format_hl_Tools.toString(ref.t))}break;default:if(format_hl_Tools.isPtr(ref.t)){let ptr=this.getPtr(value);if(ptr!=null||value.v==hld_ValueRepr.VNull){this.writePointer(ref.ptr,ptr);return}}throw haxe_Exception.thrown("Don't know how to set "+format_hl_Tools.toString(ref.t))}}getPtr(v){let _g=v.v;switch(_g._hx_index){case 1:return hld_Pointer.make(0,0);case 6:let p=_g.v;return p;case 7:let p1=_g.p;return p1;case 8:let p2=_g.p;return p2;case 11:let p3=_g.p;return p3;case 12:let p4=_g.p;return p4;case 15:let p5=_g.p;return p5;case 16:let p6=_g.p;return p6;default:return null}}castTo(v,t){if(v==null){return null}if(this.safeCastTo(v.t,t)){return v}let _g=v.v;switch(_g._hx_index){case 1:if(format_hl_Tools.isPtr(t)){return new hld_Value(hld_ValueRepr.VNull,t,null)}break;case 2:let _gi=_g.i;switch(t._hx_index){case 5:case 6:let i=_gi;return new hld_Value(hld_ValueRepr.VFloat(i),t,null);default:}break;default:}throw haxe_Exception.thrown("Don't know how to cast "+format_hl_Tools.toString(v.t)+" to "+format_hl_Tools.toString(t))}safeCastTo(t,to){if(t==to){return true}if(to==format_hl_HLType.HDyn){return format_hl_Tools.isDynamic(t)}switch(t._hx_index){case 11:if(to._hx_index==11){let p=t.proto;if(p.tsuper!=null){return this.safeCastTo(p.tsuper,to)}}break;case 21:if(to._hx_index==21){let p=t.proto;if(p.tsuper!=null){return this.safeCastTo(p.tsuper,to)}}break;default:}return false}ref(exprSrc){if(exprSrc==null||exprSrc==""){return null}let expr;try{expr=this.parser.parseString(exprSrc)}catch(_g){haxe_NativeStackTrace.lastError=_g;let _g1=haxe_Exception.caught(_g).unwrap();if(js_Boot.__instanceof(_g1,hscript_Error)){let e=_g1;throw haxe_Exception.thrown(hscript_Printer.errorToString(e))}else{throw _g}}let addr;switch(expr._hx_index){case 1:let i=expr.v;addr=this.getVarAddress(i);break;case 5:let obj=expr.e;let f=expr.f;let v=this.evalExpr(obj);addr=this.readFieldAddress(v,f);break;default:throw haxe_Exception.thrown("Can't get ref for "+hscript_Printer.toString(expr))}if(addr._hx_index==2){let ptr=addr.ptr;let t=addr.t;return new hld_Address(ptr,t)}else{throw haxe_Exception.thrown("Can't reference "+exprSrc)}}getClosureStack(v){if(v._hx_index==8){let context=v.d;let p=v.p;if(this.align.is64&&context!=null){let b_high=0;let b_low=20;let high=p.high+b_high|0;let low=p.low+b_low|0;if(haxe_Int32.ucompare(low,p.low)<0){let ret=high++;high=high|0}let stackCount=this.readI32(new haxe__$Int64__$_$_$Int64(high,low));let _g=[];let _g1=0;let _g2=stackCount;while(_g1<_g2){let i=_g1++;let pos=32+i*8;let b_high2=pos>>31;let b_low2=pos;let high2=p.high+b_high2|0;let low2=p.low+b_low2|0;if(haxe_Int32.ucompare(low2,p.low)<0){let ret=high2++;high2=high2|0}_g.push(this.readPointer(new haxe__$Int64__$_$_$Int64(high2,low2)))}return _g}}return[]}evalExpr(e){switch(e._hx_index){case 0:let c=e.c;switch(c._hx_index){case 0:let v=c.v;return new hld_Value(hld_ValueRepr.VInt(v),format_hl_HLType.HI32,null);case 1:let f=c.f;return new hld_Value(hld_ValueRepr.VFloat(f),format_hl_HLType.HF64,null);case 2:let s=c.s;return new hld_Value(hld_ValueRepr.VString(s,null),this.t_string,null)}break;case 1:let i=e.v;let v1=this.evalPath([i]);if(v1==null){throw haxe_Exception.thrown("Unknown identifier "+i)}return v1;case 3:let e1=e.e;return this.evalExpr(e1);case 4:let el=e.e;let v2=new hld_Value(hld_ValueRepr.VNull,format_hl_HLType.HDyn,null);if(el.length==2){let _ga=el[0];let _ga1=el[1];if(_ga._hx_index==2){if(_ga1._hx_index==22){let _gcond=_ga1.cond;let _ge=_ga1.e1;let _ge1=_ga1.e2;if(_gcond._hx_index==6){let _ge2=_gcond.e1;let _ge3=_gcond.e2;if(_gcond.op=="=="){if(_ge2._hx_index==1){if(_ge3._hx_index==1){if(_ge3.v=="null"){if(_ge._hx_index==1){if(_ge.v=="null"){if(_ge1._hx_index==5){let _ge4=_ge1.e;if(_ge4._hx_index==1){let id3=_ge4.v;let f=_ge1.f;let id2=_ge2.v;let e7=_ga.e;let id=_ga.n;if(id==id2&&id==id3){let ve=this.evalExpr(e7);if(this.compare(ve,v2)!=0){v2=this.readField(ve,f);if(v2==null){throw haxe_Exception.thrown(this.valueStr(ve)+" has no field "+f)}}}else{let _g=0;while(_g<el.length){let e8=el[_g];++_g;v2=this.evalExpr(e8)}}}else{let _g=0;while(_g<el.length){let e7=el[_g];++_g;v2=this.evalExpr(e7)}}}else{let _g=0;while(_g<el.length){let e7=el[_g];++_g;v2=this.evalExpr(e7)}}}else{let _g=0;while(_g<el.length){let e7=el[_g];++_g;v2=this.evalExpr(e7)}}}else{let _g=0;while(_g<el.length){let e7=el[_g];++_g;v2=this.evalExpr(e7)}}}else{let _g=0;while(_g<el.length){let e7=el[_g];++_g;v2=this.evalExpr(e7)}}}else{let _g=0;while(_g<el.length){let e7=el[_g];++_g;v2=this.evalExpr(e7)}}}else{let _g=0;while(_g<el.length){let e7=el[_g];++_g;v2=this.evalExpr(e7)}}}else{let _g=0;while(_g<el.length){let e7=el[_g];++_g;v2=this.evalExpr(e7)}}}else{let _g=0;while(_g<el.length){let e7=el[_g];++_g;v2=this.evalExpr(e7)}}}else{let _g=0;while(_g<el.length){let e7=el[_g];++_g;v2=this.evalExpr(e7)}}}else{let _g=0;while(_g<el.length){let e7=el[_g];++_g;v2=this.evalExpr(e7)}}}else{let _g=0;while(_g<el.length){let e7=el[_g];++_g;v2=this.evalExpr(e7)}}return v2;case 5:let e2=e.e;let f1=e.f;let e3=e2;let path=[f1];let v3=null;while(true)switch(e3._hx_index){case 1:let i1=e3.v;path.unshift(i1);let noFilePath=path.slice();v3=this.evalPath(path);if(v3==null){let _g8=0;let _g12=noFilePath.length-1;while(_g8<_g12){let i4=_g8++;if(noFilePath[i4].toLowerCase()!=noFilePath[i4]){HxOverrides.remove(noFilePath,noFilePath[i4]);v3=this.evalPath(noFilePath);break}}}if(v3==null){throw haxe_Exception.thrown("Unknown value "+path.join("."))}return v3;case 5:let e21=e3.e;let f2=e3.f;path.unshift(f2);e3=e21;break;default:v3=this.evalExpr(e3);let _g=0;while(_g<path.length){let f=path[_g];++_g;let vf=this.readField(v3,f);if(vf==null){throw haxe_Exception.thrown(this.valueStr(v3)+" has no field "+f)}v3=vf}return v3}break;case 6:let op=e.op;let e11=e.e1;let e22=e.e2;switch(op){case"&&":return this.mkBool(this.toBool(this.evalExpr(e11))&&this.toBool(this.evalExpr(e22)));case"||":return this.mkBool(this.toBool(this.evalExpr(e11))||this.toBool(this.evalExpr(e22)));default:return this.evalBinop(op,this.evalExpr(e11),this.evalExpr(e22))}break;case 7:let op1=e.op;let prefix=e.prefix;let e4=e.e;return this.evalUnop(op1,prefix,this.evalExpr(e4));case 8:let efun=e.e;let eargs=e.params;let _g1=[];let _g2=0;while(_g2<eargs.length){let e7=eargs[_g2];++_g2;_g1.push(this.evalExpr(e7))}let vargs=_g1;let vfun=this.evalExpr(efun);let _g3=vfun.v;switch(_g3._hx_index){case 9:break;case 10:let obj=_g3.obj;vargs.unshift(obj);break;case 15:let c1=_g3.c;let values=_g3.values;let p=_g3.p;if(values.length==vargs.length){return new hld_Value(hld_ValueRepr.VEnum(c1,vargs,p),vfun.t,null)}else{throw haxe_Exception.thrown(hscript_Printer.toString(e)+" is not a function")}break;default:throw haxe_Exception.thrown(hscript_Printer.toString(e)+" is not a function")}let ft;let _g4=vfun.t;if(_g4._hx_index==10){let ft1=_g4.fun;ft=ft1}else{throw haxe_Exception.thrown("assert")}let _g_current=0;let _g_array=vargs;while(_g_current<_g_array.length){let _g_value=_g_array[_g_current];let _g_key=_g_current++;let i4=_g_key;let v=_g_value;let at=ft.args[i4];if(at==null){throw haxe_Exception.thrown("Too many arguments")}vargs[i4]=this.castTo(v,at)}while(vargs.length<ft.args.length){let at=ft.args[vargs.length];if(format_hl_Tools.isPtr(at)){vargs.push(new hld_Value(hld_ValueRepr.VNull,at,null))}else{throw haxe_Exception.thrown("Missing argument")}}if(hld_Debugger.DEBUG||this.printEvalCall){haxe_Log.trace("EVAL "+hscript_Printer.toString(e),{fileName:"hld/Eval.hx",lineNumber:341,className:"hld.Eval",methodName:"evalExpr"})}return this.evalCall(vfun,vargs);case 9:let econd=e.cond;let e12=e.e1;let e23=e.e2;if(this.toBool(this.evalExpr(econd))){return this.evalExpr(e12)}if(e23==null){return new hld_Value(hld_ValueRepr.VNull,format_hl_HLType.HDyn,null)}else{return this.evalExpr(e23)}break;case 16:let v4=e.e;let i2=e.index;let v5=this.evalExpr(v4);let i3=this.evalExpr(i2);let _g5=v5.v;switch(_g5._hx_index){case 7:let p1=_g5.p;if(v5.t._hx_index==8){let i6=this.toInt(i3);if(i6<0){return new hld_Value(hld_ValueRepr.VUndef,format_hl_HLType.HUi8,null)}else{let b_high=i6>>31;let b_low=i6;let high=p1.high+b_high|0;let low=p1.low+b_low|0;if(haxe_Int32.ucompare(low,p1.low)<0){let ret=high++;high=high|0}return new hld_Value(hld_ValueRepr.VInt(this.readByte(new haxe__$Int64__$_$_$Int64(high,low))),format_hl_HLType.HUi8,null)}}break;case 11:let t=_g5.t;let len=_g5.length;let read=_g5.read;let i4=this.toInt(i3);if(i4<0||i4>=len){return new hld_Value(hld_ValueRepr.VUndef,t,null)}else{return read(i4)}break;case 16:let len1=_g5.length;let read1=_g5.read;let i5=this.toInt(i3);if(i5<0||i5>=len1){return new hld_Value(hld_ValueRepr.VUndef,format_hl_HLType.HUi8,null)}else{return new hld_Value(hld_ValueRepr.VInt(read1(i5)),format_hl_HLType.HUi8,null)}break;default:}throw haxe_Exception.thrown("Can't access "+this.valueStr(v5)+"["+this.valueStr(i3)+"]");case 17:let vl=e.e;let _g6=[];let _g7=0;while(_g7<vl.length){let v=vl[_g7];++_g7;_g6.push(this.evalExpr(v))}let vl1=_g6;return new hld_Value(hld_ValueRepr.VArray(format_hl_HLType.HDyn,vl1.length,function(i4){return vl1[i4]},null),format_hl_HLType.HDyn,null);case 19:let e5=e.e;throw haxe_Exception.thrown(this.valueStr(this.evalExpr(e5)));case 22:let econd1=e.cond;let e13=e.e1;let e24=e.e2;if(this.toBool(this.evalExpr(econd1))){return this.evalExpr(e13)}if(e24==null){return new hld_Value(hld_ValueRepr.VNull,format_hl_HLType.HDyn,null)}else{return this.evalExpr(e24)}break;case 25:let e6=e.e;return this.evalExpr(e6);default:throw haxe_Exception.thrown("Unsupported expression `"+hscript_Printer.toString(e)+"`")}}isFloat(t){return t==format_hl_HLType.HF32||t==format_hl_HLType.HF64}evalCall(vfun,vargs){if(!this.jit.is64){throw haxe_Exception.thrown("Can't call function in x32 mode : not implemented")}let tret;let _g=vfun.t;switch(_g._hx_index){case 10:let f=_g.fun;tret=f.ret;break;case 20:let f1=_g.fun;tret=f1.ret;break;default:throw haxe_Exception.thrown("Not a function")}let addr;let _g1=vfun.v;switch(_g1._hx_index){case 8:let p=_g1.p;let pos=this.align.ptrSize;let b_high=pos>>31;let b_low=pos;let high=p.high+b_high|0;let low=p.low+b_low|0;if(haxe_Int32.ucompare(low,p.low)<0){let ret=high++;high=high|0}addr=this.readPointer(new haxe__$Int64__$_$_$Int64(high,low));break;case 9:let p1=_g1.p;let pos1=this.align.ptrSize;let b_high1=pos1>>31;let b_low1=pos1;let high1=p1.high+b_high1|0;let low1=p1.low+b_low1|0;if(haxe_Int32.ucompare(low1,p1.low)<0){let ret=high1++;high1=high1|0}addr=this.readPointer(new haxe__$Int64__$_$_$Int64(high1,low1));break;case 10:let p2=_g1.p;addr=p2;break;default:throw haxe_Exception.thrown("Not a function")}let prevEax=this.api.readRegister(this.currentThread,10);let eip=this.api.readRegister(this.currentThread,2);let prevEsp=this.api.readRegister(this.currentThread,0);let asmOut=new haxe_io_BytesBuffer;let pushReg=function(r){if(r>=16){asmOut.addInt32(283935560);asmOut.addByte(242);asmOut.addByte(15);asmOut.addByte(17);asmOut.addByte(4+(r&7)*8);asmOut.addByte(36);return}if(r>=8&&r<16){asmOut.addByte(65)}asmOut.addByte(80+(r&7))};let popReg=function(r){if(r>=16){asmOut.addByte(242);asmOut.addByte(15);asmOut.addByte(16);asmOut.addByte(4+(r&7)*8);asmOut.addByte(36);asmOut.addInt32(281314120);return}if(r>=8&&r<16){asmOut.addByte(65)}asmOut.addByte(88+(r&7))};let setReg=null;setReg=function(r,ptr2){if(r>=16){setReg(0,ptr2);pushReg(0);popReg(r);return}let r64=8;if(r>=8&&r<16){r64|=1}asmOut.addByte(64|r64);asmOut.addByte(184+(r&7));asmOut.addInt64(ptr2)};let nextCpu=0;let nextFpu=0;let callRegs=this.jit.isWinCall?[1,2,8,9,10,11]:[7,6,2,1,8,9,10,11];let _g_current=0;let _g_array=callRegs;while(_g_current<_g_array.length){let _g_value=_g_array[_g_current];let _g_key=_g_current++;let i=_g_key;let r=_g_value;pushReg(r);pushReg(hld_NativeReg.XMM(i))}let regs=[];let _g2=0;while(_g2<vargs.length){let v=vargs[_g2];++_g2;let t=v.t;let isCpu=!(t==format_hl_HLType.HF32||t==format_hl_HLType.HF64);let r=isCpu?callRegs[nextCpu++]:this.jit.isWinCall?nextCpu>=callRegs.length?null:hld_NativeReg.XMM(nextCpu++):nextFpu>=callRegs.length?null:hld_NativeReg.XMM(nextFpu++);if(r==null){throw haxe_Exception.thrown("TODO : stack arguments")}regs.push(r)}let _g3=0;let _g4=vargs.length;while(_g3<_g4){let i=_g3++;let v=vargs[vargs.length-i-1];let r=regs[vargs.length-i-1];let _g9=v.v;switch(v.t._hx_index){case 3:if(_g9._hx_index==2){let i2=_g9.i;setReg(r,hld_Pointer.make(i2,0))}else if(format_hl_Tools.isPtr(v.t)){let ptr2=this.getPtr(v);if(ptr2==null){let msg="Unsupported arg "+this.valueStr(v)+":"+this.typeStr(v.t);msg+=v.v._hx_index==7?" literal":" null pointer";throw haxe_Exception.thrown(msg)}setReg(r,ptr2)}else{throw haxe_Exception.thrown("Unsupported arg "+this.valueStr(v)+":"+this.typeStr(v.t))}break;case 5:if(_g9._hx_index==4){let f=_g9.v;let v2=haxe_io_FPHelper.floatToI32(f);setReg(r,hld_Pointer.make(v2,0))}else if(format_hl_Tools.isPtr(v.t)){let ptr2=this.getPtr(v);if(ptr2==null){let msg="Unsupported arg "+this.valueStr(v)+":"+this.typeStr(v.t);msg+=v.v._hx_index==7?" literal":" null pointer";throw haxe_Exception.thrown(msg)}setReg(r,ptr2)}else{throw haxe_Exception.thrown("Unsupported arg "+this.valueStr(v)+":"+this.typeStr(v.t))}break;case 6:if(_g9._hx_index==4){let f=_g9.v;let v2=haxe_io_FPHelper.doubleToI64(f);setReg(r,hld_Pointer.make(v2.low,v2.high))}else if(format_hl_Tools.isPtr(v.t)){let ptr2=this.getPtr(v);if(ptr2==null){let msg="Unsupported arg "+this.valueStr(v)+":"+this.typeStr(v.t);msg+=v.v._hx_index==7?" literal":" null pointer";throw haxe_Exception.thrown(msg)}setReg(r,ptr2)}else{throw haxe_Exception.thrown("Unsupported arg "+this.valueStr(v)+":"+this.typeStr(v.t))}break;case 7:if(_g9._hx_index==5){let b=_g9.b;setReg(r,hld_Pointer.make(b?1:0,0))}else if(format_hl_Tools.isPtr(v.t)){let ptr2=this.getPtr(v);if(ptr2==null){let msg="Unsupported arg "+this.valueStr(v)+":"+this.typeStr(v.t);msg+=v.v._hx_index==7?" literal":" null pointer";throw haxe_Exception.thrown(msg)}setReg(r,ptr2)}else{throw haxe_Exception.thrown("Unsupported arg "+this.valueStr(v)+":"+this.typeStr(v.t))}break;default:if(format_hl_Tools.isPtr(v.t)){let ptr2=this.getPtr(v);if(ptr2==null){let msg="Unsupported arg "+this.valueStr(v)+":"+this.typeStr(v.t);msg+=v.v._hx_index==7?" literal":" null pointer";throw haxe_Exception.thrown(msg)}setReg(r,ptr2)}else{throw haxe_Exception.thrown("Unsupported arg "+this.valueStr(v)+":"+this.typeStr(v.t))}}}setReg(0,addr);asmOut.addByte(255);asmOut.addByte(208);switch(tret._hx_index){case 5:asmOut.addInt32(283935560);asmOut.addInt32(68227059);asmOut.addByte(36);popReg(0);asmOut.addInt32(147096392);break;case 6:asmOut.addInt32(283935560);asmOut.addInt32(68227058);asmOut.addByte(36);popReg(0);asmOut.addInt32(147096392);break;default:}let _g5=0;let _g6=callRegs.length;while(_g5<_g6){let i=_g5++;let i1=callRegs.length-1-i;popReg(hld_NativeReg.XMM(i1));popReg(callRegs[i1])}asmOut.addByte(204);let asmOut1=asmOut.getBytes();let asmSize=asmOut1.length;if(hld_Debugger.DEBUG){haxe_Log.trace("ASM Eval code ["+asmSize+"] = "+asmOut1.toHex(),{fileName:"hld/Eval.hx",lineNumber:494,className:"hld.Eval",methodName:"evalCall"})}let prevAsm=new hld_Buffer(asmSize);if(!this.api.read(eip,prevAsm,asmSize)){throw haxe_Exception.thrown("assert")}let buffer=new hld_Buffer(asmSize);let _g7=0;let _g8=asmSize;while(_g7<_g8){let i=_g7++;buffer.buf.writeUInt8(asmOut1.b[i],i)}if(!this.api.write(eip,buffer,asmSize)){throw haxe_Exception.thrown("assert")}this.api.flush(eip,asmSize);let isSingleStep=(hld_Pointer.toInt(this.api.readRegister(this.currentThread,3))&256)==256;if(isSingleStep){this.setSingleStep(this.currentThread,false)}let stackValue=prevEsp;let b_high2=-1;let b_low2=-255;let high2=stackValue.high+b_high2|0;let low2=stackValue.low+b_low2|0;if(haxe_Int32.ucompare(low2,stackValue.low)<0){let ret=high2++;high2=high2|0}stackValue=new haxe__$Int64__$_$_$Int64(high2,low2);let pos2=(~hld_Pointer.toInt(stackValue)+1|0)&255;let b_high3=pos2>>31;let b_low3=pos2;let high3=stackValue.high+b_high3|0;let low3=stackValue.low+b_low3|0;if(haxe_Int32.ucompare(low3,stackValue.low)<0){let ret=high3++;high3=high3|0}stackValue=new haxe__$Int64__$_$_$Int64(high3,low3);this.api.writeRegister(this.currentThread,0,stackValue);this.resumeDebug();if(isSingleStep){this.setSingleStep(this.currentThread,true)}this.api.write(eip,prevAsm,asmSize);this.api.flush(eip,asmSize);let ptr=this.api.readRegister(this.currentThread,10);let nip=hld_Pointer.sub(this.api.readRegister(this.currentThread,2),eip);this.api.writeRegister(this.currentThread,10,prevEax);this.api.writeRegister(this.currentThread,2,eip);this.api.writeRegister(this.currentThread,0,prevEsp);let hasError=nip!=asmSize;if(hasError){if(hld_Debugger.DEBUG||this.printEvalCall){haxe_Log.trace("EVAL Exception has occured",{fileName:"hld/Eval.hx",lineNumber:527,className:"hld.Eval",methodName:"evalCall"})}throw haxe_Exception.thrown("Exception has occured")}return this.convertVal(ptr,tret)}resumeDebug(){throw haxe_Exception.thrown("Not implemented")}setSingleStep(tid,set){throw haxe_Exception.thrown("Not implemented")}getNum(v){let _g=v.v;switch(_g._hx_index){case 2:let i=_g.i;return i;case 4:let f=_g.v;return f;default:throw haxe_Exception.thrown(this.valueStr(v)+" should be a number")}}getInt(v){let _g=v.v;if(_g._hx_index==2){let i=_g.i;return i}else{throw haxe_Exception.thrown(this.valueStr(v)+" should be a number")}}getInt64(v){let _g=v.v;switch(_g._hx_index){case 2:let i=_g.i;return new haxe__$Int64__$_$_$Int64(i>>31,i);case 3:let i1=_g.i;return i1;default:throw haxe_Exception.thrown(this.valueStr(v)+" should be a number")}}compare(a,b){let _g=a.v;let _g1=b.v;switch(_g._hx_index){case 1:switch(_g1._hx_index){case 1:return hld_Pointer.sub(this.getPtr(a),this.getPtr(b));case 6:return hld_Pointer.sub(this.getPtr(a),this.getPtr(b));case 7:if(b.v==hld_ValueRepr.VNull){return 1}else{return-1}break;default:let e=a.v;let e1=b.v;throw haxe_Exception.thrown("Don't know how to compare "+$hxEnums[e.__enum__].__constructs__[e._hx_index]._hx_name+" and "+$hxEnums[e1.__enum__].__constructs__[e1._hx_index]._hx_name)}break;case 2:switch(_g1._hx_index){case 2:let d=this.getNum(a)-this.getNum(b);if(d==0){return 0}else if(d>0){return 1}else{return-1}break;case 3:let a1=this.getInt64(a);let b1=this.getInt64(b);let high=a1.high-b1.high|0;let low=a1.low-b1.low|0;if(haxe_Int32.ucompare(a1.low,b1.low)<0){let ret=high--;high=high|0}let d_high=high;let d_low=low;let b_high=0;let b_low=0;if(d_high==b_high&&d_low==b_low){return 0}else{let b_high2=0;let b_low2=0;let v=d_high-b_high2|0;if(v==0){v=haxe_Int32.ucompare(d_low,b_low2)}if((d_high<0?b_high2<0?v:-1:b_high2>=0?v:1)>0){return 1}else{return-1}}break;case 4:let d1=this.getNum(a)-this.getNum(b);if(d1==0){return 0}else if(d1>0){return 1}else{return-1}break;default:let e2=a.v;let e3=b.v;throw haxe_Exception.thrown("Don't know how to compare "+$hxEnums[e2.__enum__].__constructs__[e2._hx_index]._hx_name+" and "+$hxEnums[e3.__enum__].__constructs__[e3._hx_index]._hx_name)}break;case 3:switch(_g1._hx_index){case 2:let a2=this.getInt64(a);let b2=this.getInt64(b);let high1=a2.high-b2.high|0;let low1=a2.low-b2.low|0;if(haxe_Int32.ucompare(a2.low,b2.low)<0){let ret=high1--;high1=high1|0}let d_high1=high1;let d_low1=low1;let b_high1=0;let b_low1=0;if(d_high1==b_high1&&d_low1==b_low1){return 0}else{let b_high=0;let b_low=0;let v=d_high1-b_high|0;if(v==0){v=haxe_Int32.ucompare(d_low1,b_low)}if((d_high1<0?b_high<0?v:-1:b_high>=0?v:1)>0){return 1}else{return-1}}break;case 3:let a3=this.getInt64(a);let b3=this.getInt64(b);let high2=a3.high-b3.high|0;let low2=a3.low-b3.low|0;if(haxe_Int32.ucompare(a3.low,b3.low)<0){let ret=high2--;high2=high2|0}let d_high2=high2;let d_low2=low2;let b_high2=0;let b_low2=0;if(d_high2==b_high2&&d_low2==b_low2){return 0}else{let b_high=0;let b_low=0;let v=d_high2-b_high|0;if(v==0){v=haxe_Int32.ucompare(d_low2,b_low)}if((d_high2<0?b_high<0?v:-1:b_high>=0?v:1)>0){return 1}else{return-1}}break;default:let e4=a.v;let e5=b.v;throw haxe_Exception.thrown("Don't know how to compare "+$hxEnums[e4.__enum__].__constructs__[e4._hx_index]._hx_name+" and "+$hxEnums[e5.__enum__].__constructs__[e5._hx_index]._hx_name)}break;case 4:switch(_g1._hx_index){case 2:let d2=this.getNum(a)-this.getNum(b);if(d2==0){return 0}else if(d2>0){return 1}else{return-1}break;case 4:let d3=this.getNum(a)-this.getNum(b);if(d3==0){return 0}else if(d3>0){return 1}else{return-1}break;default:let e6=a.v;let e7=b.v;throw haxe_Exception.thrown("Don't know how to compare "+$hxEnums[e6.__enum__].__constructs__[e6._hx_index]._hx_name+" and "+$hxEnums[e7.__enum__].__constructs__[e7._hx_index]._hx_name)}break;case 5:if(_g1._hx_index==5){let bb=_g1.b;let ab=_g.b;if(ab==bb){return 0}else if(ab){return 1}else{return-1}}else{let e=a.v;let e1=b.v;throw haxe_Exception.thrown("Don't know how to compare "+$hxEnums[e.__enum__].__constructs__[e._hx_index]._hx_name+" and "+$hxEnums[e1.__enum__].__constructs__[e1._hx_index]._hx_name)}break;case 6:switch(_g1._hx_index){case 1:return hld_Pointer.sub(this.getPtr(a),this.getPtr(b));case 6:return hld_Pointer.sub(this.getPtr(a),this.getPtr(b));default:let e8=a.v;let e9=b.v;throw haxe_Exception.thrown("Don't know how to compare "+$hxEnums[e8.__enum__].__constructs__[e8._hx_index]._hx_name+" and "+$hxEnums[e9.__enum__].__constructs__[e9._hx_index]._hx_name)}break;case 7:let _gv=_g.v;switch(_g1._hx_index){case 1:if(b.v==hld_ValueRepr.VNull){return 1}else{return-1}break;case 7:let bs=_g1.v;let as=_gv;return Reflect2.compare(as,bs);default:let e10=a.v;let e11=b.v;throw haxe_Exception.thrown("Don't know how to compare "+$hxEnums[e10.__enum__].__constructs__[e10._hx_index]._hx_name+" and "+$hxEnums[e11.__enum__].__constructs__[e11._hx_index]._hx_name)}break;case 15:if(_g1._hx_index==15){let bc=_g1.c;let bvalues=_g1.values;let avalues=_g.values;let ac=_g.c;let _g2=a.t;let _g3=b.t;if(_g2._hx_index==18){if(_g3._hx_index==18){let bproto=_g3.proto;let aproto=_g2.proto;if(aproto==bproto){if(ac==bc&&avalues.length==bvalues.length){let _g5=0;let _g13=avalues.length;while(_g5<_g13){let i=_g5++;if(this.compare(avalues[i],bvalues[i])!=0){return-1}}return 0}let _g4=0;let _g12=aproto.constructs;while(_g4<_g12.length){let c=_g12[_g4];++_g4;if(c.name==ac){return-1}if(c.name==bc){return 1}}}}}return-1}else{let e=a.v;let e1=b.v;throw haxe_Exception.thrown("Don't know how to compare "+$hxEnums[e.__enum__].__constructs__[e._hx_index]._hx_name+" and "+$hxEnums[e1.__enum__].__constructs__[e1._hx_index]._hx_name)}break;default:let e12=a.v;let e13=b.v;throw haxe_Exception.thrown("Don't know how to compare "+$hxEnums[e12.__enum__].__constructs__[e12._hx_index]._hx_name+" and "+$hxEnums[e13.__enum__].__constructs__[e13._hx_index]._hx_name)}}mkBool(b){return new hld_Value(hld_ValueRepr.VBool(b),format_hl_HLType.HBool,null)}evalBinop(op,v1,v2){let _gthis=this;switch(op){case"!=":return this.mkBool(this.compare(v1,v2)!=0);case"%":let f1=_gthis.getNum(v1);let f2=_gthis.getNum(v2);let ret=f1%f2;let iret=ret|0;if(iret==ret){return new hld_Value(hld_ValueRepr.VInt(iret),format_hl_HLType.HI32,null)}else{return new hld_Value(hld_ValueRepr.VFloat(ret),format_hl_HLType.HF64,null)}break;case"&":let f11=_gthis.getInt(v1);let f21=_gthis.getInt(v2);let ret1=f11&f21;return new hld_Value(hld_ValueRepr.VInt(ret1),format_hl_HLType.HI32,null);case"*":let f12=_gthis.getNum(v1);let f22=_gthis.getNum(v2);let ret2=f12*f22;let iret1=ret2|0;if(iret1==ret2){return new hld_Value(hld_ValueRepr.VInt(iret1),format_hl_HLType.HI32,null)}else{return new hld_Value(hld_ValueRepr.VFloat(ret2),format_hl_HLType.HF64,null)}break;case"+":let f13=_gthis.getNum(v1);let f23=_gthis.getNum(v2);let ret3=f13+f23;let iret2=ret3|0;if(iret2==ret3){return new hld_Value(hld_ValueRepr.VInt(iret2),format_hl_HLType.HI32,null)}else{return new hld_Value(hld_ValueRepr.VFloat(ret3),format_hl_HLType.HF64,null)}break;case"-":let f14=_gthis.getNum(v1);let f24=_gthis.getNum(v2);let ret4=f14-f24;let iret3=ret4|0;if(iret3==ret4){return new hld_Value(hld_ValueRepr.VInt(iret3),format_hl_HLType.HI32,null)}else{return new hld_Value(hld_ValueRepr.VFloat(ret4),format_hl_HLType.HF64,null)}break;case"/":let f15=_gthis.getNum(v1);let f25=_gthis.getNum(v2);let ret5=f15/f25;let iret4=ret5|0;if(iret4==ret5){return new hld_Value(hld_ValueRepr.VInt(iret4),format_hl_HLType.HI32,null)}else{return new hld_Value(hld_ValueRepr.VFloat(ret5),format_hl_HLType.HF64,null)}break;case"<":return this.mkBool(this.compare(v1,v2)<0);case"<<":let f16=_gthis.getInt(v1);let f26=_gthis.getInt(v2);let ret6=f16<<f26;return new hld_Value(hld_ValueRepr.VInt(ret6),format_hl_HLType.HI32,null);case"<=":return this.mkBool(this.compare(v1,v2)<=0);case"==":return this.mkBool(this.compare(v1,v2)==0);case">":return this.mkBool(this.compare(v1,v2)>0);case">=":return this.mkBool(this.compare(v1,v2)>=0);case">>":let f17=_gthis.getInt(v1);let f27=_gthis.getInt(v2);let ret7=f17>>f27;return new hld_Value(hld_ValueRepr.VInt(ret7),format_hl_HLType.HI32,null);case">>>":let f18=_gthis.getInt(v1);let f28=_gthis.getInt(v2);let ret8=f18>>>f28;return new hld_Value(hld_ValueRepr.VInt(ret8),format_hl_HLType.HI32,null);case"^":let f19=_gthis.getInt(v1);let f29=_gthis.getInt(v2);let ret9=f19^f29;return new hld_Value(hld_ValueRepr.VInt(ret9),format_hl_HLType.HI32,null);case"|":let f110=_gthis.getInt(v1);let f210=_gthis.getInt(v2);let ret10=f110|f210;return new hld_Value(hld_ValueRepr.VInt(ret10),format_hl_HLType.HI32,null);default:throw haxe_Exception.thrown("Can't eval "+this.valueStr(v1)+" "+op+" "+this.valueStr(v2))}}evalUnop(op,prefix,v){switch(op){case"!":let _g=v.v;switch(_g._hx_index){case 1:return this.mkBool(true);case 5:let b=_g.b;return this.mkBool(!b);default:throw haxe_Exception.thrown("Can't do !"+this.valueStr(v))}break;case"-":let _g1=v.v;switch(_g1._hx_index){case 2:let i=_g1.i;return new hld_Value(hld_ValueRepr.VInt(-i),v.t,null);case 4:let f=_g1.v;return new hld_Value(hld_ValueRepr.VFloat(-f),v.t,null);default:this.getNum(v);throw haxe_Exception.thrown("assert")}break;default:throw haxe_Exception.thrown("Can't eval "+(prefix?op+this.valueStr(v):this.valueStr(v)+op))}}defVal(t){switch(t._hx_index){case 1:case 2:case 3:case 4:return new hld_Value(hld_ValueRepr.VInt(0),t,null);case 5:case 6:return new hld_Value(hld_ValueRepr.VFloat(0),t,null);case 7:return new hld_Value(hld_ValueRepr.VBool(false),t,null);default:return new hld_Value(hld_ValueRepr.VNull,t,null)}}toInt(v){let _g=v.v;switch(_g._hx_index){case 0:case 1:return 0;case 2:let i=_g.i;return i;case 4:let f=_g.v;return f|0;default:throw haxe_Exception.thrown("Can't cast "+this.valueStr(v)+" to int")}}toBool(v){let _g=v.v;switch(_g._hx_index){case 0:case 1:return false;case 5:let b=_g.b;return b;default:throw haxe_Exception.thrown("Can't cast "+this.valueStr(v)+" to bool")}}getVar(name){switch(name){case"$ret":let t=this.module.getGraph(this.funIndex).getReturnReg(this.codePos);if(t==null){return null}return this.convertVal(this.api.readRegister(this.currentThread,t==format_hl_HLType.HF64||t==format_hl_HLType.HF32?11:10),t);case"false":return this.mkBool(false);case"null":return new hld_Value(hld_ValueRepr.VNull,format_hl_HLType.HDyn,null);case"true":return this.mkBool(true);default:return this.fetchAddr(this.getVarAddress(name))}}getVarAddress(name,prefix,localsRaw,localOnly){if(localOnly==null){localOnly=false}let fullname=prefix==null?name:prefix+"."+name;let a=this.getVarAddressRaw(fullname,localOnly);if(a!=hld_VarAddress.ANone){return a}if(localsRaw==null){let g=this.module.getGraph(this.funIndex);localsRaw=g.getLocalsRaw(this.codePos).concat(g.getArgsRaw())}let relatedLocals=[];let _g=0;while(_g<localsRaw.length){let r=localsRaw[_g];++_g;let names=r.split(".");if(names.length<=1||names[0]!=name){continue}relatedLocals.push(HxOverrides.substr(r,name.length+1,null))}if(relatedLocals.length==0){return hld_VarAddress.ANone}let fnames=[];let _g1=0;while(_g1<relatedLocals.length){let r=relatedLocals[_g1];++_g1;let name2=r.split(".")[0];if(fnames.includes(name2)){continue}fnames.push(name2)}let _g2=[];let _g3=0;while(_g3<fnames.length){let n=fnames[_g3];++_g3;_g2.push({name:n,addr:this.getVarAddress(n,fullname,relatedLocals,true)})}let fields=_g2;return hld_VarAddress.AInlined(fields)}getVarAddressRaw(name,localOnly){let loc=this.module.getGraph(this.funIndex).getLocal(name,this.codePos);if(loc!=null&&!this.globalContext){let v=this.readRegAddress(loc.rid);if(loc.index!=null){switch(v._hx_index){case 1:return hld_VarAddress.AUndef(loc.t);case 2:let ptr=v.ptr;let t=v.t;let ptr1=this.readPointer(ptr);let pos=this.module.getEnumProto(loc.container)[0].params[loc.index].offset;let b_high=pos>>31;let b_low=pos;let high=ptr1.high+b_high|0;let low=ptr1.low+b_low|0;if(haxe_Int32.ucompare(low,ptr1.low)<0){let ret=high++;high=high|0}return hld_VarAddress.AAddr(new haxe__$Int64__$_$_$Int64(high,low),loc.t);default:throw haxe_Exception.thrown("assert")}}return v}if(localOnly){return hld_VarAddress.ANone}if(new EReg("^\\$[0-9]+$","").match(name)){return this.readRegAddress(Std.parseInt(HxOverrides.substr(name,1,null)))}if(this.module.getGraph(this.funIndex).getLocal("this",this.codePos)!=null&&!this.globalContext){let vthis=this.getVar("this");if(vthis!=null){let f=this.readFieldAddress(vthis,name);if(f!=hld_VarAddress.ANone){return f}let _g=vthis.t;if(_g._hx_index==11){let o=_g.proto;if(o.globalValue!=null){let path=o.name.split(".");path.push(name);let f2=this.getGlobalAddress(path);if(f2!=hld_VarAddress.ANone){return f2}}}}}let ctx=this.module.getMethodContext(this.funIndex);let tpack=null;if(ctx!=null&&!this.globalContext){let t=ctx.obj;if(t.globalValue!=null){let _g=this.module.code.globals[t.globalValue];if(_g._hx_index==11){let p=_g.proto;t=p}else{t=null}}if(t!=null){let path=t.name.split(".");let tname=path.pop();if(HxOverrides.cca(tname,0)==36){path.push(HxOverrides.substr(tname,1,null));let _g=0;let _g1=t.fields;while(_g<_g1.length){let f=_g1[_g];++_g;if(f.name==name){path.push(name);return this.getGlobalAddress(path)}}path.pop();tpack=path}}}let g=this.getGlobalAddress([name]);if(g!=hld_VarAddress.ANone){return g}if(tpack!=null&&tpack.length>0){tpack.push(name);let g2=this.getGlobalAddress(tpack);if(g2!=hld_VarAddress.ANone){return g2}}return hld_VarAddress.ANone}evalPath(path){let v=this.getVar(path[0]);if(v!=null){path.shift();let p=null;while(v!=null&&path.length>0){p=path.shift();v=this.readField(v,p)}if(v==null){path.unshift(p)}}else{if(path[0]=="std"){path.shift()}v=this.fetchAddr(this.getGlobalAddress(path))}return v}getGlobalAddress(path){let g=this.module.resolveGlobal(path);if(g==null){return hld_VarAddress.ANone}let this1=this.jit.globals;let pos=g.offset;let b_high=pos>>31;let b_low=pos;let high=this1.high+b_high|0;let low=this1.low+b_low|0;if(haxe_Int32.ucompare(low,this1.low)<0){let ret=high++;high=high|0}let addr=hld_VarAddress.AAddr(new haxe__$Int64__$_$_$Int64(high,low),g.type);let p=null;while(addr!=hld_VarAddress.ANone&&path.length>0){p=path.shift();addr=this.readFieldAddress(this.fetchAddr(addr),p)}if(addr==hld_VarAddress.ANone&&p!=null){path.unshift(p)}return addr}escape(s){s=s.split("\\").join("\\\\");s=s.split("\n").join("\\n");s=s.split("\r").join("\\r");s=s.split("\t").join("\\t");s=s.split('"').join('\\"');return s}typeStr(t){switch(t._hx_index){case 15:return"{...}";case 16:return"{...}";case 17:let name=t.name;return"#"+name;case 19:let t1=t.t;return this.typeStr(t1);default:return format_hl_Tools.toString(t)}}valueStr(v,maxStringRec){if(maxStringRec==null){maxStringRec=3}if(maxStringRec<0&&format_hl_Tools.isPtr(v.t)){return"<...>"}--maxStringRec;let _gthis=this;let str;let _g=v.v;switch(_g._hx_index){case 0:str="undef";break;case 1:str="null";break;case 2:let i=_g.i;let _g1=v.hint;switch(_g1._hx_index){case 1:str=hld_Value.intStr(i,16);break;case 2:str=hld_Value.intStr(i,2);break;case 8:let t=_g1.t;let eproto=this.module.resolveEnum(t);if(eproto==null){throw haxe_Exception.thrown("Can't resolve enum "+t)}str=hld_Value.intEnumFlags(i,eproto);break;case 9:let t1=_g1.t;let eproto1=this.module.resolveEnum(t1);if(eproto1==null){throw haxe_Exception.thrown("Can't resolve enum "+t1)}str=hld_Value.intEnumIndex(i,eproto1);break;case 11:let t2=_g1.t;let enames=this.eval(t2+".NAMES");if(enames==null){throw haxe_Exception.thrown("Can't resolve CDB "+t2+".NAMES")}let _g2=enames.v;if(_g2._hx_index==11){let read2=_g2.read;str=this.valueStr(read2(i))}else{throw haxe_Exception.thrown("Can't resolve CDB "+t2+".NAMES array")}break;default:str=""+i}break;case 3:let i1=_g.i;switch(v.hint._hx_index){case 1:str=hld_Value.int64Str(i1,16);break;case 2:str=hld_Value.int64Str(i1,2);break;default:str=""+(i1==null?"null":haxe_Int64.toString(i1))}break;case 4:let i2=_g.v;str=v.hint._hx_index==1?hld_Value.intStr(i2|0,16):""+i2;break;case 5:let b=_g.b;str=b?"true":"false";break;case 6:let _g3=v.t;switch(_g3._hx_index){case 11:let p=_g3.proto;str=p.name.split(".").pop();break;case 21:let p1=_g3.proto;str=p1.name.split(".").pop();break;default:str=this.typeStr(v.t)}break;case 7:let s=_g.v;let p2=_g.p;let _g4=v.hint;if(v.t._hx_index==8){switch(_g4._hx_index){case 5:str='"'+s+'"';break;case 6:let t3=_g4.t;let pos=_g4.pos;let pos1=this.toInt(this.eval(pos));str=this.valueStr(this.readBytesAt(-1,function(i4){let _gthis1=_gthis;let b_high=i4>>31;let b_low=i4;let high=p2.high+b_high|0;let low=p2.low+b_low|0;if(haxe_Int32.ucompare(low,p2.low)<0){let ret=high++;high=high|0}return _gthis1.readByte(new haxe__$Int64__$_$_$Int64(high,low))},t3,pos1));break;default:str='"'+this.escape(s)+'"'}}else{str=_g4._hx_index==5?'"'+s+'"':'"'+this.escape(s)+'"'}break;case 8:let f=_g.f;let d=_g.d;str=this.funStr(f,v.hint==hld_Hint.HPointer)+"["+this.valueStr(d,maxStringRec)+"]";break;case 9:let f1=_g.f;str=this.funStr(f1,v.hint==hld_Hint.HPointer);break;case 10:let f2=_g.f;let d1=_g.obj;str=this.funStr(f2,v.hint==hld_Hint.HPointer)+"["+this.valueStr(d1,maxStringRec)+"]";break;case 11:let length=_g.length;let read=_g.read;let hasDispValue=false;let _g5=0;let _g6=length;while(_g5<_g6){let i4=_g5++;let v2=read(i4);let str2;switch(v2.t._hx_index){case 15:str2=true;break;case 16:str2=true;break;default:str2=false}if(!str2){hasDispValue=true;break}}if(!hasDispValue&&length>0){str="[...]"+(length>this.maxArrLength?":"+length:"")}else if(length<=this.maxArrLength){let _g2=[];let _g12=0;let _g22=length;while(_g12<_g22){let i4=_g12++;_g2.push(this.valueStr(read(i4),maxStringRec))}str="["+_g2.join(", ")+"]"}else{let _g2=[];let _g12=0;let _g22=this.maxArrLength;while(_g12<_g22){let i4=_g12++;_g2.push(this.valueStr(read(i4),maxStringRec))}let arr=_g2;arr.push("...");str="["+arr.join(",")+"]:"+length}break;case 12:let _gnkeys=_g.nkeys;if(_gnkeys==0){str="{}"}else{let nkeys=_gnkeys;let readKey=_g.readKey;let readValue=_g.readValue;let max=nkeys<this.maxArrLength?nkeys:this.maxArrLength;let _g12=[];let _g2=0;let _g32=max;while(_g2<_g32){let i4=_g2++;let k=readKey(i4);_g12.push(this.valueStr(k,maxStringRec)+"=>"+this.valueStr(readValue(i4),maxStringRec))}let content=_g12;if(max!=nkeys){content.push("...");str=content.toString()+":"+nkeys}else{str=content.toString()}}break;case 13:let key=_g.key;let value=_g.value;str=this.valueStr(key,maxStringRec)+"=>"+this.valueStr(value,maxStringRec);break;case 14:let t4=_g.t;str=this.typeStr(t4);break;case 15:let c=_g.c;let values=_g.values;if(values.length==0){str=c}else{let str1=c+"(";let _g2=[];let _g12=0;while(_g12<values.length){let v2=values[_g12];++_g12;_g2.push(this.valueStr(v2,maxStringRec))}str=str1+_g2.join(", ")+")"}break;case 16:let length1=_g.length;let read1=_g.read;let _g7=v.hint;if(_g7._hx_index==6){let t=_g7.t;let pos=_g7.pos;let pos1=this.toInt(this.eval(pos));str=this.valueStr(this.readBytesAt(length1,read1,t,pos1))}else{let blen=length1<this.maxBytesLength?length1:this.maxBytesLength;let bytes=new haxe_io_Bytes(new ArrayBuffer(blen));let _g2=0;let _g12=blen;while(_g2<_g12){let i4=_g2++;let v2=read1(i4);bytes.b[i4]=v2}let str1=length1+":0x"+bytes.toHex().toUpperCase();if(length1>this.maxBytesLength){str1+="..."}str=str1}break;case 17:str="inlined";break;case 18:let i3=_g.i;let name=_g.name;switch(v.hint._hx_index){case 1:str=hld_Value.int64Str(i3,16);break;case 2:str=hld_Value.int64Str(i3,2);break;default:let str1=hld_Value.int64GuidStr(i3);if(name!=null){str1=""+name+" ("+str1+")"}str=str1}break}return str}readBytesAt(length,read,t,pos){let blen=this.align.typeSize(t);if(pos<0||length>=0&&pos>length-blen){throw haxe_Exception.thrown("Out of bound [0,"+(length<0?"???":""+length)+") for "+pos+"+"+(blen-1))}let bytes=new haxe_io_Bytes(new ArrayBuffer(blen));let _g=0;let _g1=blen;while(_g<_g1){let i=_g++;let v=read(pos+i);bytes.b[i]=v}switch(t._hx_index){case 1:return new hld_Value(hld_ValueRepr.VInt(bytes.b[0]),t,null);case 2:return new hld_Value(hld_ValueRepr.VInt(bytes.getUInt16(0)),t,null);case 3:return new hld_Value(hld_ValueRepr.VInt(bytes.getInt32(0)),t,null);case 4:return new hld_Value(hld_ValueRepr.VInt64(bytes.getInt64(0)),t,null);case 5:return new hld_Value(hld_ValueRepr.VFloat(bytes.getFloat(0)),t,null);case 6:return new hld_Value(hld_ValueRepr.VFloat(bytes.getDouble(0)),t,null);default:throw haxe_Exception.thrown("assert")}}funStr(f,withAddr){switch(f._hx_index){case 0:let p=f.p;return"fun("+hld_Pointer.toString(p)+")";case 1:let i=f.i;let p1=f.p;return"fun("+this.getFunctionName(i)+(withAddr?"@"+hld_Pointer.toString(p1):"")+")"}}getFunctionName(idx){let s=this.module.resolveSymbol(idx,0);return s.file+":"+s.line}readRegAddress(index){let r=this.module.getFunctionRegs(this.funIndex)[index];if(r==null){return hld_VarAddress.ANone}if(!this.module.getGraph(this.funIndex).isRegisterWritten(index,this.codePos)){return hld_VarAddress.AUndef(r.t)}let this1=this.ebp;let pos=r.offset;let b_high=pos>>31;let b_low=pos;let high=this1.high+b_high|0;let low=this1.low+b_low|0;if(haxe_Int32.ucompare(low,this1.low)<0){let ret=high++;high=high|0}return hld_VarAddress.AAddr(new haxe__$Int64__$_$_$Int64(high,low),r.t)}readReg(index){return this.fetchAddr(this.readRegAddress(index))}convertVal(p,t){let v;switch(t._hx_index){case 0:v=hld_ValueRepr.VNull;break;case 1:case 2:case 3:v=hld_ValueRepr.VInt(p.low);break;case 4:v=hld_ValueRepr.VInt64(new haxe__$Int64__$_$_$Int64(p.high,p.low));break;case 5:case 6:v=hld_ValueRepr.VFloat(haxe_io_FPHelper.i64ToDouble(p.low,p.high));break;case 7:v=hld_ValueRepr.VBool((hld_Pointer.toInt(p)&255)!=0);break;default:return this.valueCast(p,t)}return new hld_Value(v,t,null)}readVal(p,t){let v;switch(t._hx_index){case 0:v=hld_ValueRepr.VNull;break;case 1:let m=this.readMem(p,1);v=hld_ValueRepr.VInt(m.buf.readUInt8(0));break;case 2:let m1=this.readMem(p,2);v=hld_ValueRepr.VInt(m1.buf.readUInt16LE(0));break;case 3:v=hld_ValueRepr.VInt(this.readI32(p));break;case 4:let b_high=0;let b_low=4;let high=p.high+b_high|0;let low=p.low+b_low|0;if(haxe_Int32.ucompare(low,p.low)<0){let ret=high++;high=high|0}v=hld_ValueRepr.VInt64(new haxe__$Int64__$_$_$Int64(this.readI32(new haxe__$Int64__$_$_$Int64(high,low)),this.readI32(p)));break;case 5:let m2=this.readMem(p,4);v=hld_ValueRepr.VFloat(m2.buf.readFloatLE(0));break;case 6:let m3=this.readMem(p,8);v=hld_ValueRepr.VFloat(m3.buf.readDoubleLE(0));break;case 7:let m4=this.readMem(p,1);v=hld_ValueRepr.VBool(m4.buf.readUInt8(0)!=0);break;case 22:let t1=t.t;return new hld_Value(hld_ValueRepr.VPointer(p),t1.v,null);case 23:let b_high1=0;let b_low1=4;let high1=p.high+b_high1|0;let low1=p.low+b_low1|0;if(haxe_Int32.ucompare(low1,p.low)<0){let ret=high1++;high1=high1|0}let i64=new haxe__$Int64__$_$_$Int64(this.readI32(new haxe__$Int64__$_$_$Int64(high1,low1)),this.readI32(p));let name=this.getGuidName(i64);return new hld_Value(hld_ValueRepr.VGuid(i64,name),t,null);default:p=this.readPointer(p);return this.valueCast(p,t)}return new hld_Value(v,t,null)}readArrayAddress(value,index){let _g=value.v;if(_g._hx_index==11){let t=_g.t;let len=_g.length;let ptr=_g.p;if(index>=0&&index<len&&ptr!=null){let content=ptr;let offset=this.align.typeSize(t)*index;if(this.readType(ptr)._hx_index==12){offset+=this.sizeofVArray}else{let pos=this.align.ptrSize*2;let b_high2=pos>>31;let b_low2=pos;let high2=ptr.high+b_high2|0;let low2=ptr.low+b_low2|0;if(haxe_Int32.ucompare(low2,ptr.low)<0){let ret=high2++;high2=high2|0}content=this.readPointer(new haxe__$Int64__$_$_$Int64(high2,low2));if(format_hl_Tools.isPtr(t)){offset+=this.sizeofVArray}}let b_high=offset>>31;let b_low=offset;let high=content.high+b_high|0;let low=content.low+b_low|0;if(haxe_Int32.ucompare(low,content.low)<0){let ret=high++;high=high|0}return hld_VarAddress.AAddr(new haxe__$Int64__$_$_$Int64(high,low),t)}}return hld_VarAddress.ANone}valueCast(p,t){if(p==null||p.low==0&&p.high==0){return new hld_Value(hld_ValueRepr.VNull,t,null)}let v=hld_ValueRepr.VPointer(p);let _gthis=this;switch(t._hx_index){case 8:let len=0;let buf_b="";while(true){let c2;try{let pos2=len<<1;let b_high3=pos2>>31;let b_low3=pos2;let high3=p.high+b_high3|0;let low3=p.low+b_low3|0;if(haxe_Int32.ucompare(low3,p.low)<0){let ret=high3++;high3=high3|0}c2=this.readI32(new haxe__$Int64__$_$_$Int64(high3,low3))&65535}catch(_g3){haxe_NativeStackTrace.lastError=_g3;c2=0}if(c2==0){break}buf_b+=String.fromCodePoint(c2);++len;if(len>50){buf_b+="...";break}}v=hld_ValueRepr.VString(buf_b,p);break;case 9:t=this.readType(p);if(format_hl_Tools.isDynamic(t)){return this.valueCast(p,t)}let b_high=0;let b_low=8;let high=p.high+b_high|0;let low=p.low+b_low|0;if(haxe_Int32.ucompare(low,p.low)<0){let ret=high++;high=high|0}v=this.readVal(new haxe__$Int64__$_$_$Int64(high,low),t).v;break;case 10:let pos=this.align.ptrSize;let b_high1=pos>>31;let b_low1=pos;let high1=p.high+b_high1|0;let low1=p.low+b_low1|0;if(haxe_Int32.ucompare(low1,p.low)<0){let ret=high1++;high1=high1|0}let funPtr=this.readPointer(new haxe__$Int64__$_$_$Int64(high1,low1));let pos1=this.align.ptrSize*2;let b_high2=pos1>>31;let b_low2=pos1;let high2=p.high+b_high2|0;let low2=p.low+b_low2|0;if(haxe_Int32.ucompare(low2,p.low)<0){let ret=high2++;high2=high2|0}let hasValue=this.readI32(new haxe__$Int64__$_$_$Int64(high2,low2));let fidx=this.jit.functionFromAddr(funPtr);let fval=fidx==null?hld_FunRepr.FUnknown(funPtr):hld_FunRepr.FIndex(fidx,funPtr);if(hasValue==1){let pos2=this.align.ptrSize*3;let b_high3=pos2>>31;let b_low3=pos2;let high3=p.high+b_high3|0;let low3=p.low+b_low3|0;if(haxe_Int32.ucompare(low3,p.low)<0){let ret=high3++;high3=high3|0}let value=this.readVal(new haxe__$Int64__$_$_$Int64(high3,low3),format_hl_HLType.HDyn);v=hld_ValueRepr.VClosure(fval,value,p)}else{v=hld_ValueRepr.VFunction(fval,p)}break;case 11:let o=t.proto;t=this.readType(p);if(t._hx_index==11){let o2=t.proto;o=o2}switch(o.name){case"String":let pos2=this.align.ptrSize;let b_high3=pos2>>31;let b_low3=pos2;let high3=p.high+b_high3|0;let low3=p.low+b_low3|0;if(haxe_Int32.ucompare(low3,p.low)<0){let ret=high3++;high3=high3|0}let bytes=this.readPointer(new haxe__$Int64__$_$_$Int64(high3,low3));let pos3=this.align.ptrSize*2;let b_high4=pos3>>31;let b_low4=pos3;let high4=p.high+b_high4|0;let low4=p.low+b_low4|0;if(haxe_Int32.ucompare(low4,p.low)<0){let ret=high4++;high4=high4|0}let length=this.readI32(new haxe__$Int64__$_$_$Int64(high4,low4));let str=this.readUCS2(bytes,length);v=hld_ValueRepr.VString(str,p);break;case"haxe.ds.IntMap":let pos4=this.align.ptrSize;let b_high5=pos4>>31;let b_low5=pos4;let high5=p.high+b_high5|0;let low5=p.low+b_low5|0;if(haxe_Int32.ucompare(low5,p.low)<0){let ret=high5++;high5=high5|0}v=this.makeMap(this.readPointer(new haxe__$Int64__$_$_$Int64(high5,low5)),format_hl_HLType.HI32);break;case"haxe.ds.ObjectMap":let pos5=this.align.ptrSize;let b_high6=pos5>>31;let b_low6=pos5;let high6=p.high+b_high6|0;let low6=p.low+b_low6|0;if(haxe_Int32.ucompare(low6,p.low)<0){let ret=high6++;high6=high6|0}v=this.makeMap(this.readPointer(new haxe__$Int64__$_$_$Int64(high6,low6)),format_hl_HLType.HDyn);break;case"haxe.ds.StringMap":let pos6=this.align.ptrSize;let b_high7=pos6>>31;let b_low7=pos6;let high7=p.high+b_high7|0;let low7=p.low+b_low7|0;if(haxe_Int32.ucompare(low7,p.low)<0){let ret=high7++;high7=high7|0}v=this.makeMap(this.readPointer(new haxe__$Int64__$_$_$Int64(high7,low7)),format_hl_HLType.HBytes);break;case"haxe.io.Bytes":let pos7=this.align.ptrSize;let b_high8=pos7>>31;let b_low8=pos7;let high8=p.high+b_high8|0;let low8=p.low+b_low8|0;if(haxe_Int32.ucompare(low8,p.low)<0){let ret=high8++;high8=high8|0}let length1=this.readI32(new haxe__$Int64__$_$_$Int64(high8,low8));let pos8=this.align.ptrSize*2;let b_high9=pos8>>31;let b_low9=pos8;let high9=p.high+b_high9|0;let low9=p.low+b_low9|0;if(haxe_Int32.ucompare(low9,p.low)<0){let ret=high9++;high9=high9|0}let bytes1=this.readPointer(new haxe__$Int64__$_$_$Int64(high9,low9));v=hld_ValueRepr.VBytes(length1,function(i){let _gthis1=_gthis;let b_high18=i>>31;let b_low18=i;let high18=bytes1.high+b_high18|0;let low18=bytes1.low+b_low18|0;if(haxe_Int32.ucompare(low18,bytes1.low)<0){let ret=high18++;high18=high18|0}return _gthis1.readMem(new haxe__$Int64__$_$_$Int64(high18,low18),1).buf.readUInt8(0)},p);break;case"hl.types.ArrayBytes_Float":v=this.makeArrayBytes(p,format_hl_HLType.HF64);break;case"hl.types.ArrayBytes_Int":v=this.makeArrayBytes(p,format_hl_HLType.HI32);break;case"hl.types.ArrayBytes_hl_F32":v=this.makeArrayBytes(p,format_hl_HLType.HF32);break;case"hl.types.ArrayBytes_hl_I64":v=this.makeArrayBytes(p,format_hl_HLType.HI64);break;case"hl.types.ArrayBytes_hl_UI16":v=this.makeArrayBytes(p,format_hl_HLType.HUi16);break;case"hl.types.ArrayDyn":v=this.readField(new hld_Value(v,t,null),"array").v;break;case"hl.types.ArrayObj":let pos9=this.align.ptrSize;let b_high10=pos9>>31;let b_low10=pos9;let high10=p.high+b_high10|0;let low10=p.low+b_low10|0;if(haxe_Int32.ucompare(low10,p.low)<0){let ret=high10++;high10=high10|0}let length2=this.readI32(new haxe__$Int64__$_$_$Int64(high10,low10));let pos10=this.align.ptrSize*2;let b_high11=pos10>>31;let b_low11=pos10;let high11=p.high+b_high11|0;let low11=p.low+b_low11|0;if(haxe_Int32.ucompare(low11,p.low)<0){let ret=high11++;high11=high11|0}let nativeArray=this.readPointer(new haxe__$Int64__$_$_$Int64(high11,low11));let pos11=this.align.ptrSize;let b_high12=pos11>>31;let b_low12=pos11;let high12=nativeArray.high+b_high12|0;let low12=nativeArray.low+b_low12|0;if(haxe_Int32.ucompare(low12,nativeArray.low)<0){let ret=high12++;high12=high12|0}let type=this.readType(new haxe__$Int64__$_$_$Int64(high12,low12));v=hld_ValueRepr.VArray(type,length2,function(i){let _gthis1=_gthis;let pos16=_gthis.sizeofVArray+i*_gthis.align.ptrSize;let b_high18=pos16>>31;let b_low18=pos16;let high18=nativeArray.high+b_high18|0;let low18=nativeArray.low+b_low18|0;if(haxe_Int32.ucompare(low18,nativeArray.low)<0){let ret=high18++;high18=high18|0}return _gthis1.readVal(new haxe__$Int64__$_$_$Int64(high18,low18),type)},p);break;default:}break;case 12:let pos12=this.align.ptrSize;let b_high13=pos12>>31;let b_low13=pos12;let high13=p.high+b_high13|0;let low13=p.low+b_low13|0;if(haxe_Int32.ucompare(low13,p.low)<0){let ret=high13++;high13=high13|0}let type1=this.readType(new haxe__$Int64__$_$_$Int64(high13,low13));let pos13=this.align.ptrSize*2;let b_high14=pos13>>31;let b_low14=pos13;let high14=p.high+b_high14|0;let low14=p.low+b_low14|0;if(haxe_Int32.ucompare(low14,p.low)<0){let ret=high14++;high14=high14|0}let length3=this.readI32(new haxe__$Int64__$_$_$Int64(high14,low14));let size=this.align.typeSize(type1);v=hld_ValueRepr.VArray(type1,length3,function(i){let _gthis1=_gthis;let pos2=_gthis.sizeofVArray+i*size;let b_high3=pos2>>31;let b_low3=pos2;let high3=p.high+b_high3|0;let low3=p.low+b_low3|0;if(haxe_Int32.ucompare(low3,p.low)<0){let ret=high3++;high3=high3|0}return _gthis1.readVal(new haxe__$Int64__$_$_$Int64(high3,low3),type1)},p);break;case 13:v=hld_ValueRepr.VType(this.readType(p,true));break;case 14:let t1=t.t;v=this.readVal(p,t1).v;break;case 15:let pos14=this.align.ptrSize;let b_high15=pos14>>31;let b_low15=pos14;let high15=p.high+b_high15|0;let low15=p.low+b_low15|0;if(haxe_Int32.ucompare(low15,p.low)<0){let ret=high15++;high15=high15|0}let v1=this.readPointer(new haxe__$Int64__$_$_$Int64(high15,low15));if(!(v1==null||v1.low==0&&v1.high==0)){return this.valueCast(v1,format_hl_HLType.HDyn)}break;case 17:if(t.name=="hl_int64_map"){v=this.makeMap(p,format_hl_HLType.HI64)}break;case 18:let e=t.proto;let pos15=this.align.ptrSize;let b_high16=pos15>>31;let b_low16=pos15;let high16=p.high+b_high16|0;let low16=p.low+b_low16|0;if(haxe_Int32.ucompare(low16,p.low)<0){let ret=high16++;high16=high16|0}let index=this.readI32(new haxe__$Int64__$_$_$Int64(high16,low16));let c=this.module.getEnumProto(e)[index];let c1=c.name;let _g=[];let _g1=0;let _g2=c.params;while(_g1<_g2.length){let a=_g2[_g1];++_g1;let pos2=a.offset;let b_high3=pos2>>31;let b_low3=pos2;let high3=p.high+b_high3|0;let low3=p.low+b_low3|0;if(haxe_Int32.ucompare(low3,p.low)<0){let ret=high3++;high3=high3|0}_g.push(this.readVal(new haxe__$Int64__$_$_$Int64(high3,low3),a.t))}v=hld_ValueRepr.VEnum(c1,_g,p);break;case 19:let t2=t.t;let b_high17=0;let b_low17=8;let high17=p.high+b_high17|0;let low17=p.low+b_low17|0;if(haxe_Int32.ucompare(low17,p.low)<0){let ret=high17++;high17=high17|0}v=this.readVal(new haxe__$Int64__$_$_$Int64(high17,low17),t2).v;break;default:}return new hld_Value(v,t,null)}makeArrayBytes(p,t){let pos=this.align.ptrSize;let b_high=pos>>31;let b_low=pos;let high=p.high+b_high|0;let low=p.low+b_low|0;if(haxe_Int32.ucompare(low,p.low)<0){let ret=high++;high=high|0}let length=this.readI32(new haxe__$Int64__$_$_$Int64(high,low));let pos1=this.align.ptrSize*2;let b_high1=pos1>>31;let b_low1=pos1;let high1=p.high+b_high1|0;let low1=p.low+b_low1|0;if(haxe_Int32.ucompare(low1,p.low)<0){let ret=high1++;high1=high1|0}let bytes=this.readPointer(new haxe__$Int64__$_$_$Int64(high1,low1));let size=this.align.typeSize(t);let _gthis=this;return hld_ValueRepr.VArray(t,length,function(i){let _gthis1=_gthis;let pos2=i*size;let b_high2=pos2>>31;let b_low2=pos2;let high2=bytes.high+b_high2|0;let low2=bytes.low+b_low2|0;if(haxe_Int32.ucompare(low2,bytes.low)<0){let ret=high2++;high2=high2|0}return _gthis1.readVal(new haxe__$Int64__$_$_$Int64(high2,low2),t)},p)}makeMap(p,tkey){let isV13=this.jit.hlVersion>=1.13;let cells=this.readPointer(p);let nexts;if(isV13){let pos4=this.align.ptrSize;let b_high5=pos4>>31;let b_low5=pos4;let high5=p.high+b_high5|0;let low5=p.low+b_low5|0;if(haxe_Int32.ucompare(low5,p.low)<0){let ret=high5++;high5=high5|0}nexts=this.readPointer(new haxe__$Int64__$_$_$Int64(high5,low5))}else{nexts=null}let offset=isV13?this.align.ptrSize*2:this.align.ptrSize;let b_high=offset>>31;let b_low=offset;let high=p.high+b_high|0;let low=p.low+b_low|0;if(haxe_Int32.ucompare(low,p.low)<0){let ret=high++;high=high|0}let entries=this.readPointer(new haxe__$Int64__$_$_$Int64(high,low));let pos=offset+this.align.ptrSize;let b_high1=pos>>31;let b_low1=pos;let high1=p.high+b_high1|0;let low1=p.low+b_low1|0;if(haxe_Int32.ucompare(low1,p.low)<0){let ret=high1++;high1=high1|0}let values=this.readPointer(new haxe__$Int64__$_$_$Int64(high1,low1));let freelist_size=this.align.ptrSize+4+4;let pos1=offset+this.align.ptrSize*2+freelist_size;let b_high2=pos1>>31;let b_low2=pos1;let high2=p.high+b_high2|0;let low2=p.low+b_low2|0;if(haxe_Int32.ucompare(low2,p.low)<0){let ret=high2++;high2=high2|0}let ncells=this.readI32(new haxe__$Int64__$_$_$Int64(high2,low2));let pos2=pos1+4;let b_high3=pos2>>31;let b_low3=pos2;let high3=p.high+b_high3|0;let low3=p.low+b_low3|0;if(haxe_Int32.ucompare(low3,p.low)<0){let ret=high3++;high3=high3|0}let nentries=this.readI32(new haxe__$Int64__$_$_$Int64(high3,low3));let pos3=pos1+8;let b_high4=pos3>>31;let b_low4=pos3;let high4=p.high+b_high4|0;let low4=p.low+b_low4|0;if(haxe_Int32.ucompare(low4,p.low)<0){let ret=high4++;high4=high4|0}let maxEntries=this.readI32(new haxe__$Int64__$_$_$Int64(high4,low4));let keyInValue;let valuePos;let keyStride;let valueStride;let keyPadding=0;switch(tkey._hx_index){case 3:keyInValue=false;valuePos=0;keyStride=isV13?4:8;valueStride=this.align.ptrSize;break;case 4:keyInValue=false;valuePos=0;keyStride=isV13?8:16;keyPadding=4;valueStride=this.align.ptrSize;break;case 8:keyInValue=true;valuePos=this.align.ptrSize;keyStride=isV13?4:8;valueStride=this.align.ptrSize*2;break;case 9:keyInValue=true;valuePos=this.align.ptrSize;keyStride=isV13?0:4;valueStride=this.align.ptrSize*2;break;default:throw haxe_Exception.thrown("Unsupported map "+format_hl_Tools.toString(tkey))}let isSmall=isV13&&maxEntries<128;let content=[];let curCell=0;let _gthis=this;let fetch=function(k){while(content.length<=k){if(curCell==ncells){throw haxe_Exception.thrown("assert")}let c;if(isSmall){let _gthis1=_gthis;curCell+=1;let pos4=curCell-1;let b_high5=pos4>>31;let b_low5=pos4;let high5=cells.high+b_high5|0;let low5=cells.low+b_low5|0;if(haxe_Int32.ucompare(low5,cells.low)<0){let ret=high5++;high5=high5|0}c=_gthis1.readByte(new haxe__$Int64__$_$_$Int64(high5,low5))}else{let _gthis1=_gthis;curCell+=1;let pos4=curCell-1<<2;let b_high5=pos4>>31;let b_low5=pos4;let high5=cells.high+b_high5|0;let low5=cells.low+b_low5|0;if(haxe_Int32.ucompare(low5,cells.low)<0){let ret=high5++;high5=high5|0}c=_gthis1.readI32(new haxe__$Int64__$_$_$Int64(high5,low5))}while(c>=0){if(isSmall&&c==255){break}let _gthis1=_gthis;let pos4=c*valueStride+valuePos;let b_high5=pos4>>31;let b_low5=pos4;let high5=values.high+b_high5|0;let low5=values.low+b_low5|0;if(haxe_Int32.ucompare(low5,values.low)<0){let ret=high5++;high5=high5|0}let value=_gthis1.readVal(new haxe__$Int64__$_$_$Int64(high5,low5),format_hl_HLType.HDyn);let keyPtr;if(keyInValue){let pos5=c*valueStride;let b_high6=pos5>>31;let b_low6=pos5;let high6=values.high+b_high6|0;let low6=values.low+b_low6|0;if(haxe_Int32.ucompare(low6,values.low)<0){let ret=high6++;high6=high6|0}keyPtr=new haxe__$Int64__$_$_$Int64(high6,low6)}else{let pos5=c*keyStride;let b_high6=pos5>>31;let b_low6=pos5;let high6=entries.high+b_high6|0;let low6=entries.low+b_low6|0;if(haxe_Int32.ucompare(low6,entries.low)<0){let ret=high6++;high6=high6|0}keyPtr=new haxe__$Int64__$_$_$Int64(high6,low6)}let key;switch(tkey._hx_index){case 3:key=new hld_Value(hld_ValueRepr.VInt(_gthis.readI32(keyPtr)),format_hl_HLType.HI32,null);break;case 4:key=new hld_Value(hld_ValueRepr.VInt64(_gthis.readI64(keyPtr)),format_hl_HLType.HI64,null);break;case 8:key=new hld_Value(hld_ValueRepr.VString(_gthis.readUCSBytes(_gthis.readPointer(keyPtr)),null),_gthis.t_string,null);break;case 9:key=_gthis.readVal(keyPtr,format_hl_HLType.HDyn);break;default:throw haxe_Exception.thrown("Unsupported map "+format_hl_Tools.toString(tkey))}content.push({key:key,value:value});if(isV13){if(isSmall){let _gthis12=_gthis;let b_high6=c>>31;let b_low6=c;let high6=nexts.high+b_high6|0;let low6=nexts.low+b_low6|0;if(haxe_Int32.ucompare(low6,nexts.low)<0){let ret=high6++;high6=high6|0}c=_gthis12.readByte(new haxe__$Int64__$_$_$Int64(high6,low6))}else{let _gthis12=_gthis;let pos5=c<<2;let b_high6=pos5>>31;let b_low6=pos5;let high6=nexts.high+b_high6|0;let low6=nexts.low+b_low6|0;if(haxe_Int32.ucompare(low6,nexts.low)<0){let ret=high6++;high6=high6|0}c=_gthis12.readI32(new haxe__$Int64__$_$_$Int64(high6,low6))}}else{let _gthis12=_gthis;let pos5=c*keyStride+keyStride-4-keyPadding;let b_high6=pos5>>31;let b_low6=pos5;let high6=entries.high+b_high6|0;let low6=entries.low+b_low6|0;if(haxe_Int32.ucompare(low6,entries.low)<0){let ret=high6++;high6=high6|0}c=_gthis12.readI32(new haxe__$Int64__$_$_$Int64(high6,low6))}}}return content[k]};let getKey=function(k){if(k<0||k>=nentries){return new hld_Value(hld_ValueRepr.VUndef,tkey,null)}else{return fetch(k).key}};let getValue=function(k){if(k<0||k>=nentries){return new hld_Value(hld_ValueRepr.VUndef,format_hl_HLType.HDyn,null)}else{return fetch(k).value}};return hld_ValueRepr.VMap(tkey==format_hl_HLType.HBytes?this.t_string:tkey,nentries,getKey,getValue,p)}makeValueWithHint(v){let _gthis=this;let _g=v.v;let _g1=v.t;let _g2=v.hint;switch(_g._hx_index){case 6:if(_g1._hx_index==17){if(_g1.name=="hl_carray"){if(_g2._hx_index==10){let t=_g2.t;let size=_g2.size;let pos=_g2.pos;let p=_g.v;let at=this.module.resolveType(t);let mproto;if(at==null){throw haxe_Exception.thrown("assert: invalid CArray t")}else{switch(at._hx_index){case 11:let o=at.proto;mproto=this.module.getObjectProto(o,false);break;case 21:let o1=at.proto;mproto=this.module.getObjectProto(o1,true);break;default:throw haxe_Exception.thrown("assert: invalid CArray t")}}if(pos!=null){let index=this.toInt(this.eval(pos));if(index<0){throw haxe_Exception.thrown("assert: invalid CArray index "+index)}let pos1=mproto.size*index;let b_high=pos1>>31;let b_low=pos1;let high=p.high+b_high|0;let low=p.low+b_low|0;if(haxe_Int32.ucompare(low,p.low)<0){let ret=high++;high=high|0}return this.convertVal(new haxe__$Int64__$_$_$Int64(high,low),at)}else if(size!=null){let length=this.toInt(this.eval(size));if(length<0){throw haxe_Exception.thrown("assert: invalid CArray size "+size)}let varr=hld_ValueRepr.VArray(at,length,function(i){let _gthis1=_gthis;let pos2=mproto.size*i;let b_high=pos2>>31;let b_low=pos2;let high=p.high+b_high|0;let low=p.low+b_low|0;if(haxe_Int32.ucompare(low,p.low)<0){let ret=high++;high=high|0}return _gthis1.convertVal(new haxe__$Int64__$_$_$Int64(high,low),at)},null);return new hld_Value(varr,v.t,null)}else{throw haxe_Exception.thrown("Missing CArray size or pos")}}}}break;case 7:if(_g1._hx_index==8){if(_g2._hx_index==7){let t=_g2.t;let size=_g2.size;let pos=_g2.pos;let p=_g.p;let tsize=this.align.typeSize(t);if(pos!=null){let pos1=this.toInt(this.eval(pos));return this.readBytesAt(-1,function(i){let _gthis1=_gthis;let b_high=i>>31;let b_low=i;let high=p.high+b_high|0;let low=p.low+b_low|0;if(haxe_Int32.ucompare(low,p.low)<0){let ret=high++;high=high|0}return _gthis1.readByte(new haxe__$Int64__$_$_$Int64(high,low))},t,pos1*tsize)}else if(size!=null){let length=this.toInt(this.eval(size));let varr=hld_ValueRepr.VArray(t,length,function(i){return _gthis.readBytesAt(-1,function(i2){let _gthis1=_gthis;let b_high=i2>>31;let b_low=i2;let high=p.high+b_high|0;let low=p.low+b_low|0;if(haxe_Int32.ucompare(low,p.low)<0){let ret=high++;high=high|0}return _gthis1.readByte(new haxe__$Int64__$_$_$Int64(high,low))},t,i*tsize)},null);return new hld_Value(varr,v.t,null)}else{throw haxe_Exception.thrown("Missing Array size or pos")}}}break;case 16:if(_g2._hx_index==7){let t=_g2.t;let pos=_g2.pos;let read=_g.read;let length=_g.length;let tsize=this.align.typeSize(t);if(pos!=null){let pos1=this.toInt(this.eval(pos));return this.readBytesAt(length,read,t,pos1*tsize)}else{let alen=length/tsize|0;let varr=hld_ValueRepr.VArray(t,alen,function(i){return _gthis.readBytesAt(length,read,t,i*tsize)},null);return new hld_Value(varr,v.t,null)}}break;default:}return v}getFields(v){let ptr;let _g=v.v;switch(_g._hx_index){case 6:let p=_g.v;ptr=p;break;case 7:return[];case 11:return[];case 12:return[];case 15:let values=_g.values;let _g1=[];let _g2=0;let _g3=values.length;while(_g2<_g3){let i=_g2++;if(format_hl_Tools.isPtr(values[i].t)){_g1.push("$"+i)}}return _g1;case 16:return[];case 17:let fields=_g.fields;let _g4=[];let _g5=0;while(_g5<fields.length){let f=fields[_g5];++_g5;_g4.push(f.name)}return _g4;default:return null}let _g6=v.t;switch(_g6._hx_index){case 11:let o=_g6.proto;let getRec=null;getRec=function(o2){let fields;if(o2.tsuper==null){fields=[]}else{let getRec12=getRec;let _g3=o2.tsuper;let fields12;switch(_g3._hx_index){case 11:let o12=_g3.proto;fields12=o12;break;case 21:let o22=_g3.proto;fields12=o22;break;default:throw haxe_Exception.thrown("assert")}fields=getRec12(fields12)}let _g2=0;let _g1=o2.fields;while(_g2<_g1.length){let f=_g1[_g2];++_g2;if(f.name!=""){fields.push(f.name)}}return fields};return getRec(o);case 15:let fields1=_g6.fields;let _g7=[];let _g8=0;while(_g8<fields1.length){let f=fields1[_g8];++_g8;_g7.push(f.name)}return _g7;case 16:let pos=this.align.ptrSize;let b_high=pos>>31;let b_low=pos;let high=ptr.high+b_high|0;let low=ptr.low+b_low|0;if(haxe_Int32.ucompare(low,ptr.low)<0){let ret=high++;high=high|0}let lookup=this.readPointer(new haxe__$Int64__$_$_$Int64(high,low));let pos1=this.align.ptrSize*4;let b_high1=pos1>>31;let b_low1=pos1;let high1=ptr.high+b_high1|0;let low1=ptr.low+b_low1|0;if(haxe_Int32.ucompare(low1,ptr.low)<0){let ret=high1++;high1=high1|0}let nfields=this.readI32(new haxe__$Int64__$_$_$Int64(high1,low1));let fields2=[];let hasIndex=false;let _g9=0;let _g10=nfields;while(_g9<_g10){let i=_g9++;let pos2=i*(this.align.ptrSize+8);let b_high2=pos2>>31;let b_low2=pos2;let high2=lookup.high+b_high2|0;let low2=lookup.low+b_low2|0;if(haxe_Int32.ucompare(low2,lookup.low)<0){let ret=high2++;high2=high2|0}let l_high=high2;let l_low=low2;let pos12=this.align.ptrSize;let b_high12=pos12>>31;let b_low12=pos12;let high12=l_high+b_high12|0;let low12=l_low+b_low12|0;if(haxe_Int32.ucompare(low12,l_low)<0){let ret=high12++;high12=high12|0}let h=this.readI32(new haxe__$Int64__$_$_$Int64(high12,low12));let pos22=this.align.ptrSize+4;let b_high22=pos22>>31;let b_low22=pos22;let high22=l_high+b_high22|0;let low22=l_low+b_low22|0;if(haxe_Int32.ucompare(low22,l_low)<0){let ret=high22++;high22=high22|0}let index=this.readI32(new haxe__$Int64__$_$_$Int64(high22,low22))>>>17;if(index>0){hasIndex=true}let name=this.module.reverseHash(h);if(name==null){name=hld_Eval.HASH_PREFIX+h}if(hasIndex){fields2[index]=name}else{fields2.push(name)}}return fields2;case 21:let o1=_g6.proto;let getRec1=null;getRec1=function(o2){let fields;if(o2.tsuper==null){fields=[]}else{let getRec2=getRec1;let _g3=o2.tsuper;let fields12;switch(_g3._hx_index){case 11:let o12=_g3.proto;fields12=o12;break;case 21:let o22=_g3.proto;fields12=o22;break;default:throw haxe_Exception.thrown("assert")}fields=getRec2(fields12)}let _g2=0;let _g1=o2.fields;while(_g2<_g1.length){let f=_g1[_g2];++_g2;if(f.name!=""){fields.push(f.name)}}return fields};return getRec1(o1);default:return null}}readField(v,name){let _g=v.v;switch(_g._hx_index){case 12:let t=_g.tkey;let len=_g.nkeys;let readKey=_g.readKey;let readValue=_g.readValue;if(HxOverrides.cca(name,0)==36){let i=Std.parseInt(HxOverrides.substr(name,1,null));let key2=readKey(i);let value=readValue(i);if(i<0||i>=len){return new hld_Value(hld_ValueRepr.VUndef,t,null)}else{return new hld_Value(hld_ValueRepr.VMapPair(key2,value),t,null)}}break;case 13:let key=_g.key;if(name=="$key"){return key}else{let value=_g.value;if(name=="$value"){return value}}break;case 15:let values=_g.values;if(HxOverrides.cca(name,0)==36){return values[Std.parseInt(HxOverrides.substr(name,1,null))]}break;case 16:let length=_g.length;if(name=="length"){return new hld_Value(hld_ValueRepr.VInt(length),format_hl_HLType.HI32,null)}break;default:}let a=this.readFieldAddress(v,name);return this.fetchAddr(a)}fetch(addr){return this.fetchAddr(addr==null?hld_VarAddress.ANone:addr.ptr==null?hld_VarAddress.AUndef(addr.t):hld_VarAddress.AAddr(addr.ptr,addr.t))}fetchAddr(addr){switch(addr._hx_index){case 0:return null;case 1:let t=addr.t;return new hld_Value(hld_ValueRepr.VUndef,t,null);case 2:let ptr=addr.ptr;let t1=addr.t;return this.readVal(ptr,t1);case 3:let v=addr.v;let p=addr.ptr;let t2=addr.t;let fidx=this.jit.functionFromAddr(p);let fval=fidx==null?hld_FunRepr.FUnknown(p):hld_FunRepr.FIndex(fidx,p);return new hld_Value(hld_ValueRepr.VMethod(fval,v,p),t2,null);case 4:let v1=addr.v;return v1;case 5:let fields=addr.fields;return new hld_Value(hld_ValueRepr.VInlined(fields),format_hl_HLType.HDyn,null)}}readFieldAddress(v,name){let ptr;let _g=v.v;switch(_g._hx_index){case 0:case 1:ptr=null;break;case 6:let p=_g.v;ptr=p;break;case 7:let p1=_g.p;ptr=p1;break;case 11:let p2=_g.p;ptr=p2;break;case 12:let p3=_g.p;ptr=p3;break;case 17:let fields=_g.fields;let _g1=0;while(_g1<fields.length){let f=fields[_g1];++_g1;if(f.name==name){return f.addr}}return hld_VarAddress.ANone;default:return hld_VarAddress.ANone}let _g2=v.t;switch(_g2._hx_index){case 9:if(ptr==null){return hld_VarAddress.AUndef(format_hl_HLType.HDyn)}return this.readFieldAddress(new hld_Value(v.v,this.readType(ptr),null),name);case 11:let o=_g2.proto;let p4=this.module.getObjectProto(o,v.t._hx_index==21);let f=p4.fields.m.get(name);if(f!=null){let offset=f.offset;if(ptr==null){return hld_VarAddress.AUndef(f.t)}else{let b_high5=offset>>31;let b_low5=offset;let high5=ptr.high+b_high5|0;let low5=ptr.low+b_low5|0;if(haxe_Int32.ucompare(low5,ptr.low)<0){let ret=high5++;high5=high5|0}return hld_VarAddress.AAddr(new haxe__$Int64__$_$_$Int64(high5,low5),f.t)}}let f1=p4.methods.m.get(name);if(f1!=null){if(ptr==null){return hld_VarAddress.AUndef(f1.t)}let vt=this.readPointer(ptr);let pos5=this.align.ptrSize;let b_high5=pos5>>31;let b_low5=pos5;let high5=vt.high+b_high5|0;let low5=vt.low+b_low5|0;if(haxe_Int32.ucompare(low5,vt.low)<0){let ret=high5++;high5=high5|0}let vobj=this.readPointer(new haxe__$Int64__$_$_$Int64(high5,low5));let pos12=8+this.align.ptrSize+this.align.ptrSize*7;let b_high12=pos12>>31;let b_low12=pos12;let high12=vobj.high+b_high12|0;let low12=vobj.low+b_low12|0;if(haxe_Int32.ucompare(low12,vobj.low)<0){let ret=high12++;high12=high12|0}let vrt=this.readPointer(new haxe__$Int64__$_$_$Int64(high12,low12));let pos22=this.align.ptrSize+24;let b_high22=pos22>>31;let b_low22=pos22;let high22=vrt.high+b_high22|0;let low22=vrt.low+b_low22|0;if(haxe_Int32.ucompare(low22,vrt.low)<0){let ret=high22++;high22=high22|0}let vmethods=this.readPointer(new haxe__$Int64__$_$_$Int64(high22,low22));let pos32=f1.index*this.align.ptrSize;let b_high32=pos32>>31;let b_low32=pos32;let high32=vmethods.high+b_high32|0;let low32=vmethods.low+b_low32|0;if(haxe_Int32.ucompare(low32,vmethods.low)<0){let ret=high32++;high32=high32|0}return hld_VarAddress.AMethod(v,this.readPointer(new haxe__$Int64__$_$_$Int64(high32,low32)),f1.t)}let f2=p4.methods.m.get("get_"+name);if(f2!=null){if(ptr==null){return hld_VarAddress.AUndef(f2.t)}if(!this.allowEvalGetters){throw haxe_Exception.thrown("Eval not allowed get_"+name+"()")}let f6=this.readFieldAddress(v,"get_"+name);if(f6._hx_index==3){let _gt=f6.t;if(_gt._hx_index==10){let ft=_gt.fun;let ptr2=f6.ptr;let obj=f6.v;if(ft.args.length==1){if(hld_Debugger.DEBUG||this.printEvalCall){haxe_Log.trace("EVAL "+this.valueStr(v)+".get_"+name+"()",{fileName:"hld/Eval.hx",lineNumber:1510,className:"hld.Eval",methodName:"readFieldAddress"})}return hld_VarAddress.AEvaled(this.evalCall(this.fetchAddr(f6),[obj]))}}}}let ep=this.module.resolveEnum(o.name.split("$").join(""));if(ep!=null){let _g5=0;let _g1=ep.constructs;while(_g5<_g1.length){let c=_g1[_g5];++_g5;if(c.name==name){let _g6=[];let _g12=0;let _g22=c.params;while(_g12<_g22.length){let p=_g22[_g12];++_g12;_g6.push(new hld_Value(hld_ValueRepr.VNull,format_hl_HLType.HDyn,null))}return hld_VarAddress.AEvaled(new hld_Value(hld_ValueRepr.VEnum(name,_g6,hld_Pointer.make(0,0)),format_hl_HLType.HEnum(ep),null))}}}return hld_VarAddress.ANone;case 15:let fl=_g2.fields;let _g3=0;let _g4=fl.length;while(_g3<_g4){let i=_g3++;if(fl[i].name==name){let t=fl[i].t;if(ptr==null){return hld_VarAddress.AUndef(t)}let pos5=this.align.ptrSize*(3+i);let b_high5=pos5>>31;let b_low5=pos5;let high5=ptr.high+b_high5|0;let low5=ptr.low+b_low5|0;if(haxe_Int32.ucompare(low5,ptr.low)<0){let ret=high5++;high5=high5|0}let addr=this.readPointer(new haxe__$Int64__$_$_$Int64(high5,low5));if(addr!=null){return hld_VarAddress.AAddr(addr,t)}}}if(ptr==null){return hld_VarAddress.ANone}let pos=this.align.ptrSize;let b_high=pos>>31;let b_low=pos;let high=ptr.high+b_high|0;let low=ptr.low+b_low|0;if(haxe_Int32.ucompare(low,ptr.low)<0){let ret=high++;high=high|0}let realValue=this.readPointer(new haxe__$Int64__$_$_$Int64(high,low));if(realValue==null||realValue.low==0&&realValue.high==0){return hld_VarAddress.ANone}return this.readFieldAddress(new hld_Value(hld_ValueRepr.VPointer(realValue),format_hl_HLType.HDyn,null),name);case 16:if(ptr==null){return hld_VarAddress.AUndef(format_hl_HLType.HDyn)}let pos1=this.align.ptrSize;let b_high1=pos1>>31;let b_low1=pos1;let high1=ptr.high+b_high1|0;let low1=ptr.low+b_low1|0;if(haxe_Int32.ucompare(low1,ptr.low)<0){let ret=high1++;high1=high1|0}let lookup=this.readPointer(new haxe__$Int64__$_$_$Int64(high1,low1));let pos2=this.align.ptrSize*2;let b_high2=pos2>>31;let b_low2=pos2;let high2=ptr.high+b_high2|0;let low2=ptr.low+b_low2|0;if(haxe_Int32.ucompare(low2,ptr.low)<0){let ret=high2++;high2=high2|0}let raw_data=this.readPointer(new haxe__$Int64__$_$_$Int64(high2,low2));let pos3=this.align.ptrSize*3;let b_high3=pos3>>31;let b_low3=pos3;let high3=ptr.high+b_high3|0;let low3=ptr.low+b_low3|0;if(haxe_Int32.ucompare(low3,ptr.low)<0){let ret=high3++;high3=high3|0}let values=this.readPointer(new haxe__$Int64__$_$_$Int64(high3,low3));let pos4=this.align.ptrSize*4;let b_high4=pos4>>31;let b_low4=pos4;let high4=ptr.high+b_high4|0;let low4=ptr.low+b_low4|0;if(haxe_Int32.ucompare(low4,ptr.low)<0){let ret=high4++;high4=high4|0}let nfields=this.readI32(new haxe__$Int64__$_$_$Int64(high4,low4));let hash=name.startsWith(hld_Eval.HASH_PREFIX)?Std.parseInt(HxOverrides.substr(name,hld_Eval.HASH_PREFIX.length,null)):format_hl_Tools.hash(name);let min=0;let max=nfields;while(min<max){let mid=min+max>>1;let pos5=mid*(this.align.ptrSize+8);let b_high5=pos5>>31;let b_low5=pos5;let high5=lookup.high+b_high5|0;let low5=lookup.low+b_low5|0;if(haxe_Int32.ucompare(low5,lookup.low)<0){let ret=high5++;high5=high5|0}let lid=new haxe__$Int64__$_$_$Int64(high5,low5);let pos12=this.align.ptrSize;let b_high12=pos12>>31;let b_low12=pos12;let high12=lid.high+b_high12|0;let low12=lid.low+b_low12|0;if(haxe_Int32.ucompare(low12,lid.low)<0){let ret=high12++;high12=high12|0}let h=this.readI32(new haxe__$Int64__$_$_$Int64(high12,low12));if(h<hash){min=mid+1}else if(h>hash){max=mid}else{let t=this.readType(lid);let pos6=this.align.ptrSize+4;let b_high6=pos6>>31;let b_low6=pos6;let high6=lid.high+b_high6|0;let low6=lid.low+b_low6|0;if(haxe_Int32.ucompare(low6,lid.low)<0){let ret=high6++;high6=high6|0}let offset=this.readI32(new haxe__$Int64__$_$_$Int64(high6,low6))&131071;let tmp;if(format_hl_Tools.isPtr(t)){let pos7=offset*this.align.ptrSize;let b_high7=pos7>>31;let b_low7=pos7;let high7=values.high+b_high7|0;let low7=values.low+b_low7|0;if(haxe_Int32.ucompare(low7,values.low)<0){let ret=high7++;high7=high7|0}tmp=new haxe__$Int64__$_$_$Int64(high7,low7)}else{let b_high7=offset>>31;let b_low7=offset;let high7=raw_data.high+b_high7|0;let low7=raw_data.low+b_low7|0;if(haxe_Int32.ucompare(low7,raw_data.low)<0){let ret=high7++;high7=high7|0}tmp=new haxe__$Int64__$_$_$Int64(high7,low7)}return hld_VarAddress.AAddr(tmp,t)}}return hld_VarAddress.ANone;case 21:let o1=_g2.proto;let p5=this.module.getObjectProto(o1,v.t._hx_index==21);let f3=p5.fields.m.get(name);if(f3!=null){let offset=f3.offset;if(ptr==null){return hld_VarAddress.AUndef(f3.t)}else{let b_high5=offset>>31;let b_low5=offset;let high5=ptr.high+b_high5|0;let low5=ptr.low+b_low5|0;if(haxe_Int32.ucompare(low5,ptr.low)<0){let ret=high5++;high5=high5|0}return hld_VarAddress.AAddr(new haxe__$Int64__$_$_$Int64(high5,low5),f3.t)}}let f4=p5.methods.m.get(name);if(f4!=null){if(ptr==null){return hld_VarAddress.AUndef(f4.t)}let vt=this.readPointer(ptr);let pos5=this.align.ptrSize;let b_high5=pos5>>31;let b_low5=pos5;let high5=vt.high+b_high5|0;let low5=vt.low+b_low5|0;if(haxe_Int32.ucompare(low5,vt.low)<0){let ret=high5++;high5=high5|0}let vobj=this.readPointer(new haxe__$Int64__$_$_$Int64(high5,low5));let pos12=8+this.align.ptrSize+this.align.ptrSize*7;let b_high12=pos12>>31;let b_low12=pos12;let high12=vobj.high+b_high12|0;let low12=vobj.low+b_low12|0;if(haxe_Int32.ucompare(low12,vobj.low)<0){let ret=high12++;high12=high12|0}let vrt=this.readPointer(new haxe__$Int64__$_$_$Int64(high12,low12));let pos22=this.align.ptrSize+24;let b_high22=pos22>>31;let b_low22=pos22;let high22=vrt.high+b_high22|0;let low22=vrt.low+b_low22|0;if(haxe_Int32.ucompare(low22,vrt.low)<0){let ret=high22++;high22=high22|0}let vmethods=this.readPointer(new haxe__$Int64__$_$_$Int64(high22,low22));let pos32=f4.index*this.align.ptrSize;let b_high32=pos32>>31;let b_low32=pos32;let high32=vmethods.high+b_high32|0;let low32=vmethods.low+b_low32|0;if(haxe_Int32.ucompare(low32,vmethods.low)<0){let ret=high32++;high32=high32|0}return hld_VarAddress.AMethod(v,this.readPointer(new haxe__$Int64__$_$_$Int64(high32,low32)),f4.t)}let f5=p5.methods.m.get("get_"+name);if(f5!=null){if(ptr==null){return hld_VarAddress.AUndef(f5.t)}if(!this.allowEvalGetters){throw haxe_Exception.thrown("Eval not allowed get_"+name+"()")}let f6=this.readFieldAddress(v,"get_"+name);if(f6._hx_index==3){let _gt=f6.t;if(_gt._hx_index==10){let ft=_gt.fun;let ptr2=f6.ptr;let obj=f6.v;if(ft.args.length==1){if(hld_Debugger.DEBUG||this.printEvalCall){haxe_Log.trace("EVAL "+this.valueStr(v)+".get_"+name+"()",{fileName:"hld/Eval.hx",lineNumber:1510,className:"hld.Eval",methodName:"readFieldAddress"})}return hld_VarAddress.AEvaled(this.evalCall(this.fetchAddr(f6),[obj]))}}}}let ep1=this.module.resolveEnum(o1.name.split("$").join(""));if(ep1!=null){let _g5=0;let _g1=ep1.constructs;while(_g5<_g1.length){let c=_g1[_g5];++_g5;if(c.name==name){let _g6=[];let _g12=0;let _g22=c.params;while(_g12<_g22.length){let p=_g22[_g12];++_g12;_g6.push(new hld_Value(hld_ValueRepr.VNull,format_hl_HLType.HDyn,null))}return hld_VarAddress.AEvaled(new hld_Value(hld_ValueRepr.VEnum(name,_g6,hld_Pointer.make(0,0)),format_hl_HLType.HEnum(ep1),null))}}}return hld_VarAddress.ANone;default:return hld_VarAddress.ANone}}readPointer(p){if(this.align.is64){let m=this.readMem(p,8);return m.getPointer(0,this.align)}return hld_Pointer.make(this.readI32(p),0)}writePointer(p,v){if(this.align.is64){let buf=new hld_Buffer(8);buf.setPointer(0,v,this.align);this.writeMem(p,buf,8)}else{this.writeI32(p,hld_Pointer.toInt(v))}}readMem(p,size){let b=new hld_Buffer(size);if(!this.api.read(p,b,size)){throw haxe_Exception.thrown("Failed to read @"+hld_Pointer.toString(p)+":"+size)}return b}readUCS2(ptr,length){let mem=this.readMem(ptr,length+1<<1);return mem.readStringUCS2(0,length)}readUCSBytes(ptr){let len=0;while(true){let pos=len<<1;let b_high=pos>>31;let b_low=pos;let high=ptr.high+b_high|0;let low=ptr.low+b_low|0;if(haxe_Int32.ucompare(low,ptr.low)<0){let ret=high++;high=high|0}let v=this.readI32(new haxe__$Int64__$_$_$Int64(high,low));let low1=v&65535;let high1=v>>>16;if(low1==0){break}++len;if(high1==0){break}++len}return this.readUCS2(ptr,len)}readByte(p){return this.readMem(p,1).buf.readUInt8(0)}readI32(p){return this.readMem(p,4).buf.readInt32LE(0)}readI64(p){let mem=this.readMem(p,8);return new haxe__$Int64__$_$_$Int64(mem.buf.readInt32LE(4),mem.buf.readInt32LE(0))}writeI32(p,v){let buf=new hld_Buffer(4);buf.buf.writeInt32LE(v,0);this.writeMem(p,buf,4)}writeF64(p,v){let buf=new hld_Buffer(8);buf.buf.writeDoubleLE(v,0);this.writeMem(p,buf,8)}writeMem(p,b,size){if(!this.api.write(p,b,size)){throw haxe_Exception.thrown("Failed to write @"+hld_Pointer.toString(p)+":"+size)}}readType(p,direct){if(direct==null){direct=false}if(!direct){p=this.readPointer(p)}let _g=this.readI32(p);switch(_g){case 0:return format_hl_HLType.HVoid;case 1:return format_hl_HLType.HUi8;case 2:return format_hl_HLType.HUi16;case 3:return format_hl_HLType.HI32;case 4:return format_hl_HLType.HI64;case 5:return format_hl_HLType.HF32;case 6:return format_hl_HLType.HF64;case 7:return format_hl_HLType.HBool;case 8:return format_hl_HLType.HBytes;case 9:return format_hl_HLType.HDyn;case 10:let t=this.typeFromAddr(p);if(t!=null){return t}let pos=this.align.ptrSize;let b_high=pos>>31;let b_low=pos;let high=p.high+b_high|0;let low=p.low+b_low|0;if(haxe_Int32.ucompare(low,p.low)<0){let ret=high++;high=high|0}let tfun=this.readPointer(new haxe__$Int64__$_$_$Int64(high,low));let pos1=this.align.ptrSize*3;let b_high1=pos1>>31;let b_low1=pos1;let high1=tfun.high+b_high1|0;let low1=tfun.low+b_low1|0;if(haxe_Int32.ucompare(low1,tfun.low)<0){let ret=high1++;high1=high1|0}let pparent=new haxe__$Int64__$_$_$Int64(high1,low1);let a=p;let b=this.readPointer(pparent);if(a.high==b.high&&a.low==b.low){return format_hl_HLType.HFun({args:[],ret:format_hl_HLType.HDyn})}let tparent=this.readType(pparent);if(tparent._hx_index==10){let f=tparent.fun;let args=f.args.slice();args.shift();return format_hl_HLType.HFun({args:args,ret:f.ret})}else{throw haxe_Exception.thrown("assert")}break;case 12:return format_hl_HLType.HArray;case 13:return format_hl_HLType.HType;case 14:let pos2=this.align.ptrSize;let b_high2=pos2>>31;let b_low2=pos2;let high2=p.high+b_high2|0;let low2=p.low+b_low2|0;if(haxe_Int32.ucompare(low2,p.low)<0){let ret=high2++;high2=high2|0}return format_hl_HLType.HRef(this.readType(new haxe__$Int64__$_$_$Int64(high2,low2)));case 16:return format_hl_HLType.HDynObj;case 19:let pos3=this.align.ptrSize;let b_high3=pos3>>31;let b_low3=pos3;let high3=p.high+b_high3|0;let low3=p.low+b_low3|0;if(haxe_Int32.ucompare(low3,p.low)<0){let ret=high3++;high3=high3|0}return format_hl_HLType.HNull(this.readType(new haxe__$Int64__$_$_$Int64(high3,low3)));case 11:case 15:case 17:case 18:case 21:return this.typeFromAddr(p);default:let x=_g;throw haxe_Exception.thrown("Unknown type #"+x)}}typeStructSize(){return this.align.ptrSize*4}typeFromAddr(p){let tid=hld_Pointer.sub(p,this.jit.allTypes)/(this.align.ptrSize*4)|0;return this.module.code.types[tid]}getGuidName(i64){if(this.guidNames==null){this.guidNames=new hld_Int64Map;if(this.jit.hlVersion>=1.15){let this1=this.jit.threads;let pos=this.jit.align.ptrSize*3+8;let b_high=pos>>31;let b_low=pos;let high=this1.high+b_high|0;let low=this1.low+b_low|0;if(haxe_Int32.ucompare(low,this1.low)<0){let ret=high++;high=high|0}let pmap=this.readPointer(new haxe__$Int64__$_$_$Int64(high,low));if(!(pmap==null||pmap.low==0&&pmap.high==0)){let m=this.makeMap(pmap,format_hl_HLType.HI64);if(m._hx_index==12){let nkeys=m.nkeys;let readKey=m.readKey;let readValue=m.readValue;let _g=0;let _g1=nkeys;while(_g<_g1){let n=_g++;let k=readKey(n);let v=readValue(n);let _g12=k.v;let _g2=v.v;if(_g12._hx_index==3){if(_g2._hx_index==7){let vname=_g2.v;let ki64=_g12.i;this.guidNames.set(ki64,vname)}}}}else{throw haxe_Exception.thrown("assert")}}}}return this.guidNames.get(i64)}}hld_Eval.__name__="hld.Eval";Object.assign(hld_Eval.prototype,{__class__:hld_Eval});class hld_Int64Map extends haxe_ds_BalancedTree{constructor(){super()}compare(k1,k2){if(k1.high==k2.high&&k1.low==k2.low){return 0}else{let v=k1.high-k2.high|0;if(v==0){v=haxe_Int32.ucompare(k1.low,k2.low)}if((k1.high<0?k2.high<0?v:-1:k2.high>=0?v:1)>0){return 1}else{return-1}}}}hld_Int64Map.__name__="hld.Int64Map";hld_Int64Map.__super__=haxe_ds_BalancedTree;Object.assign(hld_Int64Map.prototype,{__class__:hld_Int64Map});var hld__$JitInfo_DebugFlag=$hxEnums["hld._JitInfo.DebugFlag"]={__ename__:true,__constructs__:null,Is64:{_hx_name:"Is64",_hx_index:0,__enum__:"hld._JitInfo.DebugFlag",toString:$estr},Bool4:{_hx_name:"Bool4",_hx_index:1,__enum__:"hld._JitInfo.DebugFlag",toString:$estr},Threads:{_hx_name:"Threads",_hx_index:2,__enum__:"hld._JitInfo.DebugFlag",toString:$estr},IsWinCall:{_hx_name:"IsWinCall",_hx_index:3,__enum__:"hld._JitInfo.DebugFlag",toString:$estr}};hld__$JitInfo_DebugFlag.__constructs__=[hld__$JitInfo_DebugFlag.Is64,hld__$JitInfo_DebugFlag.Bool4,hld__$JitInfo_DebugFlag.Threads,hld__$JitInfo_DebugFlag.IsWinCall];class hld_JitInfo{constructor(){this.pid=0}get_hasThreads(){return this.oldThreadInfos!=null||(this.flags&1<<hld__$JitInfo_DebugFlag.Threads._hx_index)!=0}readPointer(){if(this.is64){return hld_Pointer.make(this.input.readInt32(),this.input.readInt32())}return hld_Pointer.make(this.input.readInt32(),0)}read(input,$module){this.input=input;this.module=$module;if(input.readString(3)!="HLD"){return false}let version=input.readByte()-48;if(version>1){return false}let i=input.readInt32();if(i==null){i=0}this.flags=i;this.is64=(this.flags&1<<hld__$JitInfo_DebugFlag.Is64._hx_index)!=0;this.align=new hld_Align(this.is64,(this.flags&1<<hld__$JitInfo_DebugFlag.Bool4._hx_index)!=0?4:1);this.isWinCall=(this.flags&1<<hld__$JitInfo_DebugFlag.IsWinCall._hx_index)!=0||Sys.systemName()=="Windows";if(version==0){let mainThread=input.readInt32();this.globals=this.readPointer();let debugExc=this.readPointer();let stackTop=this.readPointer();this.oldThreadInfos={id:mainThread,stackTop:stackTop,debugExc:debugExc};this.hlVersion=1.05}else{let ver=input.readInt32();this.hlVersion=(ver>>16)+(ver>>8&255)/100;if(this.hlVersion>=1.07){this.pid=input.readInt32()}this.threads=this.readPointer();this.globals=this.readPointer()}this.codeStart=this.readPointer();this.codeSize=input.readInt32();let this1=this.codeStart;let pos=this.codeSize;let b_high=pos>>31;let b_low=pos;let high=this1.high+b_high|0;let low=this1.low+b_low|0;if(haxe_Int32.ucompare(low,this1.low)<0){let ret=high++;high=high|0}this.codeEnd=new haxe__$Int64__$_$_$Int64(high,low);this.allTypes=this.readPointer();this.functions=[];let structSizes=[0];structSizes[1]=input.readInt32();structSizes[2]=input.readInt32();structSizes[3]=input.readInt32();structSizes[4]=input.readInt32();structSizes[5]=input.readInt32();structSizes[6]=input.readInt32();structSizes[7]=input.readInt32();structSizes[8]=input.readInt32();this.align.structSizes=structSizes;let nfunctions=input.readInt32();if(nfunctions!=$module.code.functions.length){return false}this.functionByCodePos=new hld_Int64Map;let _g=0;let _g1=nfunctions;while(_g<_g1){let i2=_g++;let nops=input.readInt32();if($module.code.functions[i2].debug.length>>1!=nops){return false}let this12=this.codeStart;let pos2=input.readInt32();let b_high2=pos2>>31;let b_low2=pos2;let high2=this12.high+b_high2|0;let low2=this12.low+b_low2|0;if(haxe_Int32.ucompare(low2,this12.low)<0){let ret=high2++;high2=high2|0}let start=new haxe__$Int64__$_$_$Int64(high2,low2);let large=input.readByte()!=0;let offsets=input.read((nops+1)*(large?4:2));this.functionByCodePos.set(start,i2);this.functions.push({start:start,large:large,offsets:offsets})}return true}getFunctionPos(fidx){return this.functions[fidx].start}getCodePos(fidx,pos){let dbg=this.functions[fidx];let this1=dbg.start;let pos1=dbg.large?dbg.offsets.getInt32(pos<<2):dbg.offsets.getUInt16(pos<<1);let b_high=pos1>>31;let b_low=pos1;let high=this1.high+b_high|0;let low=this1.low+b_low|0;if(haxe_Int32.ucompare(low,this1.low)<0){let ret=high++;high=high|0}return new haxe__$Int64__$_$_$Int64(high,low)}isCodePtr(codePtr){if(hld_Pointer.opLt(codePtr,this.codeStart)||hld_Pointer.opGt(codePtr,this.codeEnd)){return false}return true}codePtrToString(codePtr){if(hld_Pointer.opLt(codePtr,this.codeStart)||hld_Pointer.opGt(codePtr,this.codeEnd)){return""+(codePtr==null?"null":hld_Pointer.toString(codePtr))}return""+(codePtr==null?"null":hld_Pointer.toString(codePtr))+"("+hld_Pointer.sub(codePtr,this.codeStart)+")"}resolveAsmPos(codePtr){if(!this.isCodePtr(codePtr)){return null}let min=0;let max=this.functions.length;while(min<max){let mid=min+max>>1;let p=this.functions[mid];if(hld_Pointer.opLte(p.start,codePtr)){min=mid+1}else{max=mid}}if(min==0){return null}let fidx=min-1;let dbg=this.functions[fidx];let fdebug=this.module.code.functions[fidx];min=0;max=fdebug.debug.length>>1;let relPos=hld_Pointer.sub(codePtr,dbg.start);while(min<max){let mid=min+max>>1;let offset=dbg.large?dbg.offsets.getInt32(mid*4):dbg.offsets.getUInt16(mid*2);if(offset<=relPos){min=mid+1}else{max=mid}}return new hld_StackRawInfo(fidx,min-1,codePtr,null)}functionFromAddr(p){return this.functionByCodePos.get(p)}}hld_JitInfo.__name__="hld.JitInfo";Object.assign(hld_JitInfo.prototype,{__class__:hld_JitInfo});class hld_Module{constructor(){this.closureContextId=0;this.protoCache=new haxe_ds_StringMap;this.eprotoCache=new haxe_ds_StringMap;this.graphCache=new haxe_ds_IntMap;this.functionsIndexes=new haxe_ds_IntMap;this.functionRegsCache=[];this.methods=[];this.isWindows=Sys.systemName()=="Windows"}getMethodContext(fidx){let f=this.code.functions[fidx];if(f==null){return null}return this.methods[f.findex]}load(data){this.code=(new format_hl_Reader).read(new haxe_io_BytesInput(data));if(this.code.debugFiles==null){throw haxe_Exception.thrown("Debug info not available in the bytecode")}let _g=0;let _g1=this.code.types;while(_g<_g1.length){let t=_g1[_g];++_g;switch(t._hx_index){case 11:let o=t.proto;let _g22=0;let _g32=o.proto;while(_g22<_g32.length){let f=_g32[_g22];++_g22;this.methods[f.findex]={obj:o,field:f.name}}let _g42=0;let _g52=o.bindings;while(_g42<_g52.length){let b=_g52[_g42];++_g42;this.methods[b.mid]={obj:o,field:this.fetchField(o,b.fid).name}}break;case 21:let o1=t.proto;let _g62=0;let _g72=o1.proto;while(_g62<_g72.length){let f=_g72[_g62];++_g62;this.methods[f.findex]={obj:o1,field:f.name}}let _g8=0;let _g9=o1.bindings;while(_g8<_g9.length){let b=_g9[_g8];++_g8;this.methods[b.mid]={obj:o1,field:this.fetchField(o1,b.fid).name}}break;default:}}this.fileIndexes=new haxe_ds_StringMap;let _g2=0;let _g3=this.code.debugFiles.length;while(_g2<_g3){let i=_g2++;let f=this.code.debugFiles[i];this.fileIndexes.m.set(f,i);let low=f.split("\\").join("/").toLowerCase();this.fileIndexes.m.set(low,i);let fileOnly=low.split("/").pop();if(!this.fileIndexes.m.has(fileOnly)){this.fileIndexes.m.set(fileOnly,i);if(fileOnly.endsWith(".hx")){this.fileIndexes.m.set(HxOverrides.substr(fileOnly,0,-3),i)}}}this.functionsByFile=new haxe_ds_IntMap;let _g4=0;let _g5=this.code.functions.length;while(_g4<_g5){let ifun=_g4++;let f=this.code.functions[ifun];let files_m=new Map;this.functionsIndexes.m.set(f.findex,ifun);let _g8=0;let _g12=f.debug.length>>1;while(_g8<_g12){let i=_g8++;let ifile=f.debug[i<<1];let dline=f.debug[(i<<1)+1];let inf=files_m.get(ifile);if(inf==null){inf={f:f,ifun:ifun,lmin:1e6,lmax:-1};files_m.set(ifile,inf);let fl=this.functionsByFile.m.get(ifile);if(fl==null){fl=[];this.functionsByFile.m.set(ifile,fl)}fl.push(inf)}if(dline<inf.lmin){inf.lmin=dline}if(dline>inf.lmax){inf.lmax=dline}}}let _g6=0;let _g7=this.code.natives.length;while(_g6<_g7){let i=_g6++;this.functionsIndexes.m.set(this.code.natives[i].findex,this.code.functions.length+i)}}fetchField(o,fid){let pl=[];let fcount=0;while(true){pl.push(o);fcount+=o.fields.length;if(o.tsuper==null){break}let _g2=o.tsuper;if(_g2._hx_index==11){let s=_g2.proto;o=s}else{throw haxe_Exception.thrown("assert")}}if(fid<0||fid>=fcount){return null}let _g=0;let _g1=pl.length;while(_g<_g1){let i=_g++;let o2=pl[pl.length-i-1];if(fid<o2.fields.length){return o2.fields[fid]}fid-=o2.fields.length}return null}init(align){this.align=align;let globalsPos=0;this.globalsOffsets=[];let _g=0;let _g1=this.code.globals;while(_g<_g1.length){let g=_g1[_g];++_g;globalsPos+=align.padSize(globalsPos,g);this.globalsOffsets.push(globalsPos);globalsPos+=align.typeSize(g)}this.globalTable={sub:new haxe_ds_StringMap,gid:null};let _gthis=this;let addGlobal=function(path,gid){let t=_gthis.globalTable;let _g4=0;while(_g4<path.length){let p=path[_g4];++_g4;if(t.sub==null){t.sub=new haxe_ds_StringMap}let next=t.sub.m.get(p);if(next==null){next={sub:null,gid:null};t.sub.m.set(p,next)}t=next}t.gid=gid};this.typeCache=new haxe_ds_StringMap;let _g2=0;let _g3=this.code.types;while(_g2<_g3.length){let t=_g3[_g2];++_g2;switch(t._hx_index){case 11:let o=t.proto;this.typeCache.m.set(o.name,t);if(o.globalValue==null){continue}let path=o.name.split(".");addGlobal(path,o.globalValue);let hasAlias=false;let apath=[path[0]];let _g4=1;let _g12=path.length;while(_g4<_g12){let i=_g4++;let n0=apath[apath.length-1];let n1=path[i];if(HxOverrides.cca(n0,0)==95&&n1.endsWith("_Impl_")){hasAlias=true;n1=n1.substring(0,n1.length-6);apath.pop()}apath.push(n1)}if(hasAlias){addGlobal(apath,o.globalValue)}break;case 18:let e=t.proto;if(e.name!=null){this.typeCache.m.set(e.name,t)}if(e.globalValue==null){continue}addGlobal(e.name.split("."),e.globalValue);break;case 21:let o1=t.proto;this.typeCache.m.set(o1.name,t);if(o1.globalValue==null){continue}let path1=o1.name.split(".");addGlobal(path1,o1.globalValue);let hasAlias1=false;let apath1=[path1[0]];let _g42=1;let _g5=path1.length;while(_g42<_g5){let i=_g42++;let n0=apath1[apath1.length-1];let n1=path1[i];if(HxOverrides.cca(n0,0)==95&&n1.endsWith("_Impl_")){hasAlias1=true;n1=n1.substring(0,n1.length-6);apath1.pop()}apath1.push(n1)}if(hasAlias1){addGlobal(apath1,o1.globalValue)}break;default:}}}getObjectProto(o,isStruct){let p=this.protoCache.m.get(o.name);if(p!=null){return p}let parent;if(o.tsuper==null){parent=null}else{let _g7=o.tsuper;switch(_g7._hx_index){case 11:let o12=_g7.proto;parent=this.getObjectProto(o12,isStruct);break;case 21:let o2=_g7.proto;parent=this.getObjectProto(o2,isStruct);break;default:throw haxe_Exception.thrown("assert")}}let size=parent==null?isStruct?0:this.align.ptrSize:parent.size-parent.padSize;let largestField=parent==null?size:parent.largestField;let fields;if(parent==null){fields=new haxe_ds_StringMap}else{let _g7=new haxe_ds_StringMap;let jsIterator=parent.fields.m.keys();let k_jsIterator=jsIterator;let k_lastStep=jsIterator.next();while(!k_lastStep.done){let v=k_lastStep.value;k_lastStep=k_jsIterator.next();let k=v;_g7.m.set(k,parent.fields.m.get(k))}fields=_g7}let mindex=0;let methods;if(parent==null){methods=new haxe_ds_StringMap}else{let _g7=new haxe_ds_StringMap;let jsIterator=parent.methods.m.entries();let _g_jsIterator=jsIterator;let _g_lastStep=jsIterator.next();while(!_g_lastStep.done){let v=_g_lastStep.value;_g_lastStep=_g_jsIterator.next();let _g_key=v[0];let _g_value=v[1];let k=_g_key;let v1=_g_value;++mindex;_g7.m.set(k,v1)}methods=_g7}let _g=0;let _g1=o.fields;while(_g<_g1.length){let f=_g1[_g];++_g;let pad=f.t;if(pad._hx_index==22){let t=pad.t;let _g7=t.v;if(_g7._hx_index==21){let o2=_g7.proto;let large=this.getObjectProto(o2,true).largestField;let pad2=size%large;if(pad2!=0){size+=large-pad2}if(large>largestField){largestField=large}}else{throw haxe_Exception.thrown("assert")}}else{size+=this.align.padStruct(size,pad)}fields.m.set(f.name,{name:f.name,t:f.t,offset:size});let _g22=f.t;let size1;if(_g22._hx_index==22){let _gv=_g22.t.v;if(_gv._hx_index==21){let o2=_gv.proto;size1=this.getObjectProto(o2,true).size}else{throw haxe_Exception.thrown("assert")}}else{let sz=this.align.typeSize(f.t);if(sz>largestField){largestField=sz}size1=sz}size+=size1}let padSize=0;if(largestField>0){let pad=size%largestField;if(pad!=0){padSize=largestField-pad;size+=padSize}}let _g2=0;let _g3=o.proto;while(_g2<_g3.length){let m=_g3[_g2];++_g2;let idx=this.functionsIndexes.m.get(m.findex);let f=this.code.functions[idx];if(parent!=null&&m.pindex>=0){let v=parent.methods.m.get(m.name);if(v!=null){methods.m.set(m.name,{t:f.t,index:v.index,pindex:m.pindex})}else{methods.m.set(m.name,{t:f.t,index:mindex++,pindex:m.pindex})}}else{methods.m.set(m.name,{t:f.t,index:mindex++,pindex:m.pindex})}}let o1=o.name;let _g4=[];let _g5=0;let _g6=o.fields;while(_g5<_g6.length){let o2=_g6[_g5];++_g5;_g4.push(o2.name)}p={name:o1,size:size,padSize:padSize,largestField:largestField,parent:parent,fields:fields,methods:methods,fieldNames:_g4};this.protoCache.m.set(p.name,p);return p}getEnumProto(e){if(e.name==null){e.name="$Closure:"+this.closureContextId++}let p=this.eprotoCache.m.get(e.name);if(p!=null){return p}p=[];let _g=0;let _g1=e.constructs;while(_g<_g1.length){let c=_g1[_g];++_g;let size=this.align.ptrSize;size+=this.align.padStruct(size,format_hl_HLType.HI32);size+=4;let params=[];let _g2=0;let _g3=c.params;while(_g2<_g3.length){let t=_g3[_g2];++_g2;size+=this.align.padStruct(size,t);params.push({offset:size,t:t});size+=this.align.typeSize(t)}p.push({name:c.name,size:size,params:params})}this.eprotoCache.m.set(e.name,p);return p}resolveGlobal(path){let g=this.globalTable;while(path.length>0){if(g.sub==null){break}let p=path[0];let n=g.sub.m.get(p);if(n==null){break}path.shift();g=n}if(g==this.globalTable||g.gid==null){return null}else{return{type:this.code.globals[g.gid],offset:this.globalsOffsets[g.gid]}}}resolveType(path){return this.typeCache.m.get(path)}resolveEnum(path){let et=this.typeCache.m.get(path);if(et==null){return null}else if(et._hx_index==18){let e=et.proto;return e}else{return null}}getFileFunctions(file){let ifile=this.fileIndexes.m.get(file);if(ifile==null){let this1=this.fileIndexes;let key=file.split("\\").join("/").toLowerCase();ifile=this1.m.get(key)}if(ifile==null){return null}let functions=this.functionsByFile.m.get(ifile);if(functions==null){return null}return{functions:functions,fidx:ifile}}getBreaks(file,line){let ffuns=this.getFileFunctions(file);if(ffuns==null){return null}let breaks=[];let funs=ffuns.functions;let matched=[];while(breaks.length==0&&funs.length>0){let _g=0;while(_g<funs.length){let f=funs[_g];++_g;if(f.lmin>line||f.lmax<line){continue}matched.push(f);let ifun=f.ifun;let f1=f.f;let i=0;let len=f1.debug.length>>1;let first=-1;while(i<len){let dfile=f1.debug[i<<1];if(dfile!=ffuns.fidx){++i;continue}let dline=f1.debug[(i<<1)+1];if(dline!=line){++i;continue}let op=f1.ops[i]._hx_index;if(first==-1||first==op){first=op;breaks.push({ifun:ifun,pos:i})}++i;while(i<len){let dfile2=f1.debug[i<<1];let dline2=f1.debug[(i<<1)+1];if(dfile2==ffuns.fidx&&dline2!=line){break}++i}}}if(breaks.length==0){funs=matched;matched=[];++line}}return{breaks:breaks,line:line}}isValid(fidx,fpos){let f=this.code.functions[fidx];let fid=f.debug[fpos<<1];return this.code.debugFiles[fid]!="?"}resolveSymbol(fidx,fpos){let f=this.code.functions[fidx];let fid=f.debug[fpos<<1];let fline=f.debug[(fpos<<1)+1];return{file:this.code.debugFiles[fid],line:fline}}getFunctionRegs(fidx){let regs=this.functionRegsCache[fidx];if(regs!=null){return regs}let f=this.code.functions[fidx];let nargs;let _g=f.t;if(_g._hx_index==10){let f2=_g.fun;nargs=f2.args.length}else{throw haxe_Exception.thrown("assert")}regs=[];let argsSize=0;let size=0;let floatRegs=0;let intRegs=0;let _g1=0;let _g2=nargs;while(_g1<_g2){let i=_g1++;let t=f.regs[i];if(this.align.is64&&!this.isWindows){let isFloat;switch(t._hx_index){case 5:case 6:isFloat=true;break;default:isFloat=false}let tmp;if(isFloat){++floatRegs;tmp=floatRegs}else{++intRegs;tmp=intRegs}if(tmp<=6){size+=this.align.typeSize(t);size+=this.align.padSize(size,t);regs[i]={t:t,offset:-size};continue}}regs[i]={t:t,offset:argsSize+this.align.ptrSize*2};argsSize+=this.align.stackSize(t)}let _g3=nargs;let _g4=f.regs.length;while(_g3<_g4){let i=_g3++;let t=f.regs[i];size+=this.align.typeSize(t);size+=this.align.padSize(size,t);regs[i]={t:t,offset:-size}}this.functionRegsCache[fidx]=regs;return regs}reverseHash(h){if(this.reversedHashes==null){this.reversedHashes=new haxe_ds_IntMap;let _g=0;let _g1=this.code.strings;while(_g<_g1.length){let s=_g1[_g];++_g;let this1=this.reversedHashes;let key=format_hl_Tools.hash(s);this1.m.set(key,s)}}return this.reversedHashes.m.get(h)}getGraph(fidx){let g=this.graphCache.m.get(fidx);if(g!=null){return g}g=new hld_CodeGraph(this.code,this.code.functions[fidx]);this.graphCache.m.set(fidx,g);return g}}hld_Module.__name__="hld.Module";Object.assign(hld_Module.prototype,{__class__:hld_Module});var hld_Native=require_hldebug_wrapper();class hld_NodeDebugApiNative{constructor(pid,is64){this.pid=pid;this.is64=is64;this.tmp=new hld_Buffer(8);this.tmpByte=new hld_Buffer(4)}makePointer(ptr){this.tmp.buf.writeInt32LE(ptr.low,0);this.tmp.buf.writeInt32LE(ptr.high,4);return this.tmp}start(){return hld_Native.debugStart(this.pid)}stop(){hld_Native.debugStop(this.pid)}breakpoint(){return hld_Native.debugBreakpoint(this.pid)}read(ptr,buffer,size){let b=hld_Buffer.fromBinaryString(hld_Native.debugRead(this.pid,this.makePointer(ptr).toBinaryString(),size));buffer.buf=b.buf;return true}internalRead(ptr,size){return hld_Buffer.fromBinaryString(hld_Native.debugRead(this.pid,this.makePointer(ptr).toBinaryString(),size))}readByte(ptr,pos){let b_high=pos>>31;let b_low=pos;let high=ptr.high+b_high|0;let low=ptr.low+b_low|0;if(haxe_Int32.ucompare(low,ptr.low)<0){let ret=high++;high=high|0}let b=this.internalRead(new haxe__$Int64__$_$_$Int64(high,low),1);return b.buf.readUInt8(0)}write(ptr,buffer,size){return hld_Native.debugWrite(this.pid,this.makePointer(ptr).toBinaryString(),buffer.toBinaryString(),size)}writeByte(ptr,pos,value){this.tmpByte.buf.writeUInt8(value&255,0);let b_high=pos>>31;let b_low=pos;let high=ptr.high+b_high|0;let low=ptr.low+b_low|0;if(haxe_Int32.ucompare(low,ptr.low)<0){let ret=high++;high=high|0}if(!this.write(new haxe__$Int64__$_$_$Int64(high,low),this.tmpByte,1)){let b_high2=pos>>31;let b_low2=pos;let high2=ptr.high+b_high2|0;let low2=ptr.low+b_low2|0;if(haxe_Int32.ucompare(low2,ptr.low)<0){let ret=high2++;high2=high2|0}throw haxe_Exception.thrown("Failed to write @"+hld_Pointer.toString(new haxe__$Int64__$_$_$Int64(high2,low2)))}}flush(ptr,size){return hld_Native.debugFlush(this.pid,this.makePointer(ptr).toBinaryString(),size)}wait(timeout){let buf=hld_Native.debugWait(this.pid,timeout);let r=buf.readInt32LE(0);let tid=buf.readInt32LE(4);return{r:r,tid:tid}}resume(tid){return hld_Native.debugResume(this.pid,tid)}readRegister(tid,register){let buf=hld_Buffer.fromBinaryString(hld_Native.debugReadRegister(this.pid,tid,register,this.is64));if(buf==null){return null}if(register==3){return hld_Pointer.make(buf.buf.readUInt16LE(0),0)}if(!this.is64){return hld_Pointer.make(buf.buf.readInt32LE(0),0)}return hld_Pointer.make(buf.buf.readInt32LE(0),buf.buf.readInt32LE(4))}writeRegister(tid,register,v){return hld_Native.debugWriteRegister(this.pid,tid,register,this.makePointer(v).toBinaryString(),this.is64)}}hld_NodeDebugApiNative.__name__="hld.NodeDebugApiNative";hld_NodeDebugApiNative.__interfaces__=[hld_Api];Object.assign(hld_NodeDebugApiNative.prototype,{__class__:hld_NodeDebugApiNative});class hld_Pointer{static _hx_new(b){return b}static get_i64(this1){return this1}static offset(this1,pos){let b_high=pos>>31;let b_low=pos;let high=this1.high+b_high|0;let low=this1.low+b_low|0;if(haxe_Int32.ucompare(low,this1.low)<0){let ret=high++;high=high|0}return new haxe__$Int64__$_$_$Int64(high,low)}static sub(this1,p){let b=p;let high=this1.high-b.high|0;let low=this1.low-b.low|0;if(haxe_Int32.ucompare(this1.low,b.low)<0){let ret=high--;high=high|0}let d_high=high;let d_low=low;if(d_high!=d_low>>31){if(d_high>0){return 2147483647}else{return-2147483648}}return d_low}static toInt(this1){return this1.low}static isNull(this1){return this1==null||this1.low==0&&this1.high==0}static opGt(a,b){let a1=a;let b1=b;let v=a1.high-b1.high|0;if(v==0){v=haxe_Int32.ucompare(a1.low,b1.low)}return(a1.high<0?b1.high<0?v:-1:b1.high>=0?v:1)>0}static opGte(a,b){let a1=a;let b1=b;let v=a1.high-b1.high|0;if(v==0){v=haxe_Int32.ucompare(a1.low,b1.low)}return(a1.high<0?b1.high<0?v:-1:b1.high>=0?v:1)>=0}static opLt(a,b){let a1=a;let b1=b;let v=a1.high-b1.high|0;if(v==0){v=haxe_Int32.ucompare(a1.low,b1.low)}return(a1.high<0?b1.high<0?v:-1:b1.high>=0?v:1)<0}static opLte(a,b){let a1=a;let b1=b;let v=a1.high-b1.high|0;if(v==0){v=haxe_Int32.ucompare(a1.low,b1.low)}return(a1.high<0?b1.high<0?v:-1:b1.high>=0?v:1)<=0}static opEq(a,b){let a1=a;let b1=b;return a1.high==b1.high&&a1.low==b1.low}static opNeq(a,b){let a1=a;let b1=b;return a1.high!=b1.high||a1.low!=b1.low}static toString(this1){if(this1.high==0){return"0x"+StringTools.hex(this1.low)}return"0x"+StringTools.hex(this1.high)+StringTools.hex(this1.low,8)}static ofPtr(p){return p}static make(low,high){return new haxe__$Int64__$_$_$Int64(high,low)}}var hld_ValueRepr=$hxEnums["hld.ValueRepr"]={__ename__:true,__constructs__:null,VUndef:{_hx_name:"VUndef",_hx_index:0,__enum__:"hld.ValueRepr",toString:$estr},VNull:{_hx_name:"VNull",_hx_index:1,__enum__:"hld.ValueRepr",toString:$estr},VInt:($_=function(i){return{_hx_index:2,i:i,__enum__:"hld.ValueRepr",toString:$estr,__params__:function(){return[this.i]}}},$_._hx_name="VInt",$_),VInt64:($_=function(i){return{_hx_index:3,i:i,__enum__:"hld.ValueRepr",toString:$estr,__params__:function(){return[this.i]}}},$_._hx_name="VInt64",$_),VFloat:($_=function(v){return{_hx_index:4,v:v,__enum__:"hld.ValueRepr",toString:$estr,__params__:function(){return[this.v]}}},$_._hx_name="VFloat",$_),VBool:($_=function(b){return{_hx_index:5,b:b,__enum__:"hld.ValueRepr",toString:$estr,__params__:function(){return[this.b]}}},$_._hx_name="VBool",$_),VPointer:($_=function(v){return{_hx_index:6,v:v,__enum__:"hld.ValueRepr",toString:$estr,__params__:function(){return[this.v]}}},$_._hx_name="VPointer",$_),VString:($_=function(v,p){return{_hx_index:7,v:v,p:p,__enum__:"hld.ValueRepr",toString:$estr,__params__:function(){return[this.v,this.p]}}},$_._hx_name="VString",$_),VClosure:($_=function(f,d,p){return{_hx_index:8,f:f,d:d,p:p,__enum__:"hld.ValueRepr",toString:$estr,__params__:function(){return[this.f,this.d,this.p]}}},$_._hx_name="VClosure",$_),VFunction:($_=function(f,p){return{_hx_index:9,f:f,p:p,__enum__:"hld.ValueRepr",toString:$estr,__params__:function(){return[this.f,this.p]}}},$_._hx_name="VFunction",$_),VMethod:($_=function(f,obj,p){return{_hx_index:10,f:f,obj:obj,p:p,__enum__:"hld.ValueRepr",toString:$estr,__params__:function(){return[this.f,this.obj,this.p]}}},$_._hx_name="VMethod",$_),VArray:($_=function(t,length,read,p){return{_hx_index:11,t:t,length:length,read:read,p:p,__enum__:"hld.ValueRepr",toString:$estr,__params__:function(){return[this.t,this.length,this.read,this.p]}}},$_._hx_name="VArray",$_),VMap:($_=function(tkey,nkeys,readKey,readValue,p){return{_hx_index:12,tkey:tkey,nkeys:nkeys,readKey:readKey,readValue:readValue,p:p,__enum__:"hld.ValueRepr",toString:$estr,__params__:function(){return[this.tkey,this.nkeys,this.readKey,this.readValue,this.p]}}},$_._hx_name="VMap",$_),VMapPair:($_=function(key,value){return{_hx_index:13,key:key,value:value,__enum__:"hld.ValueRepr",toString:$estr,__params__:function(){return[this.key,this.value]}}},$_._hx_name="VMapPair",$_),VType:($_=function(t){return{_hx_index:14,t:t,__enum__:"hld.ValueRepr",toString:$estr,__params__:function(){return[this.t]}}},$_._hx_name="VType",$_),VEnum:($_=function(c,values,p){return{_hx_index:15,c:c,values:values,p:p,__enum__:"hld.ValueRepr",toString:$estr,__params__:function(){return[this.c,this.values,this.p]}}},$_._hx_name="VEnum",$_),VBytes:($_=function(length,read,p){return{_hx_index:16,length:length,read:read,p:p,__enum__:"hld.ValueRepr",toString:$estr,__params__:function(){return[this.length,this.read,this.p]}}},$_._hx_name="VBytes",$_),VInlined:($_=function(fields){return{_hx_index:17,fields:fields,__enum__:"hld.ValueRepr",toString:$estr,__params__:function(){return[this.fields]}}},$_._hx_name="VInlined",$_),VGuid:($_=function(i,name){return{_hx_index:18,i:i,name:name,__enum__:"hld.ValueRepr",toString:$estr,__params__:function(){return[this.i,this.name]}}},$_._hx_name="VGuid",$_)};hld_ValueRepr.__constructs__=[hld_ValueRepr.VUndef,hld_ValueRepr.VNull,hld_ValueRepr.VInt,hld_ValueRepr.VInt64,hld_ValueRepr.VFloat,hld_ValueRepr.VBool,hld_ValueRepr.VPointer,hld_ValueRepr.VString,hld_ValueRepr.VClosure,hld_ValueRepr.VFunction,hld_ValueRepr.VMethod,hld_ValueRepr.VArray,hld_ValueRepr.VMap,hld_ValueRepr.VMapPair,hld_ValueRepr.VType,hld_ValueRepr.VEnum,hld_ValueRepr.VBytes,hld_ValueRepr.VInlined,hld_ValueRepr.VGuid];var hld_FunRepr=$hxEnums["hld.FunRepr"]={__ename__:true,__constructs__:null,FUnknown:($_=function(p){return{_hx_index:0,p:p,__enum__:"hld.FunRepr",toString:$estr,__params__:function(){return[this.p]}}},$_._hx_name="FUnknown",$_),FIndex:($_=function(i,p){return{_hx_index:1,i:i,p:p,__enum__:"hld.FunRepr",toString:$estr,__params__:function(){return[this.i,this.p]}}},$_._hx_name="FIndex",$_)};hld_FunRepr.__constructs__=[hld_FunRepr.FUnknown,hld_FunRepr.FIndex];var hld_Hint=$hxEnums["hld.Hint"]={__ename__:true,__constructs__:null,HNone:{_hx_name:"HNone",_hx_index:0,__enum__:"hld.Hint",toString:$estr},HHex:{_hx_name:"HHex",_hx_index:1,__enum__:"hld.Hint",toString:$estr},HBin:{_hx_name:"HBin",_hx_index:2,__enum__:"hld.Hint",toString:$estr},HPointer:{_hx_name:"HPointer",_hx_index:3,__enum__:"hld.Hint",toString:$estr},HEscape:{_hx_name:"HEscape",_hx_index:4,__enum__:"hld.Hint",toString:$estr},HNoEscape:{_hx_name:"HNoEscape",_hx_index:5,__enum__:"hld.Hint",toString:$estr},HReadBytes:($_=function(t,pos){return{_hx_index:6,t:t,pos:pos,__enum__:"hld.Hint",toString:$estr,__params__:function(){return[this.t,this.pos]}}},$_._hx_name="HReadBytes",$_),HArray:($_=function(t,size,pos){return{_hx_index:7,t:t,size:size,pos:pos,__enum__:"hld.Hint",toString:$estr,__params__:function(){return[this.t,this.size,this.pos]}}},$_._hx_name="HArray",$_),HEnumFlags:($_=function(t){return{_hx_index:8,t:t,__enum__:"hld.Hint",toString:$estr,__params__:function(){return[this.t]}}},$_._hx_name="HEnumFlags",$_),HEnumIndex:($_=function(t){return{_hx_index:9,t:t,__enum__:"hld.Hint",toString:$estr,__params__:function(){return[this.t]}}},$_._hx_name="HEnumIndex",$_),HCArray:($_=function(t,size,pos){return{_hx_index:10,t:t,size:size,pos:pos,__enum__:"hld.Hint",toString:$estr,__params__:function(){return[this.t,this.size,this.pos]}}},$_._hx_name="HCArray",$_),HCdbEnum:($_=function(t){return{_hx_index:11,t:t,__enum__:"hld.Hint",toString:$estr,__params__:function(){return[this.t]}}},$_._hx_name="HCdbEnum",$_)};hld_Hint.__constructs__=[hld_Hint.HNone,hld_Hint.HHex,hld_Hint.HBin,hld_Hint.HPointer,hld_Hint.HEscape,hld_Hint.HNoEscape,hld_Hint.HReadBytes,hld_Hint.HArray,hld_Hint.HEnumFlags,hld_Hint.HEnumIndex,hld_Hint.HCArray,hld_Hint.HCdbEnum];class hld_Value{constructor(v,t,hint){this.hint=hld_Hint.HNone;this.v=v;this.t=t;if(hint!=null){this.hint=hint}}static extractHint(expr){let exprs=expr.split(":");let hint=hld_Hint.HNone;if(exprs.length>1){hint=hld_Value.parseHint(exprs.pop());expr=exprs.join(":")}return{expr:expr,hint:hint}}static parseHint(s){if(s=="h"){return hld_Hint.HHex}if(s=="b"){return hld_Hint.HBin}if(s=="p"){return hld_Hint.HPointer}if(s=="s"){return hld_Hint.HEscape}if(s.startsWith("UI8(")&&s.endsWith(")")){return hld_Hint.HReadBytes(format_hl_HLType.HUi8,HxOverrides.substr(s,4,s.length-5))}if(s.startsWith("UI16(")&&s.endsWith(")")){return hld_Hint.HReadBytes(format_hl_HLType.HUi16,HxOverrides.substr(s,5,s.length-6))}if(s.startsWith("I32(")&&s.endsWith(")")){return hld_Hint.HReadBytes(format_hl_HLType.HI32,HxOverrides.substr(s,4,s.length-5))}if(s.startsWith("I64(")&&s.endsWith(")")){return hld_Hint.HReadBytes(format_hl_HLType.HI64,HxOverrides.substr(s,4,s.length-5))}if(s.startsWith("F32(")&&s.endsWith(")")){return hld_Hint.HReadBytes(format_hl_HLType.HF32,HxOverrides.substr(s,4,s.length-5))}if(s.startsWith("F64(")&&s.endsWith(")")){return hld_Hint.HReadBytes(format_hl_HLType.HF64,HxOverrides.substr(s,4,s.length-5))}if(s.startsWith("Array<")){let typeStr=null;let size=null;let pos=null;if(s.endsWith(">")){let parts=HxOverrides.substr(s,6,s.length-7).split(",");typeStr=parts[0];size=parts.length>1?parts[1]:null}if(s.endsWith("]")){let parts=HxOverrides.substr(s,6,s.length-7).split(">[");typeStr=parts[0];pos=parts[1]}let btype;if(typeStr==null){return hld_Hint.HNone}else{switch(typeStr){case"F32":btype=format_hl_HLType.HF32;break;case"F64":case"Float":btype=format_hl_HLType.HF64;break;case"I64":btype=format_hl_HLType.HI64;break;case"I32":case"Int":btype=format_hl_HLType.HI32;break;case"UI16":btype=format_hl_HLType.HUi16;break;case"UI8":btype=format_hl_HLType.HUi8;break;default:return hld_Hint.HNone}}return hld_Hint.HArray(btype,size,pos)}if(s.startsWith("EnumFlags<")&&s.endsWith(">")){return hld_Hint.HEnumFlags(HxOverrides.substr(s,10,s.length-11))}if(s.startsWith("haxe.EnumFlags<")&&s.endsWith(">")){return hld_Hint.HEnumFlags(HxOverrides.substr(s,15,s.length-16))}if(s.startsWith("EnumIndex<")&&s.endsWith(">")){return hld_Hint.HEnumIndex(HxOverrides.substr(s,10,s.length-11))}if(s.startsWith("CArray<")){if(s.endsWith(">")){let parts=HxOverrides.substr(s,7,s.length-8).split(",");if(parts.length==2){return hld_Hint.HCArray(parts[0],parts[1],null)}}if(s.endsWith("]")){let parts=HxOverrides.substr(s,7,s.length-8).split(">[");if(parts.length==2){return hld_Hint.HCArray(parts[0],null,parts[1])}}}if(s.startsWith("CDB<")&&s.endsWith(">")){return hld_Hint.HCdbEnum(HxOverrides.substr(s,4,s.length-5))}if(s.startsWith("CDBEnum<")&&s.endsWith(">")){return hld_Hint.HCdbEnum(HxOverrides.substr(s,8,s.length-9))}return hld_Hint.HNone}static intStr(value,base){return hld_Value.int64Str(new haxe__$Int64__$_$_$Int64(value>>31,value),base,true)}static int64Str(value,base,is32bit){if(is32bit==null){is32bit=false}if(base!=2&&base!=16){throw haxe_Exception.thrown("Unsupported int base "+base)}let prefix=base==2?"0b":"0x";let b_high=0;let b_low=0;if(value.high==b_high&&value.low==b_low){return prefix+"0"}let mask=base-1;let shift=base==2?1:4;let maxlen=base==2?is32bit?32:64:is32bit?8:16;let s="";let b_high1=0;let b_low1=0;let v=value.high-b_high1|0;if(v==0){v=haxe_Int32.ucompare(value.low,b_low1)}let positive=(value.high<0?b_high1<0?v:-1:b_high1>=0?v:1)>=0;let abs;if(positive){abs=value}else{let b_high2=0;let b_low2=1;let high=value.high+b_high2|0;let low=value.low+b_low2|0;if(haxe_Int32.ucompare(low,value.low)<0){let ret=high++;high=high|0}let x_high=high;let x_low=low;let high1=~x_high;let low1=~x_low+1|0;if(low1==0){let ret=high1++;high1=high1|0}abs=new haxe__$Int64__$_$_$Int64(high1,low1)}while(true){let b_high2=0;let b_low2=0;let v2=abs.high-b_high2|0;if(v2==0){v2=haxe_Int32.ucompare(abs.low,b_low2)}if(!((abs.high<0?b_high2<0?v2:-1:b_high2>=0?v2:1)>0)){break}let cur=positive?abs.low&mask:(mask-abs.low|0)&mask;s=hld_Value.INTBASE.charAt(cur)+s;let b=shift;b&=63;abs=b==0?new haxe__$Int64__$_$_$Int64(abs.high,abs.low):b<32?new haxe__$Int64__$_$_$Int64(abs.high>>b,abs.high<<32-b|abs.low>>>b):new haxe__$Int64__$_$_$Int64(abs.high>>31,abs.high>>b-32)}if(s.length<maxlen){let lchar=positive?"0":base==2?"1":"F";s=StringTools.lpad(s,lchar,maxlen)}return prefix+s}static parseInt64(str){let value=new haxe__$Int64__$_$_$Int64(0,0);let base=16;let shift=4;let i=0;if(str.startsWith("0x")){i+=2}while(i<str.length){let c=HxOverrides.cca(str,i);let cval;if(c>=48&&c<=57){cval=c-48}else if(c>=65&&c<=70){cval=c-65+10}else if(c>=97&&c<=102){cval=c-97+10}else{break}let b=shift;b&=63;let a=b==0?new haxe__$Int64__$_$_$Int64(value.high,value.low):b<32?new haxe__$Int64__$_$_$Int64(value.high<<b|value.low>>>32-b,value.low<<b):new haxe__$Int64__$_$_$Int64(value.low<<b-32,0);let b_high=cval>>31;let b_low=cval;let high=a.high+b_high|0;let low=a.low+b_low|0;if(haxe_Int32.ucompare(low,a.low)<0){let ret=high++;high=high|0}value=new haxe__$Int64__$_$_$Int64(high,low);++i}return value}static int64GuidStr(value){let b_high=0;let b_low=0;if(value.high==b_high&&value.low==b_low){return"0"}let s="";let _g=0;while(_g<11){let i=_g++;if(i==3||i==7){s="-"+s}s=hld_Value.GUIDBASE.charAt(value.low&63)+s;let b=6;b&=63;value=b==0?new haxe__$Int64__$_$_$Int64(value.high,value.low):b<32?new haxe__$Int64__$_$_$Int64(value.high>>b,value.high<<32-b|value.low>>>b):new haxe__$Int64__$_$_$Int64(value.high>>31,value.high>>b-32)}return s}static intEnumFlags(value,eproto){let f="";let _g=0;let _g1=eproto.constructs.length;while(_g<_g1){let i=_g++;if((value>>i)%2==1){f+=" | "+eproto.constructs[i].name}}if(f.length==0){f="(noflag)"}else{f=HxOverrides.substr(f,3,null)}return f}static intEnumIndex(value,eproto){if(value<0||value>=eproto.constructs.length){throw haxe_Exception.thrown("Out of range [0,"+eproto.constructs.length+")")}return eproto.constructs[value].name}}hld_Value.__name__="hld.Value";Object.assign(hld_Value.prototype,{__class__:hld_Value});var hscript_Const=$hxEnums["hscript.Const"]={__ename__:true,__constructs__:null,CInt:($_=function(v){return{_hx_index:0,v:v,__enum__:"hscript.Const",toString:$estr,__params__:function(){return[this.v]}}},$_._hx_name="CInt",$_),CFloat:($_=function(f){return{_hx_index:1,f:f,__enum__:"hscript.Const",toString:$estr,__params__:function(){return[this.f]}}},$_._hx_name="CFloat",$_),CString:($_=function(s){return{_hx_index:2,s:s,__enum__:"hscript.Const",toString:$estr,__params__:function(){return[this.s]}}},$_._hx_name="CString",$_)};hscript_Const.__constructs__=[hscript_Const.CInt,hscript_Const.CFloat,hscript_Const.CString];var hscript_Expr=$hxEnums["hscript.Expr"]={__ename__:true,__constructs__:null,EConst:($_=function(c){return{_hx_index:0,c:c,__enum__:"hscript.Expr",toString:$estr,__params__:function(){return[this.c]}}},$_._hx_name="EConst",$_),EIdent:($_=function(v){return{_hx_index:1,v:v,__enum__:"hscript.Expr",toString:$estr,__params__:function(){return[this.v]}}},$_._hx_name="EIdent",$_),EVar:($_=function(n,t,e){return{_hx_index:2,n:n,t:t,e:e,__enum__:"hscript.Expr",toString:$estr,__params__:function(){return[this.n,this.t,this.e]}}},$_._hx_name="EVar",$_),EParent:($_=function(e){return{_hx_index:3,e:e,__enum__:"hscript.Expr",toString:$estr,__params__:function(){return[this.e]}}},$_._hx_name="EParent",$_),EBlock:($_=function(e){return{_hx_index:4,e:e,__enum__:"hscript.Expr",toString:$estr,__params__:function(){return[this.e]}}},$_._hx_name="EBlock",$_),EField:($_=function(e,f){return{_hx_index:5,e:e,f:f,__enum__:"hscript.Expr",toString:$estr,__params__:function(){return[this.e,this.f]}}},$_._hx_name="EField",$_),EBinop:($_=function(op,e1,e2){return{_hx_index:6,op:op,e1:e1,e2:e2,__enum__:"hscript.Expr",toString:$estr,__params__:function(){return[this.op,this.e1,this.e2]}}},$_._hx_name="EBinop",$_),EUnop:($_=function(op,prefix,e){return{_hx_index:7,op:op,prefix:prefix,e:e,__enum__:"hscript.Expr",toString:$estr,__params__:function(){return[this.op,this.prefix,this.e]}}},$_._hx_name="EUnop",$_),ECall:($_=function(e,params){return{_hx_index:8,e:e,params:params,__enum__:"hscript.Expr",toString:$estr,__params__:function(){return[this.e,this.params]}}},$_._hx_name="ECall",$_),EIf:($_=function(cond,e1,e2){return{_hx_index:9,cond:cond,e1:e1,e2:e2,__enum__:"hscript.Expr",toString:$estr,__params__:function(){return[this.cond,this.e1,this.e2]}}},$_._hx_name="EIf",$_),EWhile:($_=function(cond,e){return{_hx_index:10,cond:cond,e:e,__enum__:"hscript.Expr",toString:$estr,__params__:function(){return[this.cond,this.e]}}},$_._hx_name="EWhile",$_),EFor:($_=function(v,it,e){return{_hx_index:11,v:v,it:it,e:e,__enum__:"hscript.Expr",toString:$estr,__params__:function(){return[this.v,this.it,this.e]}}},$_._hx_name="EFor",$_),EBreak:{_hx_name:"EBreak",_hx_index:12,__enum__:"hscript.Expr",toString:$estr},EContinue:{_hx_name:"EContinue",_hx_index:13,__enum__:"hscript.Expr",toString:$estr},EFunction:($_=function(args,e,name,ret){return{_hx_index:14,args:args,e:e,name:name,ret:ret,__enum__:"hscript.Expr",toString:$estr,__params__:function(){return[this.args,this.e,this.name,this.ret]}}},$_._hx_name="EFunction",$_),EReturn:($_=function(e){return{_hx_index:15,e:e,__enum__:"hscript.Expr",toString:$estr,__params__:function(){return[this.e]}}},$_._hx_name="EReturn",$_),EArray:($_=function(e,index){return{_hx_index:16,e:e,index:index,__enum__:"hscript.Expr",toString:$estr,__params__:function(){return[this.e,this.index]}}},$_._hx_name="EArray",$_),EArrayDecl:($_=function(e){return{_hx_index:17,e:e,__enum__:"hscript.Expr",toString:$estr,__params__:function(){return[this.e]}}},$_._hx_name="EArrayDecl",$_),ENew:($_=function(cl,params){return{_hx_index:18,cl:cl,params:params,__enum__:"hscript.Expr",toString:$estr,__params__:function(){return[this.cl,this.params]}}},$_._hx_name="ENew",$_),EThrow:($_=function(e){return{_hx_index:19,e:e,__enum__:"hscript.Expr",toString:$estr,__params__:function(){return[this.e]}}},$_._hx_name="EThrow",$_),ETry:($_=function(e,v,t,ecatch){return{_hx_index:20,e:e,v:v,t:t,ecatch:ecatch,__enum__:"hscript.Expr",toString:$estr,__params__:function(){return[this.e,this.v,this.t,this.ecatch]}}},$_._hx_name="ETry",$_),EObject:($_=function(fl){return{_hx_index:21,fl:fl,__enum__:"hscript.Expr",toString:$estr,__params__:function(){return[this.fl]}}},$_._hx_name="EObject",$_),ETernary:($_=function(cond,e1,e2){return{_hx_index:22,cond:cond,e1:e1,e2:e2,__enum__:"hscript.Expr",toString:$estr,__params__:function(){return[this.cond,this.e1,this.e2]}}},$_._hx_name="ETernary",$_),ESwitch:($_=function(e,cases,defaultExpr){return{_hx_index:23,e:e,cases:cases,defaultExpr:defaultExpr,__enum__:"hscript.Expr",toString:$estr,__params__:function(){return[this.e,this.cases,this.defaultExpr]}}},$_._hx_name="ESwitch",$_),EDoWhile:($_=function(cond,e){return{_hx_index:24,cond:cond,e:e,__enum__:"hscript.Expr",toString:$estr,__params__:function(){return[this.cond,this.e]}}},$_._hx_name="EDoWhile",$_),EMeta:($_=function(name,args,e){return{_hx_index:25,name:name,args:args,e:e,__enum__:"hscript.Expr",toString:$estr,__params__:function(){return[this.name,this.args,this.e]}}},$_._hx_name="EMeta",$_),ECheckType:($_=function(e,t){return{_hx_index:26,e:e,t:t,__enum__:"hscript.Expr",toString:$estr,__params__:function(){return[this.e,this.t]}}},$_._hx_name="ECheckType",$_)};hscript_Expr.__constructs__=[hscript_Expr.EConst,hscript_Expr.EIdent,hscript_Expr.EVar,hscript_Expr.EParent,hscript_Expr.EBlock,hscript_Expr.EField,hscript_Expr.EBinop,hscript_Expr.EUnop,hscript_Expr.ECall,hscript_Expr.EIf,hscript_Expr.EWhile,hscript_Expr.EFor,hscript_Expr.EBreak,hscript_Expr.EContinue,hscript_Expr.EFunction,hscript_Expr.EReturn,hscript_Expr.EArray,hscript_Expr.EArrayDecl,hscript_Expr.ENew,hscript_Expr.EThrow,hscript_Expr.ETry,hscript_Expr.EObject,hscript_Expr.ETernary,hscript_Expr.ESwitch,hscript_Expr.EDoWhile,hscript_Expr.EMeta,hscript_Expr.ECheckType];var hscript_CType=$hxEnums["hscript.CType"]={__ename__:true,__constructs__:null,CTPath:($_=function(path,params){return{_hx_index:0,path:path,params:params,__enum__:"hscript.CType",toString:$estr,__params__:function(){return[this.path,this.params]}}},$_._hx_name="CTPath",$_),CTFun:($_=function(args,ret){return{_hx_index:1,args:args,ret:ret,__enum__:"hscript.CType",toString:$estr,__params__:function(){return[this.args,this.ret]}}},$_._hx_name="CTFun",$_),CTAnon:($_=function(fields){return{_hx_index:2,fields:fields,__enum__:"hscript.CType",toString:$estr,__params__:function(){return[this.fields]}}},$_._hx_name="CTAnon",$_),CTParent:($_=function(t){return{_hx_index:3,t:t,__enum__:"hscript.CType",toString:$estr,__params__:function(){return[this.t]}}},$_._hx_name="CTParent",$_),CTOpt:($_=function(t){return{_hx_index:4,t:t,__enum__:"hscript.CType",toString:$estr,__params__:function(){return[this.t]}}},$_._hx_name="CTOpt",$_),CTNamed:($_=function(n,t){return{_hx_index:5,n:n,t:t,__enum__:"hscript.CType",toString:$estr,__params__:function(){return[this.n,this.t]}}},$_._hx_name="CTNamed",$_)};hscript_CType.__constructs__=[hscript_CType.CTPath,hscript_CType.CTFun,hscript_CType.CTAnon,hscript_CType.CTParent,hscript_CType.CTOpt,hscript_CType.CTNamed];var hscript_Error=$hxEnums["hscript.Error"]={__ename__:true,__constructs__:null,EInvalidChar:($_=function(c){return{_hx_index:0,c:c,__enum__:"hscript.Error",toString:$estr,__params__:function(){return[this.c]}}},$_._hx_name="EInvalidChar",$_),EUnexpected:($_=function(s){return{_hx_index:1,s:s,__enum__:"hscript.Error",toString:$estr,__params__:function(){return[this.s]}}},$_._hx_name="EUnexpected",$_),EUnterminatedString:{_hx_name:"EUnterminatedString",_hx_index:2,__enum__:"hscript.Error",toString:$estr},EUnterminatedComment:{_hx_name:"EUnterminatedComment",_hx_index:3,__enum__:"hscript.Error",toString:$estr},EInvalidPreprocessor:($_=function(msg){return{_hx_index:4,msg:msg,__enum__:"hscript.Error",toString:$estr,__params__:function(){return[this.msg]}}},$_._hx_name="EInvalidPreprocessor",$_),EUnknownVariable:($_=function(v){return{_hx_index:5,v:v,__enum__:"hscript.Error",toString:$estr,__params__:function(){return[this.v]}}},$_._hx_name="EUnknownVariable",$_),EInvalidIterator:($_=function(v){return{_hx_index:6,v:v,__enum__:"hscript.Error",toString:$estr,__params__:function(){return[this.v]}}},$_._hx_name="EInvalidIterator",$_),EInvalidOp:($_=function(op){return{_hx_index:7,op:op,__enum__:"hscript.Error",toString:$estr,__params__:function(){return[this.op]}}},$_._hx_name="EInvalidOp",$_),EInvalidAccess:($_=function(f){return{_hx_index:8,f:f,__enum__:"hscript.Error",toString:$estr,__params__:function(){return[this.f]}}},$_._hx_name="EInvalidAccess",$_),ECustom:($_=function(msg){return{_hx_index:9,msg:msg,__enum__:"hscript.Error",toString:$estr,__params__:function(){return[this.msg]}}},$_._hx_name="ECustom",$_)};hscript_Error.__constructs__=[hscript_Error.EInvalidChar,hscript_Error.EUnexpected,hscript_Error.EUnterminatedString,hscript_Error.EUnterminatedComment,hscript_Error.EInvalidPreprocessor,hscript_Error.EUnknownVariable,hscript_Error.EInvalidIterator,hscript_Error.EInvalidOp,hscript_Error.EInvalidAccess,hscript_Error.ECustom];var hscript_ModuleDecl=$hxEnums["hscript.ModuleDecl"]={__ename__:true,__constructs__:null,DPackage:($_=function(path){return{_hx_index:0,path:path,__enum__:"hscript.ModuleDecl",toString:$estr,__params__:function(){return[this.path]}}},$_._hx_name="DPackage",$_),DImport:($_=function(path,everything){return{_hx_index:1,path:path,everything:everything,__enum__:"hscript.ModuleDecl",toString:$estr,__params__:function(){return[this.path,this.everything]}}},$_._hx_name="DImport",$_),DClass:($_=function(c){return{_hx_index:2,c:c,__enum__:"hscript.ModuleDecl",toString:$estr,__params__:function(){return[this.c]}}},$_._hx_name="DClass",$_),DTypedef:($_=function(c){return{_hx_index:3,c:c,__enum__:"hscript.ModuleDecl",toString:$estr,__params__:function(){return[this.c]}}},$_._hx_name="DTypedef",$_)};hscript_ModuleDecl.__constructs__=[hscript_ModuleDecl.DPackage,hscript_ModuleDecl.DImport,hscript_ModuleDecl.DClass,hscript_ModuleDecl.DTypedef];var hscript_FieldAccess=$hxEnums["hscript.FieldAccess"]={__ename__:true,__constructs__:null,APublic:{_hx_name:"APublic",_hx_index:0,__enum__:"hscript.FieldAccess",toString:$estr},APrivate:{_hx_name:"APrivate",_hx_index:1,__enum__:"hscript.FieldAccess",toString:$estr},AInline:{_hx_name:"AInline",_hx_index:2,__enum__:"hscript.FieldAccess",toString:$estr},AOverride:{_hx_name:"AOverride",_hx_index:3,__enum__:"hscript.FieldAccess",toString:$estr},AStatic:{_hx_name:"AStatic",_hx_index:4,__enum__:"hscript.FieldAccess",toString:$estr},AMacro:{_hx_name:"AMacro",_hx_index:5,__enum__:"hscript.FieldAccess",toString:$estr}};hscript_FieldAccess.__constructs__=[hscript_FieldAccess.APublic,hscript_FieldAccess.APrivate,hscript_FieldAccess.AInline,hscript_FieldAccess.AOverride,hscript_FieldAccess.AStatic,hscript_FieldAccess.AMacro];var hscript_FieldKind=$hxEnums["hscript.FieldKind"]={__ename__:true,__constructs__:null,KFunction:($_=function(f){return{_hx_index:0,f:f,__enum__:"hscript.FieldKind",toString:$estr,__params__:function(){return[this.f]}}},$_._hx_name="KFunction",$_),KVar:($_=function(v){return{_hx_index:1,v:v,__enum__:"hscript.FieldKind",toString:$estr,__params__:function(){return[this.v]}}},$_._hx_name="KVar",$_)};hscript_FieldKind.__constructs__=[hscript_FieldKind.KFunction,hscript_FieldKind.KVar];var hscript_Token=$hxEnums["hscript.Token"]={__ename__:true,__constructs__:null,TEof:{_hx_name:"TEof",_hx_index:0,__enum__:"hscript.Token",toString:$estr},TConst:($_=function(c){return{_hx_index:1,c:c,__enum__:"hscript.Token",toString:$estr,__params__:function(){return[this.c]}}},$_._hx_name="TConst",$_),TId:($_=function(s){return{_hx_index:2,s:s,__enum__:"hscript.Token",toString:$estr,__params__:function(){return[this.s]}}},$_._hx_name="TId",$_),TOp:($_=function(s){return{_hx_index:3,s:s,__enum__:"hscript.Token",toString:$estr,__params__:function(){return[this.s]}}},$_._hx_name="TOp",$_),TPOpen:{_hx_name:"TPOpen",_hx_index:4,__enum__:"hscript.Token",toString:$estr},TPClose:{_hx_name:"TPClose",_hx_index:5,__enum__:"hscript.Token",toString:$estr},TBrOpen:{_hx_name:"TBrOpen",_hx_index:6,__enum__:"hscript.Token",toString:$estr},TBrClose:{_hx_name:"TBrClose",_hx_index:7,__enum__:"hscript.Token",toString:$estr},TDot:{_hx_name:"TDot",_hx_index:8,__enum__:"hscript.Token",toString:$estr},TQuestionDot:{_hx_name:"TQuestionDot",_hx_index:9,__enum__:"hscript.Token",toString:$estr},TComma:{_hx_name:"TComma",_hx_index:10,__enum__:"hscript.Token",toString:$estr},TSemicolon:{_hx_name:"TSemicolon",_hx_index:11,__enum__:"hscript.Token",toString:$estr},TBkOpen:{_hx_name:"TBkOpen",_hx_index:12,__enum__:"hscript.Token",toString:$estr},TBkClose:{_hx_name:"TBkClose",_hx_index:13,__enum__:"hscript.Token",toString:$estr},TQuestion:{_hx_name:"TQuestion",_hx_index:14,__enum__:"hscript.Token",toString:$estr},TDoubleDot:{_hx_name:"TDoubleDot",_hx_index:15,__enum__:"hscript.Token",toString:$estr},TMeta:($_=function(s){return{_hx_index:16,s:s,__enum__:"hscript.Token",toString:$estr,__params__:function(){return[this.s]}}},$_._hx_name="TMeta",$_),TPrepro:($_=function(s){return{_hx_index:17,s:s,__enum__:"hscript.Token",toString:$estr,__params__:function(){return[this.s]}}},$_._hx_name="TPrepro",$_)};hscript_Token.__constructs__=[hscript_Token.TEof,hscript_Token.TConst,hscript_Token.TId,hscript_Token.TOp,hscript_Token.TPOpen,hscript_Token.TPClose,hscript_Token.TBrOpen,hscript_Token.TBrClose,hscript_Token.TDot,hscript_Token.TQuestionDot,hscript_Token.TComma,hscript_Token.TSemicolon,hscript_Token.TBkOpen,hscript_Token.TBkClose,hscript_Token.TQuestion,hscript_Token.TDoubleDot,hscript_Token.TMeta,hscript_Token.TPrepro];class hscript_Parser{constructor(){this.uid=0;this.preprocesorValues=new haxe_ds_StringMap;this.line=1;this.opChars="+*/-=!><&|^%~";this.identChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_";let priorities=[["%"],["*","/"],["+","-"],["<<",">>",">>>"],["|","&","^"],["==","!=",">","<",">=","<="],["..."],["&&"],["||"],["=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","|=","&=","^=","=>"],["->"]];this.opPriority=new haxe_ds_StringMap;this.opRightAssoc=new haxe_ds_StringMap;let _g=0;let _g1=priorities.length;while(_g<_g1){let i=_g++;let _g12=0;let _g2=priorities[i];while(_g12<_g2.length){let x4=_g2[_g12];++_g12;this.opPriority.m.set(x4,i);if(i==9){this.opRightAssoc.m.set(x4,true)}}}let x="!";this.opPriority.m.set(x,x=="++"||x=="--"?-1:-2);let x1="++";this.opPriority.m.set(x1,x1=="++"||x1=="--"?-1:-2);let x2="--";this.opPriority.m.set(x2,x2=="++"||x2=="--"?-1:-2);let x3="~";this.opPriority.m.set(x3,x3=="++"||x3=="--"?-1:-2)}get_currentPos(){return this.readPos+this.offset}error(err,pmin,pmax){if(!this.resumeErrors){throw haxe_Exception.thrown(err)}}invalidChar(c){if(!this.resumeErrors){throw haxe_Exception.thrown(hscript_Error.EInvalidChar(c))}}initParser(origin,pos){this.preprocStack=[];this.tokens=new haxe_ds_GenericStack;this.offset=pos;this.char=-1;this.ops=[];this.idents=[];this.uid=0;let _g=0;let _g1=this.opChars.length;while(_g<_g1){let i=_g++;this.ops[HxOverrides.cca(this.opChars,i)]=true}let _g2=0;let _g3=this.identChars.length;while(_g2<_g3){let i=_g2++;this.idents[HxOverrides.cca(this.identChars,i)]=true}}parseString(s,origin,position){if(position==null){position=0}if(origin==null){origin="hscript"}this.initParser(origin,position);this.input=s;this.readPos=0;let a=[];while(true){let tk=this.token();if(tk==hscript_Token.TEof){break}let _this=this.tokens;_this.head=new haxe_ds_GenericCell(tk,_this.head);this.parseFullExpr(a)}if(a.length==1){return a[0]}else{return hscript_Expr.EBlock(a)}}unexpected(tk){let err=hscript_Error.EUnexpected(this.tokenString(tk));if(!this.resumeErrors){throw haxe_Exception.thrown(err)}return null}push(tk){let _this=this.tokens;_this.head=new haxe_ds_GenericCell(tk,_this.head)}ensure(tk){let t=this.token();if(t!=tk){this.unexpected(t)}}ensureToken(tk){let t=this.token();if(!Type.enumEq(t,tk)){this.unexpected(t)}}maybe(tk){let t=this.token();if(Type.enumEq(t,tk)){return true}let _this=this.tokens;_this.head=new haxe_ds_GenericCell(t,_this.head);return false}getIdent(){let tk=this.token();if(tk==null){this.unexpected(tk);return null}else if(tk._hx_index==2){let id=tk.s;return id}else{this.unexpected(tk);return null}}expr(e){return e}pmin(e){return 0}pmax(e){return 0}mk(e,pmin,pmax){return e}isBlock(e){if(e==null){return false}if(e==null){return false}else{switch(e._hx_index){case 2:let t=e.t;let e1=e.e;if(e1!=null){return this.isBlock(e1)}else if(t!=null){if(t==null){return false}else{return t._hx_index==2}}else{return false}break;case 4:return true;case 6:let e2=e.e2;return this.isBlock(e2);case 7:let prefix=e.prefix;let e3=e.e;return!prefix&&this.isBlock(e3);case 9:let e11=e.e1;let e21=e.e2;if(e21!=null){return this.isBlock(e21)}else{return this.isBlock(e11)}break;case 10:let e4=e.e;return this.isBlock(e4);case 11:let e5=e.e;return this.isBlock(e5);case 14:let e6=e.e;return this.isBlock(e6);case 15:let e7=e.e;return e7!=null&&this.isBlock(e7);case 20:let e8=e.ecatch;return this.isBlock(e8);case 21:return true;case 23:return true;case 24:let e9=e.e;return this.isBlock(e9);case 25:let e10=e.e;return this.isBlock(e10);default:return false}}}parseFullExpr(exprs){let e=this.parseExpr();exprs.push(e);let tk=this.token();while(tk==hscript_Token.TComma&&e!=null&&(e==null?false:e._hx_index==2)){e=this.parseStructure("var");exprs.push(e);tk=this.token()}if(tk!=hscript_Token.TSemicolon&&tk!=hscript_Token.TEof){if(this.isBlock(e)){let _this=this.tokens;_this.head=new haxe_ds_GenericCell(tk,_this.head)}else{this.unexpected(tk)}}}parseObject(p1){let fl=[];_hx_loop1:while(true){let tk=this.token();let id=null;if(tk==null){this.unexpected(tk);break}else{switch(tk._hx_index){case 1:let c=tk.c;if(!this.allowJSON){this.unexpected(tk)}if(c._hx_index==2){let s=c.s;id=s}else{this.unexpected(tk)}break;case 2:let i=tk.s;id=i;break;case 7:break _hx_loop1;default:this.unexpected(tk);break _hx_loop1}}let t=this.token();if(t!=hscript_Token.TDoubleDot){this.unexpected(t)}fl.push({name:id,e:this.parseExpr()});tk=this.token();if(tk==null){this.unexpected(tk)}else{switch(tk._hx_index){case 7:break _hx_loop1;case 10:break;default:this.unexpected(tk)}}}return this.parseExprNext(hscript_Expr.EObject(fl))}parseExpr(){let tk=this.token();if(tk==null){return this.unexpected(tk)}else{switch(tk._hx_index){case 1:let c=tk.c;return this.parseExprNext(hscript_Expr.EConst(c));case 2:let id=tk.s;let e=this.parseStructure(id);if(e==null){e=hscript_Expr.EIdent(id)}return this.parseExprNext(e);case 3:let op=tk.s;if(op=="-"){let start=0;let e2=this.parseExpr();if(e2==null){return this.makeUnop(op,e2)}if(e2==null){return this.makeUnop(op,e2)}else if(e2._hx_index==0){let _gc=e2.c;switch(_gc._hx_index){case 0:let i=_gc.v;return hscript_Expr.EConst(hscript_Const.CInt(-i));case 1:let f=_gc.f;return hscript_Expr.EConst(hscript_Const.CFloat(-f));default:return this.makeUnop(op,e2)}}else{return this.makeUnop(op,e2)}}if(this.opPriority.m.get(op)<0){return this.makeUnop(op,this.parseExpr())}return this.unexpected(tk);case 4:tk=this.token();if(tk==hscript_Token.TPClose){let t=this.token();if(!Type.enumEq(t,hscript_Token.TOp("->"))){this.unexpected(t)}let eret=this.parseExpr();return hscript_Expr.EFunction([],hscript_Expr.EReturn(eret))}let _this=this.tokens;_this.head=new haxe_ds_GenericCell(tk,_this.head);let e1=this.parseExpr();tk=this.token();if(tk!=null){switch(tk._hx_index){case 5:return this.parseExprNext(hscript_Expr.EParent(e1));case 10:if(e1!=null){if(e1._hx_index==1){let v=e1.v;return this.parseLambda([{name:v}],0)}}break;case 15:let t=this.parseType();tk=this.token();if(tk!=null){switch(tk._hx_index){case 5:return this.parseExprNext(hscript_Expr.ECheckType(e1,t));case 10:if(e1!=null){if(e1._hx_index==1){let v=e1.v;return this.parseLambda([{name:v,t:t}],0)}}break;default:}}break;default:}}return this.unexpected(tk);case 6:tk=this.token();if(tk==null){let _this2=this.tokens;_this2.head=new haxe_ds_GenericCell(tk,_this2.head)}else{switch(tk._hx_index){case 1:let c1=tk.c;if(this.allowJSON){if(c1._hx_index==2){let tk22=this.token();let _this4=this.tokens;_this4.head=new haxe_ds_GenericCell(tk22,_this4.head);let _this12=this.tokens;_this12.head=new haxe_ds_GenericCell(tk,_this12.head);if(tk22!=null){if(tk22._hx_index==15){return this.parseExprNext(this.parseObject(0))}}}else{let _this4=this.tokens;_this4.head=new haxe_ds_GenericCell(tk,_this4.head)}}else{let _this4=this.tokens;_this4.head=new haxe_ds_GenericCell(tk,_this4.head)}break;case 2:let tk2=this.token();let _this1=this.tokens;_this1.head=new haxe_ds_GenericCell(tk2,_this1.head);let _this2=this.tokens;_this2.head=new haxe_ds_GenericCell(tk,_this2.head);if(tk2!=null){if(tk2._hx_index==15){return this.parseExprNext(this.parseObject(0))}}break;case 7:return this.parseExprNext(hscript_Expr.EObject([]));default:let _this3=this.tokens;_this3.head=new haxe_ds_GenericCell(tk,_this3.head)}}let a=[];while(true){this.parseFullExpr(a);tk=this.token();if(tk==hscript_Token.TBrClose||this.resumeErrors&&tk==hscript_Token.TEof){break}let _this2=this.tokens;_this2.head=new haxe_ds_GenericCell(tk,_this2.head)}return hscript_Expr.EBlock(a);case 12:let a1=[];tk=this.token();while(tk!=hscript_Token.TBkClose&&(!this.resumeErrors||tk!=hscript_Token.TEof)){let _this2=this.tokens;_this2.head=new haxe_ds_GenericCell(tk,_this2.head);a1.push(this.parseExpr());tk=this.token();if(tk==hscript_Token.TComma){tk=this.token()}}if(a1.length==1&&a1[0]!=null){let _g=a1[0];if(_g!=null){switch(_g._hx_index){case 10:let tmp="__a_"+this.uid++;let e2=hscript_Expr.EBlock([hscript_Expr.EVar(tmp,null,hscript_Expr.EArrayDecl([])),this.mapCompr(tmp,a1[0]),hscript_Expr.EIdent(tmp)]);return this.parseExprNext(e2);case 11:let tmp1="__a_"+this.uid++;let e12=hscript_Expr.EBlock([hscript_Expr.EVar(tmp1,null,hscript_Expr.EArrayDecl([])),this.mapCompr(tmp1,a1[0]),hscript_Expr.EIdent(tmp1)]);return this.parseExprNext(e12);case 24:let tmp2="__a_"+this.uid++;let e22=hscript_Expr.EBlock([hscript_Expr.EVar(tmp2,null,hscript_Expr.EArrayDecl([])),this.mapCompr(tmp2,a1[0]),hscript_Expr.EIdent(tmp2)]);return this.parseExprNext(e22);default:}}}return this.parseExprNext(hscript_Expr.EArrayDecl(a1));case 16:let id1=tk.s;if(this.allowMetadata){let args=this.parseMetaArgs();return hscript_Expr.EMeta(id1,args,this.parseExpr())}else{return this.unexpected(tk)}break;default:return this.unexpected(tk)}}}parseLambda(args,pmin){_hx_loop1:while(true){let id=this.getIdent();let t2=this.maybe(hscript_Token.TDoubleDot)?this.parseType():null;args.push({name:id,t:t2});let tk=this.token();if(tk==null){this.unexpected(tk);break}else{switch(tk._hx_index){case 5:break _hx_loop1;case 10:break;default:this.unexpected(tk);break _hx_loop1}}}let t=this.token();if(!Type.enumEq(t,hscript_Token.TOp("->"))){this.unexpected(t)}let eret=this.parseExpr();return hscript_Expr.EFunction(args,hscript_Expr.EReturn(eret))}parseMetaArgs(){let tk=this.token();if(tk!=hscript_Token.TPOpen){let _this=this.tokens;_this.head=new haxe_ds_GenericCell(tk,_this.head);return null}let args=[];tk=this.token();if(tk!=hscript_Token.TPClose){let _this=this.tokens;_this.head=new haxe_ds_GenericCell(tk,_this.head);_hx_loop1:while(true){args.push(this.parseExpr());let _g=this.token();if(_g==null){let tk2=_g;this.unexpected(tk2)}else{switch(_g._hx_index){case 5:break _hx_loop1;case 10:break;default:let tk2=_g;this.unexpected(tk2)}}}}return args}mapCompr(tmp,e){if(e==null){return null}let edef;switch(e._hx_index){case 3:let e2=e.e;edef=hscript_Expr.EParent(this.mapCompr(tmp,e2));break;case 4:let _ge=e.e;if(_ge.length==1){let e3=_ge[0];edef=hscript_Expr.EBlock([this.mapCompr(tmp,e3)])}else{edef=hscript_Expr.ECall(hscript_Expr.EField(hscript_Expr.EIdent(tmp),"push"),[e])}break;case 9:let cond=e.cond;let e1=e.e1;let e21=e.e2;edef=e21==null?hscript_Expr.EIf(cond,this.mapCompr(tmp,e1),null):hscript_Expr.ECall(hscript_Expr.EField(hscript_Expr.EIdent(tmp),"push"),[e]);break;case 10:let cond1=e.cond;let e22=e.e;edef=hscript_Expr.EWhile(cond1,this.mapCompr(tmp,e22));break;case 11:let v=e.v;let it=e.it;let e23=e.e;edef=hscript_Expr.EFor(v,it,this.mapCompr(tmp,e23));break;case 24:let cond2=e.cond;let e24=e.e;edef=hscript_Expr.EDoWhile(cond2,this.mapCompr(tmp,e24));break;default:edef=hscript_Expr.ECall(hscript_Expr.EField(hscript_Expr.EIdent(tmp),"push"),[e])}return edef}makeUnop(op,e){if(e==null&&this.resumeErrors){return null}if(e==null){return hscript_Expr.EUnop(op,true,e)}else{switch(e._hx_index){case 6:let bop=e.op;let e1=e.e1;let e2=e.e2;return hscript_Expr.EBinop(bop,this.makeUnop(op,e1),e2);case 22:let e11=e.cond;let e21=e.e1;let e3=e.e2;return hscript_Expr.ETernary(this.makeUnop(op,e11),e21,e3);default:return hscript_Expr.EUnop(op,true,e)}}}makeBinop(op,e1,e){if(e==null&&this.resumeErrors){return hscript_Expr.EBinop(op,e1,e)}if(e==null){return hscript_Expr.EBinop(op,e1,e)}else{switch(e._hx_index){case 6:let op2=e.op;let e2=e.e1;let e3=e.e2;if(this.opPriority.m.get(op)<=this.opPriority.m.get(op2)&&!this.opRightAssoc.m.has(op)){return hscript_Expr.EBinop(op2,this.makeBinop(op,e1,e2),e3)}else{return hscript_Expr.EBinop(op,e1,e)}break;case 22:let e21=e.cond;let e31=e.e1;let e4=e.e2;if(this.opRightAssoc.m.has(op)){return hscript_Expr.EBinop(op,e1,e)}else{return hscript_Expr.ETernary(this.makeBinop(op,e1,e21),e31,e4)}break;default:return hscript_Expr.EBinop(op,e1,e)}}}parseStructure(id){switch(id){case"break":return hscript_Expr.EBreak;case"continue":return hscript_Expr.EContinue;case"do":let e=this.parseExpr();let tk=this.token();if(tk==null){this.unexpected(tk)}else if(tk._hx_index==2){if(tk.s!="while"){this.unexpected(tk)}}else{this.unexpected(tk)}let econd=this.parseExpr();return hscript_Expr.EDoWhile(econd,e);case"else":return this.unexpected(hscript_Token.TId(id));case"for":let t=this.token();if(t!=hscript_Token.TPOpen){this.unexpected(t)}let vname=this.getIdent();let t1=this.token();if(!Type.enumEq(t1,hscript_Token.TId("in"))){this.unexpected(t1)}let eiter=this.parseExpr();let t2=this.token();if(t2!=hscript_Token.TPClose){this.unexpected(t2)}let e1=this.parseExpr();return hscript_Expr.EFor(vname,eiter,e1);case"function":let tk1=this.token();let name=null;if(tk1==null){let _this2=this.tokens;_this2.head=new haxe_ds_GenericCell(tk1,_this2.head)}else if(tk1._hx_index==2){let id2=tk1.s;name=id2}else{let _this2=this.tokens;_this2.head=new haxe_ds_GenericCell(tk1,_this2.head)}let inf=this.parseFunctionDecl();return hscript_Expr.EFunction(inf.args,inf.body,name,inf.ret);case"if":let t3=this.token();if(t3!=hscript_Token.TPOpen){this.unexpected(t3)}let cond=this.parseExpr();let t4=this.token();if(t4!=hscript_Token.TPClose){this.unexpected(t4)}let e11=this.parseExpr();let e2=null;let semic=false;let tk2=this.token();if(tk2==hscript_Token.TSemicolon){semic=true;tk2=this.token()}if(Type.enumEq(tk2,hscript_Token.TId("else"))){e2=this.parseExpr()}else{let _this2=this.tokens;_this2.head=new haxe_ds_GenericCell(tk2,_this2.head);if(semic){let _this3=this.tokens;_this3.head=new haxe_ds_GenericCell(hscript_Token.TSemicolon,_this3.head)}}return hscript_Expr.EIf(cond,e11,e2);case"inline":if(!this.maybe(hscript_Token.TId("function"))){this.unexpected(hscript_Token.TId("inline"))}return this.parseStructure("function");case"new":let a=[];a.push(this.getIdent());_hx_loop1:while(true){let tk5=this.token();if(tk5==null){this.unexpected(tk5);break}else{switch(tk5._hx_index){case 4:break _hx_loop1;case 8:a.push(this.getIdent());break;default:this.unexpected(tk5);break _hx_loop1}}}let args=this.parseExprList(hscript_Token.TPClose);return hscript_Expr.ENew(a.join("."),args);case"return":let tk3=this.token();let _this=this.tokens;_this.head=new haxe_ds_GenericCell(tk3,_this.head);let e3=tk3==hscript_Token.TSemicolon?null:this.parseExpr();return hscript_Expr.EReturn(e3);case"switch":let e4=this.parseExpr();let def=null;let cases=[];let t5=this.token();if(t5!=hscript_Token.TBrOpen){this.unexpected(t5)}_hx_loop2:while(true){let tk5=this.token();if(tk5==null){this.unexpected(tk5);break}else{switch(tk5._hx_index){case 2:switch(tk5.s){case"case":let c={values:[],expr:null};cases.push(c);_hx_loop3:while(true){let e9=this.parseExpr();c.values.push(e9);tk5=this.token();if(tk5==null){this.unexpected(tk5);break}else{switch(tk5._hx_index){case 10:break;case 15:break _hx_loop3;default:this.unexpected(tk5);break _hx_loop3}}}let exprs=[];_hx_loop4:while(true){tk5=this.token();let _this2=this.tokens;_this2.head=new haxe_ds_GenericCell(tk5,_this2.head);if(tk5==null){this.parseFullExpr(exprs)}else{switch(tk5._hx_index){case 0:if(this.resumeErrors){break _hx_loop4}else{this.parseFullExpr(exprs)}break;case 2:switch(tk5.s){case"case":case"default":break _hx_loop4;default:this.parseFullExpr(exprs)}break;case 7:break _hx_loop4;default:this.parseFullExpr(exprs)}}}c.expr=exprs.length==1?exprs[0]:exprs.length==0?hscript_Expr.EBlock([]):hscript_Expr.EBlock(exprs);break;case"default":if(def!=null){this.unexpected(tk5)}let t12=this.token();if(t12!=hscript_Token.TDoubleDot){this.unexpected(t12)}let exprs1=[];_hx_loop5:while(true){tk5=this.token();let _this2=this.tokens;_this2.head=new haxe_ds_GenericCell(tk5,_this2.head);if(tk5==null){this.parseFullExpr(exprs1)}else{switch(tk5._hx_index){case 0:if(this.resumeErrors){break _hx_loop5}else{this.parseFullExpr(exprs1)}break;case 2:switch(tk5.s){case"case":case"default":break _hx_loop5;default:this.parseFullExpr(exprs1)}break;case 7:break _hx_loop5;default:this.parseFullExpr(exprs1)}}}def=exprs1.length==1?exprs1[0]:exprs1.length==0?hscript_Expr.EBlock([]):hscript_Expr.EBlock(exprs1);break;default:this.unexpected(tk5);break _hx_loop2}break;case 7:break _hx_loop2;default:this.unexpected(tk5);break _hx_loop2}}}return hscript_Expr.ESwitch(e4,cases,def);case"throw":let e5=this.parseExpr();return hscript_Expr.EThrow(e5);case"try":let e6=this.parseExpr();let t6=this.token();if(!Type.enumEq(t6,hscript_Token.TId("catch"))){this.unexpected(t6)}let t7=this.token();if(t7!=hscript_Token.TPOpen){this.unexpected(t7)}let vname1=this.getIdent();let t8=this.token();if(t8!=hscript_Token.TDoubleDot){this.unexpected(t8)}let t9=null;if(this.allowTypes){t9=this.parseType()}else{let t12=this.token();if(!Type.enumEq(t12,hscript_Token.TId("Dynamic"))){this.unexpected(t12)}}let t10=this.token();if(t10!=hscript_Token.TPClose){this.unexpected(t10)}let ec=this.parseExpr();return hscript_Expr.ETry(e6,vname1,t9,ec);case"var":let ident=this.getIdent();let tk4=this.token();let t11=null;if(tk4==hscript_Token.TDoubleDot&&this.allowTypes){t11=this.parseType();tk4=this.token()}let e7=null;if(Type.enumEq(tk4,hscript_Token.TOp("="))){e7=this.parseExpr()}else{let _this2=this.tokens;_this2.head=new haxe_ds_GenericCell(tk4,_this2.head)}return hscript_Expr.EVar(ident,t11,e7);case"while":let econd1=this.parseExpr();let e8=this.parseExpr();return hscript_Expr.EWhile(econd1,e8);default:return null}}parseExprNext(e1){let tk=this.token();if(tk==null){let _this=this.tokens;_this.head=new haxe_ds_GenericCell(tk,_this.head);return e1}else{switch(tk._hx_index){case 2:let op=tk.s;if(op=="is"){return this.makeBinop(op,e1,this.parseExpr())}else{let _this2=this.tokens;_this2.head=new haxe_ds_GenericCell(tk,_this2.head);return e1}break;case 3:let op1=tk.s;if(op1=="->"){switch(e1._hx_index){case 1:let i=e1.v;let eret=this.parseExpr();return hscript_Expr.EFunction([{name:i}],hscript_Expr.EReturn(eret));case 3:let _hx_tmp=e1.e;if(_hx_tmp._hx_index==1){let i2=_hx_tmp.v;let eret2=this.parseExpr();return hscript_Expr.EFunction([{name:i2}],hscript_Expr.EReturn(eret2))}break;case 26:let _hx_tmp1=e1.e;if(_hx_tmp1._hx_index==1){let i2=_hx_tmp1.v;let t2=e1.t;let eret2=this.parseExpr();return hscript_Expr.EFunction([{name:i2,t:t2}],hscript_Expr.EReturn(eret2))}break;default:}this.unexpected(tk)}if(this.opPriority.m.get(op1)==-1){if(this.isBlock(e1)||e1._hx_index==3){let _this2=this.tokens;_this2.head=new haxe_ds_GenericCell(tk,_this2.head);return e1}return this.parseExprNext(hscript_Expr.EUnop(op1,false,e1))}return this.makeBinop(op1,e1,this.parseExpr());case 4:return this.parseExprNext(hscript_Expr.ECall(e1,this.parseExprList(hscript_Token.TPClose)));case 8:let field=this.getIdent();return this.parseExprNext(hscript_Expr.EField(e1,field));case 9:let field1=this.getIdent();let tmp="__a_"+this.uid++;let e=hscript_Expr.EBlock([hscript_Expr.EVar(tmp,null,e1),hscript_Expr.ETernary(hscript_Expr.EBinop("==",hscript_Expr.EIdent(tmp),hscript_Expr.EIdent("null")),hscript_Expr.EIdent("null"),hscript_Expr.EField(hscript_Expr.EIdent(tmp),field1))]);return this.parseExprNext(e);case 12:let e2=this.parseExpr();let t=this.token();if(t!=hscript_Token.TBkClose){this.unexpected(t)}return this.parseExprNext(hscript_Expr.EArray(e1,e2));case 14:let e21=this.parseExpr();let t1=this.token();if(t1!=hscript_Token.TDoubleDot){this.unexpected(t1)}let e3=this.parseExpr();return hscript_Expr.ETernary(e1,e21,e3);default:let _this=this.tokens;_this.head=new haxe_ds_GenericCell(tk,_this.head);return e1}}}parseFunctionArgs(){let args=[];let tk=this.token();if(tk!=hscript_Token.TPClose){let done=false;while(!done){let name=null;let opt=false;if(tk!=null){if(tk._hx_index==14){opt=true;tk=this.token()}}if(tk==null){this.unexpected(tk);break}else if(tk._hx_index==2){let id=tk.s;name=id}else{this.unexpected(tk);break}let arg={name:name};args.push(arg);if(opt){arg.opt=true}if(this.allowTypes){if(this.maybe(hscript_Token.TDoubleDot)){arg.t=this.parseType()}if(this.maybe(hscript_Token.TOp("="))){arg.value=this.parseExpr()}}tk=this.token();if(tk==null){this.unexpected(tk)}else{switch(tk._hx_index){case 5:done=true;break;case 10:tk=this.token();break;default:this.unexpected(tk)}}}}return args}parseFunctionDecl(){let t=this.token();if(t!=hscript_Token.TPOpen){this.unexpected(t)}let args=this.parseFunctionArgs();let ret=null;if(this.allowTypes){let tk=this.token();if(tk!=hscript_Token.TDoubleDot){let _this=this.tokens;_this.head=new haxe_ds_GenericCell(tk,_this.head)}else{ret=this.parseType()}}return{args:args,ret:ret,body:this.parseExpr()}}parsePath(){let path=[this.getIdent()];while(true){let t=this.token();if(t!=hscript_Token.TDot){let _this=this.tokens;_this.head=new haxe_ds_GenericCell(t,_this.head);break}path.push(this.getIdent())}return path}parseType(){let t=this.token();let _gthis=this;if(t==null){return this.unexpected(t)}else{switch(t._hx_index){case 2:let v=t.s;let _this=this.tokens;_this.head=new haxe_ds_GenericCell(t,_this.head);let path=this.parsePath();let params=null;t=this.token();if(t==null){let _this3=this.tokens;_this3.head=new haxe_ds_GenericCell(t,_this3.head)}else if(t._hx_index==3){let op=t.s;if(op=="<"){params=[];_hx_loop1:while(true){params.push(this.parseType());t=this.token();if(t!=null){switch(t._hx_index){case 3:let op2=t.s;if(op2==">"){break _hx_loop1}if(HxOverrides.cca(op2,0)==62){let _this3=this.tokens;_this3.head=new haxe_ds_GenericCell(hscript_Token.TOp(HxOverrides.substr(op2,1,null)),_this3.head);break _hx_loop1}break;case 10:continue;default:}}this.unexpected(t);break}}else{let _this3=this.tokens;_this3.head=new haxe_ds_GenericCell(t,_this3.head)}}else{let _this3=this.tokens;_this3.head=new haxe_ds_GenericCell(t,_this3.head)}return this.parseTypeNext(hscript_CType.CTPath(path,params));case 4:let a=this.token();let b=this.token();let _this1=this.tokens;_this1.head=new haxe_ds_GenericCell(b,_this1.head);let _this2=this.tokens;_this2.head=new haxe_ds_GenericCell(a,_this2.head);let withReturn=function(args){let _g=_gthis.token();if(_g==null){let t2=_g;_gthis.unexpected(t2)}else if(_g._hx_index==3){if(_g.s!="->"){let t2=_g;_gthis.unexpected(t2)}}else{let t2=_g;_gthis.unexpected(t2)}return hscript_CType.CTFun(args,_gthis.parseType())};if(a==null){let t2=this.parseType();let _g=this.token();if(_g==null){let t3=_g;return this.unexpected(t3)}else{switch(_g._hx_index){case 5:return this.parseTypeNext(hscript_CType.CTParent(t2));case 10:let args=[t2];do{args.push(this.parseType())}while(this.maybe(hscript_Token.TComma));let t1=this.token();if(t1!=hscript_Token.TPClose){this.unexpected(t1)}return withReturn(args);default:let t22=_g;return this.unexpected(t22)}}}else{switch(a._hx_index){case 2:if(b==null){let t2=this.parseType();let _g4=this.token();if(_g4==null){let t3=_g4;return this.unexpected(t3)}else{switch(_g4._hx_index){case 5:return this.parseTypeNext(hscript_CType.CTParent(t2));case 10:let args2=[t2];do{args2.push(this.parseType())}while(this.maybe(hscript_Token.TComma));let t12=this.token();if(t12!=hscript_Token.TPClose){this.unexpected(t12)}return withReturn(args2);default:let t22=_g4;return this.unexpected(t22)}}}else if(b._hx_index==15){let _g4=[];let _g12=0;let _g22=this.parseFunctionArgs();while(_g12<_g22.length){let arg=_g22[_g12];++_g12;let _g32=arg.value;if(_g32!=null){let v2=_g32;if(!this.resumeErrors){throw haxe_Exception.thrown(hscript_Error.ECustom("Default values not allowed in function types"))}}_g4.push(hscript_CType.CTNamed(arg.name,arg.opt?hscript_CType.CTOpt(arg.t):arg.t))}let args2=_g4;return withReturn(args2)}else{let t2=this.parseType();let _g4=this.token();if(_g4==null){let t3=_g4;return this.unexpected(t3)}else{switch(_g4._hx_index){case 5:return this.parseTypeNext(hscript_CType.CTParent(t2));case 10:let args2=[t2];do{args2.push(this.parseType())}while(this.maybe(hscript_Token.TComma));let t12=this.token();if(t12!=hscript_Token.TPClose){this.unexpected(t12)}return withReturn(args2);default:let t22=_g4;return this.unexpected(t22)}}}break;case 5:let _g=[];let _g1=0;let _g2=this.parseFunctionArgs();while(_g1<_g2.length){let arg=_g2[_g1];++_g1;let _g32=arg.value;if(_g32!=null){let v2=_g32;if(!this.resumeErrors){throw haxe_Exception.thrown(hscript_Error.ECustom("Default values not allowed in function types"))}}_g.push(hscript_CType.CTNamed(arg.name,arg.opt?hscript_CType.CTOpt(arg.t):arg.t))}let args=_g;return withReturn(args);default:let t1=this.parseType();let _g3=this.token();if(_g3==null){let t2=_g3;return this.unexpected(t2)}else{switch(_g3._hx_index){case 5:return this.parseTypeNext(hscript_CType.CTParent(t1));case 10:let args1=[t1];do{args1.push(this.parseType())}while(this.maybe(hscript_Token.TComma));let t2=this.token();if(t2!=hscript_Token.TPClose){this.unexpected(t2)}return withReturn(args1);default:let t3=_g3;return this.unexpected(t3)}}}}break;case 6:let fields=[];let meta=null;_hx_loop8:while(true){t=this.token();if(t==null){this.unexpected(t);break}else{switch(t._hx_index){case 2:let _gs=t.s;if(_gs=="var"){let name2=this.getIdent();let t2=this.token();if(t2!=hscript_Token.TDoubleDot){this.unexpected(t2)}fields.push({name:name2,t:this.parseType(),meta:meta});meta=null;let t1=this.token();if(t1!=hscript_Token.TSemicolon){this.unexpected(t1)}}else{let name2=_gs;let t1=this.token();if(t1!=hscript_Token.TDoubleDot){this.unexpected(t1)}fields.push({name:name2,t:this.parseType(),meta:meta});t=this.token();if(t==null){this.unexpected(t)}else{switch(t._hx_index){case 7:break _hx_loop8;case 10:break;default:this.unexpected(t)}}}break;case 7:break _hx_loop8;case 16:let name=t.s;if(meta==null){meta=[]}meta.push({name:name,params:this.parseMetaArgs()});break;default:this.unexpected(t);break _hx_loop8}}}return this.parseTypeNext(hscript_CType.CTAnon(fields));default:return this.unexpected(t)}}}parseTypeNext(t){let tk=this.token();if(tk==null){let _this=this.tokens;_this.head=new haxe_ds_GenericCell(tk,_this.head);return t}else if(tk._hx_index==3){let op=tk.s;if(op!="->"){let _this=this.tokens;_this.head=new haxe_ds_GenericCell(tk,_this.head);return t}}else{let _this=this.tokens;_this.head=new haxe_ds_GenericCell(tk,_this.head);return t}let t2=this.parseType();if(t2._hx_index==1){let args=t2.args;args.unshift(t);return t2}else{return hscript_CType.CTFun([t],t2)}}parseExprList(etk){let args=[];let tk=this.token();if(tk==etk){return args}let _this=this.tokens;_this.head=new haxe_ds_GenericCell(tk,_this.head);while(true){args.push(this.parseExpr());tk=this.token();if(tk==null){if(tk==etk){break}this.unexpected(tk);break}else if(tk._hx_index!=10){if(tk==etk){break}this.unexpected(tk);break}}return args}parseModule(content,origin,position){if(position==null){position=0}if(origin==null){origin="hscript"}this.initParser(origin,position);this.input=content;this.readPos=0;this.allowTypes=true;this.allowMetadata=true;let decls=[];while(true){let tk=this.token();if(tk==hscript_Token.TEof){break}let _this=this.tokens;_this.head=new haxe_ds_GenericCell(tk,_this.head);decls.push(this.parseModuleDecl())}return decls}parseMetadata(){let meta=[];while(true){let tk=this.token();if(tk==null){let _this=this.tokens;_this.head=new haxe_ds_GenericCell(tk,_this.head);break}else if(tk._hx_index==16){let name=tk.s;meta.push({name:name,params:this.parseMetaArgs()})}else{let _this=this.tokens;_this.head=new haxe_ds_GenericCell(tk,_this.head);break}}return meta}parseParams(){if(this.maybe(hscript_Token.TOp("<"))){if(!this.resumeErrors){throw haxe_Exception.thrown(hscript_Error.EInvalidOp("Unsupported class type parameters"))}}return{}}parseModuleDecl(){let meta=this.parseMetadata();let ident=this.getIdent();let isPrivate=false;let isExtern=false;_hx_loop1:while(true){switch(ident){case"extern":isExtern=true;break;case"private":isPrivate=true;break;default:break _hx_loop1}ident=this.getIdent()}switch(ident){case"class":let name=this.getIdent();let params=this.parseParams();let extend=null;let implement=[];_hx_loop2:while(true){let t5=this.token();if(t5==null){let _this=this.tokens;_this.head=new haxe_ds_GenericCell(t5,_this.head);break}else if(t5._hx_index==2){switch(t5.s){case"extends":extend=this.parseType();break;case"implements":implement.push(this.parseType());break;default:let _this=this.tokens;_this.head=new haxe_ds_GenericCell(t5,_this.head);break _hx_loop2}}else{let _this=this.tokens;_this.head=new haxe_ds_GenericCell(t5,_this.head);break}}let fields=[];let t=this.token();if(t!=hscript_Token.TBrOpen){this.unexpected(t)}while(!this.maybe(hscript_Token.TBrClose))fields.push(this.parseField());return hscript_ModuleDecl.DClass({name:name,meta:meta,params:params,extend:extend,implement:implement,fields:fields,isPrivate:isPrivate,isExtern:isExtern});case"import":let path=[this.getIdent()];let star=false;while(true){let t5=this.token();if(t5!=hscript_Token.TDot){let _this=this.tokens;_this.head=new haxe_ds_GenericCell(t5,_this.head);break}t5=this.token();if(t5==null){this.unexpected(t5)}else{switch(t5._hx_index){case 2:let id=t5.s;path.push(id);break;case 3:if(t5.s=="*"){star=true}else{this.unexpected(t5)}break;default:this.unexpected(t5)}}}let t1=this.token();if(t1!=hscript_Token.TSemicolon){this.unexpected(t1)}return hscript_ModuleDecl.DImport(path,star);case"package":let path1=this.parsePath();let t2=this.token();if(t2!=hscript_Token.TSemicolon){this.unexpected(t2)}return hscript_ModuleDecl.DPackage(path1);case"typedef":let name1=this.getIdent();let params1=this.parseParams();let t3=this.token();if(!Type.enumEq(t3,hscript_Token.TOp("="))){this.unexpected(t3)}let t4=this.parseType();return hscript_ModuleDecl.DTypedef({name:name1,meta:meta,params:params1,isPrivate:isPrivate,t:t4});default:this.unexpected(hscript_Token.TId(ident))}return null}parseField(){let meta=this.parseMetadata();let access=[];_hx_loop1:while(true){let id=this.getIdent();switch(id){case"function":let name=this.getIdent();let inf=this.parseFunctionDecl();return{name:name,meta:meta,access:access,kind:hscript_FieldKind.KFunction({args:inf.args,expr:inf.body,ret:inf.ret})};case"inline":access.push(hscript_FieldAccess.AInline);break;case"macro":access.push(hscript_FieldAccess.AMacro);break;case"override":access.push(hscript_FieldAccess.AOverride);break;case"private":access.push(hscript_FieldAccess.APrivate);break;case"public":access.push(hscript_FieldAccess.APublic);break;case"static":access.push(hscript_FieldAccess.AStatic);break;case"var":let name1=this.getIdent();let get=null;let set=null;if(this.maybe(hscript_Token.TPOpen)){get=this.getIdent();let t=this.token();if(t!=hscript_Token.TComma){this.unexpected(t)}set=this.getIdent();let t1=this.token();if(t1!=hscript_Token.TPClose){this.unexpected(t1)}}let type=this.maybe(hscript_Token.TDoubleDot)?this.parseType():null;let expr=this.maybe(hscript_Token.TOp("="))?this.parseExpr():null;if(expr!=null){if(this.isBlock(expr)){this.maybe(hscript_Token.TSemicolon)}else{let t=this.token();if(t!=hscript_Token.TSemicolon){this.unexpected(t)}}}else if(type!=null&&(type==null?false:type._hx_index==2)){this.maybe(hscript_Token.TSemicolon)}else{let t=this.token();if(t!=hscript_Token.TSemicolon){this.unexpected(t)}}return{name:name1,meta:meta,access:access,kind:hscript_FieldKind.KVar({get:get,set:set,type:type,expr:expr})};default:this.unexpected(hscript_Token.TId(id));break _hx_loop1}}return null}readChar(){return this.input.charCodeAt(this.readPos++)}readString(until){let c=0;let b_b="";let esc=false;let old=this.line;let s=this.input;while(true){let c2=this.input.charCodeAt(this.readPos++);if(c2!=c2){this.line=old;if(!this.resumeErrors){throw haxe_Exception.thrown(hscript_Error.EUnterminatedString)}break}if(esc){esc=false;switch(c2){case 47:if(this.allowJSON){b_b+=String.fromCodePoint(c2)}else{this.invalidChar(c2)}break;case 34:case 39:case 92:b_b+=String.fromCodePoint(c2);break;case 110:b_b+=String.fromCodePoint(10);break;case 114:b_b+=String.fromCodePoint(13);break;case 116:b_b+=String.fromCodePoint(9);break;case 117:if(!this.allowJSON){this.invalidChar(c2)}let k=0;let _g=0;while(_g<4){let i=_g++;k<<=4;let char=this.input.charCodeAt(this.readPos++);switch(char){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:k+=char-48;break;case 65:case 66:case 67:case 68:case 69:case 70:k+=char-55;break;case 97:case 98:case 99:case 100:case 101:case 102:k+=char-87;break;default:if(char!=char){this.line=old;if(!this.resumeErrors){throw haxe_Exception.thrown(hscript_Error.EUnterminatedString)}}this.invalidChar(char)}}b_b+=String.fromCodePoint(k);break;default:this.invalidChar(c2)}}else if(c2==92){esc=true}else if(c2==until){break}else{if(c2==10){this.line++}b_b+=String.fromCodePoint(c2)}}return b_b}token(){if(this.tokens.head!=null){let _this=this.tokens;let k=_this.head;if(k==null){return null}else{_this.head=k.next;return k.elt}}let char;if(this.char<0){char=this.input.charCodeAt(this.readPos++)}else{char=this.char;this.char=-1}while(true){if(char!=char){this.char=char;return hscript_Token.TEof}switch(char){case 0:return hscript_Token.TEof;case 10:this.line++;break;case 9:case 13:case 32:break;case 34:case 39:return hscript_Token.TConst(hscript_Const.CString(this.readString(char)));case 35:char=this.input.charCodeAt(this.readPos++);if(this.idents[char]){let id=String.fromCodePoint(char);while(true){char=this.input.charCodeAt(this.readPos++);if(!this.idents[char]){this.char=char;return this.preprocess(id)}id+=String.fromCodePoint(char)}}this.invalidChar(char);break;case 40:return hscript_Token.TPOpen;case 41:return hscript_Token.TPClose;case 44:return hscript_Token.TComma;case 46:char=this.input.charCodeAt(this.readPos++);switch(char){case 46:char=this.input.charCodeAt(this.readPos++);if(char!=46){this.invalidChar(char)}return hscript_Token.TOp("...");case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:let n=char-48;let exp=1;while(true){char=this.input.charCodeAt(this.readPos++);exp*=10;switch(char){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:n=n*10+(char-48);break;default:this.char=char;return hscript_Token.TConst(hscript_Const.CFloat(n/exp))}}break;default:this.char=char;return hscript_Token.TDot}break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:let n1=(char-48)*1;let exp1=0;while(true){char=this.input.charCodeAt(this.readPos++);exp1*=10;switch(char){case 46:if(exp1>0){if(exp1==10&&this.input.charCodeAt(this.readPos++)==46){let _this=this.tokens;_this.head=new haxe_ds_GenericCell(hscript_Token.TOp("..."),_this.head);let i2=n1|0;return hscript_Token.TConst(i2==n1?hscript_Const.CInt(i2):hscript_Const.CFloat(n1))}this.invalidChar(char)}exp1=1;break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:n1=n1*10+(char-48);break;case 69:case 101:let tk=this.token();let pow=null;if(tk==null){let _this=this.tokens;_this.head=new haxe_ds_GenericCell(tk,_this.head)}else{switch(tk._hx_index){case 1:let _gc=tk.c;if(_gc._hx_index==0){let e=_gc.v;pow=e}else{let _this2=this.tokens;_this2.head=new haxe_ds_GenericCell(tk,_this2.head)}break;case 3:if(tk.s=="-"){tk=this.token();if(tk==null){let _this2=this.tokens;_this2.head=new haxe_ds_GenericCell(tk,_this2.head)}else if(tk._hx_index==1){let _gc2=tk.c;if(_gc2._hx_index==0){let e=_gc2.v;pow=-e}else{let _this2=this.tokens;_this2.head=new haxe_ds_GenericCell(tk,_this2.head)}}else{let _this2=this.tokens;_this2.head=new haxe_ds_GenericCell(tk,_this2.head)}}else{let _this2=this.tokens;_this2.head=new haxe_ds_GenericCell(tk,_this2.head)}break;default:let _this=this.tokens;_this.head=new haxe_ds_GenericCell(tk,_this.head)}}if(pow==null){this.invalidChar(char)}return hscript_Token.TConst(hscript_Const.CFloat(Math.pow(10,pow)/exp1*n1*10));case 120:if(n1>0||exp1>0){this.invalidChar(char)}let n=0;while(true){char=this.input.charCodeAt(this.readPos++);switch(char){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:n=(n<<4)+char-48;break;case 65:case 66:case 67:case 68:case 69:case 70:n=(n<<4)+(char-55);break;case 97:case 98:case 99:case 100:case 101:case 102:n=(n<<4)+(char-87);break;default:this.char=char;return hscript_Token.TConst(hscript_Const.CInt(n))}}break;default:this.char=char;let i=n1|0;return hscript_Token.TConst(exp1>0?hscript_Const.CFloat(n1*10/exp1):i==n1?hscript_Const.CInt(i):hscript_Const.CFloat(n1))}}break;case 58:return hscript_Token.TDoubleDot;case 59:return hscript_Token.TSemicolon;case 61:char=this.input.charCodeAt(this.readPos++);if(char==61){return hscript_Token.TOp("==")}else if(char==62){return hscript_Token.TOp("=>")}this.char=char;return hscript_Token.TOp("=");case 63:char=this.input.charCodeAt(this.readPos++);if(char==46){return hscript_Token.TQuestionDot}this.char=char;return hscript_Token.TQuestion;case 64:char=this.input.charCodeAt(this.readPos++);if(this.idents[char]||char==58){let id=String.fromCodePoint(char);while(true){char=this.input.charCodeAt(this.readPos++);if(!this.idents[char]){this.char=char;return hscript_Token.TMeta(id)}id+=String.fromCodePoint(char)}}this.invalidChar(char);break;case 91:return hscript_Token.TBkOpen;case 93:return hscript_Token.TBkClose;case 123:return hscript_Token.TBrOpen;case 125:return hscript_Token.TBrClose;default:if(this.ops[char]){let op=String.fromCodePoint(char);while(true){char=this.input.charCodeAt(this.readPos++);if(char!=char){char=0}if(!this.ops[char]){this.char=char;return hscript_Token.TOp(op)}let pop=op;op+=String.fromCodePoint(char);if(!this.opPriority.m.has(op)&&this.opPriority.m.has(pop)){if(op=="//"||op=="/*"){return this.tokenComment(op,char)}this.char=char;return hscript_Token.TOp(pop)}}}if(this.idents[char]){let id=String.fromCodePoint(char);while(true){char=this.input.charCodeAt(this.readPos++);if(char!=char){char=0}if(!this.idents[char]){this.char=char;return hscript_Token.TId(id)}id+=String.fromCodePoint(char)}}this.invalidChar(char)}char=this.input.charCodeAt(this.readPos++)}}preprocValue(id){return this.preprocesorValues.m.get(id)}parsePreproCond(){let tk=this.token();if(tk==null){return this.unexpected(tk)}else{switch(tk._hx_index){case 2:let id=tk.s;return hscript_Expr.EIdent(id);case 3:if(tk.s=="!"){return hscript_Expr.EUnop("!",true,this.parsePreproCond())}else{return this.unexpected(tk)}break;case 4:let _this=this.tokens;_this.head=new haxe_ds_GenericCell(hscript_Token.TPOpen,_this.head);return this.parseExpr();default:return this.unexpected(tk)}}}evalPreproCond(e){switch(e._hx_index){case 1:let id=e.v;return this.preprocValue(id)!=null;case 3:let e1=e.e;return this.evalPreproCond(e1);case 6:let _ge=e.e1;let _ge1=e.e2;switch(e.op){case"&&":let e11=_ge;let e2=_ge1;return this.evalPreproCond(e11)&&this.evalPreproCond(e2);case"||":let e12=_ge;let e21=_ge1;return this.evalPreproCond(e12)||this.evalPreproCond(e21);default:if(!this.resumeErrors){throw haxe_Exception.thrown(hscript_Error.EInvalidPreprocessor("Can't eval "+$hxEnums[e.__enum__].__constructs__[e._hx_index]._hx_name))}return false}break;case 7:if(e.op=="!"){let e12=e.e;return!this.evalPreproCond(e12)}else{if(!this.resumeErrors){throw haxe_Exception.thrown(hscript_Error.EInvalidPreprocessor("Can't eval "+$hxEnums[e.__enum__].__constructs__[e._hx_index]._hx_name))}return false}break;default:if(!this.resumeErrors){throw haxe_Exception.thrown(hscript_Error.EInvalidPreprocessor("Can't eval "+$hxEnums[e.__enum__].__constructs__[e._hx_index]._hx_name))}return false}}preprocess(id){switch(id){case"else":case"elseif":if(this.preprocStack.length>0){if(this.preprocStack[this.preprocStack.length-1].r){this.preprocStack[this.preprocStack.length-1].r=false;this.skipTokens();return this.token()}else if(id=="else"){this.preprocStack.pop();this.preprocStack.push({r:true});return this.token()}else{this.preprocStack.pop();return this.preprocess("if")}}else{return hscript_Token.TPrepro(id)}break;case"end":if(this.preprocStack.length>0){this.preprocStack.pop();return this.token()}else{return hscript_Token.TPrepro(id)}break;case"if":let e=this.parsePreproCond();if(this.evalPreproCond(e)){this.preprocStack.push({r:true});return this.token()}this.preprocStack.push({r:false});this.skipTokens();return this.token();default:return hscript_Token.TPrepro(id)}}skipTokens(){let spos=this.preprocStack.length-1;let obj=this.preprocStack[spos];let pos=this.readPos+this.offset;while(true){let tk=this.token();if(tk==hscript_Token.TEof){if(!this.resumeErrors){throw haxe_Exception.thrown(hscript_Error.EInvalidPreprocessor("Unclosed"))}}if(this.preprocStack[spos]!=obj){let _this=this.tokens;_this.head=new haxe_ds_GenericCell(tk,_this.head);break}}}tokenComment(op,char){let c=HxOverrides.cca(op,1);let s=this.input;if(c==47){while(char!=13&&char!=10){char=this.input.charCodeAt(this.readPos++);if(char!=char){break}}this.char=char;return this.token()}if(c==42){let old=this.line;if(op=="/**/"){this.char=char;return this.token()}do{while(char!=42){if(char==10){this.line++}char=this.input.charCodeAt(this.readPos++);if(char!=char){this.line=old;if(!this.resumeErrors){throw haxe_Exception.thrown(hscript_Error.EUnterminatedComment)}break}}char=this.input.charCodeAt(this.readPos++);if(char!=char){this.line=old;if(!this.resumeErrors){throw haxe_Exception.thrown(hscript_Error.EUnterminatedComment)}break}}while(char!=47);return this.token()}this.char=char;return hscript_Token.TOp(op)}constString(c){switch(c._hx_index){case 0:let v=c.v;if(v==null){return"null"}else{return""+v}break;case 1:let f=c.f;if(f==null){return"null"}else{return""+f}break;case 2:let s=c.s;return s}}tokenString(t){switch(t._hx_index){case 0:return"<eof>";case 1:let c=t.c;return this.constString(c);case 2:let s=t.s;return s;case 3:let s1=t.s;return s1;case 4:return"(";case 5:return")";case 6:return"{";case 7:return"}";case 8:return".";case 9:return"?.";case 10:return",";case 11:return";";case 12:return"[";case 13:return"]";case 14:return"?";case 15:return":";case 16:let id=t.s;return"@"+id;case 17:let id1=t.s;return"#"+id1}}}hscript_Parser.__name__="hscript.Parser";Object.assign(hscript_Parser.prototype,{__class__:hscript_Parser});class hscript_Printer{constructor(){}exprToString(e){this.buf=new StringBuf;this.tabs="";this.expr(e);return this.buf.b}typeToString(t){this.buf=new StringBuf;this.tabs="";this.type(t);return this.buf.b}add(s){this.buf.b+=Std.string(s)}type(t){switch(t._hx_index){case 0:let path=t.path;let params=t.params;let s=path.join(".");this.buf.b+=Std.string(s);if(params!=null){this.buf.b+="<";let first2=true;let _g2=0;while(_g2<params.length){let p=params[_g2];++_g2;if(first2){first2=false}else{this.buf.b+=", "}this.type(p)}this.buf.b+=">"}break;case 1:let _gargs=t.args;let _gret=t.ret;let args=_gargs;let ret=_gret;if(Lambda.exists(args,function(a){return a._hx_index==5})){this.buf.b+="(";let _g2=0;while(_g2<args.length){let a=args[_g2];++_g2;if(a._hx_index==5){this.type(a)}else{this.type(hscript_CType.CTNamed("_",a))}}this.buf.b+=")->";this.type(ret)}else{let args2=_gargs;let ret2=_gret;if(args2.length==0){this.buf.b+="Void -> "}else{let _g2=0;while(_g2<args2.length){let a=args2[_g2];++_g2;this.type(a);this.buf.b+=" -> "}}this.type(ret2)}break;case 2:let fields=t.fields;this.buf.b+="{";let first=true;let _g=0;while(_g<fields.length){let f=fields[_g];++_g;if(first){first=false;this.buf.b+=" "}else{this.buf.b+=", "}this.buf.b+=Std.string(f.name+" : ");this.type(f.t)}this.buf.b+=first?"}":" }";break;case 3:let t1=t.t;this.buf.b+="(";this.type(t1);this.buf.b+=")";break;case 4:let t2=t.t;this.buf.b+="?";this.type(t2);break;case 5:let name=t.n;let t3=t.t;this.buf.b+=name==null?"null":""+name;this.buf.b+=":";this.type(t3);break}}addType(t){if(t!=null){this.buf.b+=" : ";this.type(t)}}expr(e){if(e==null){this.buf.b+="??NULL??";return}switch(e._hx_index){case 0:let c=e.c;switch(c._hx_index){case 0:let i=c.v;this.buf.b+=i==null?"null":""+i;break;case 1:let f=c.f;this.buf.b+=f==null?"null":""+f;break;case 2:let s=c.s;this.buf.b+='"';let s1=s.split('"').join('\\"').split("\n").join("\\n").split("\r").join("\\r").split("\t").join("\\t");this.buf.b+=Std.string(s1);this.buf.b+='"';break}break;case 1:let v=e.v;this.buf.b+=v==null?"null":""+v;break;case 2:let n=e.n;let t=e.t;let e1=e.e;this.buf.b+=Std.string("var "+n);this.addType(t);if(e1!=null){this.buf.b+=" = ";this.expr(e1)}break;case 3:let e2=e.e;this.buf.b+="(";this.expr(e2);this.buf.b+=")";break;case 4:let el=e.e;if(el.length==0){this.buf.b+="{}"}else{this.tabs+="\t";this.buf.b+="{\n";let _g5=0;while(_g5<el.length){let e20=el[_g5];++_g5;this.buf.b+=Std.string(this.tabs);this.expr(e20);this.buf.b+=";\n"}this.tabs=HxOverrides.substr(this.tabs,1,null);this.buf.b+="}"}break;case 5:let e3=e.e;let f1=e.f;this.expr(e3);this.buf.b+=Std.string("."+f1);break;case 6:let op=e.op;let e11=e.e1;let e21=e.e2;this.expr(e11);this.buf.b+=Std.string(" "+op+" ");this.expr(e21);break;case 7:let op1=e.op;let pre=e.prefix;let e4=e.e;if(pre){this.buf.b+=op1==null?"null":""+op1;this.expr(e4)}else{this.expr(e4);this.buf.b+=op1==null?"null":""+op1}break;case 8:let e5=e.e;let args=e.params;if(e5==null){this.expr(e5)}else{switch(e5._hx_index){case 0:this.expr(e5);break;case 1:this.expr(e5);break;case 5:this.expr(e5);break;default:this.buf.b+="(";this.expr(e5);this.buf.b+=")"}}this.buf.b+="(";let first=true;let _g=0;while(_g<args.length){let a=args[_g];++_g;if(first){first=false}else{this.buf.b+=", "}this.expr(a)}this.buf.b+=")";break;case 9:let cond=e.cond;let e12=e.e1;let e22=e.e2;this.buf.b+="if( ";this.expr(cond);this.buf.b+=" ) ";this.expr(e12);if(e22!=null){this.buf.b+=" else ";this.expr(e22)}break;case 10:let cond1=e.cond;let e6=e.e;this.buf.b+="while( ";this.expr(cond1);this.buf.b+=" ) ";this.expr(e6);break;case 11:let v1=e.v;let it=e.it;let e7=e.e;this.buf.b+=Std.string("for( "+v1+" in ");this.expr(it);this.buf.b+=" ) ";this.expr(e7);break;case 12:this.buf.b+="break";break;case 13:this.buf.b+="continue";break;case 14:let params=e.args;let e8=e.e;let name=e.name;let ret=e.ret;this.buf.b+="function";if(name!=null){this.buf.b+=Std.string(" "+name)}this.buf.b+="(";let first1=true;let _g1=0;while(_g1<params.length){let a=params[_g1];++_g1;if(first1){first1=false}else{this.buf.b+=", "}if(a.opt){this.buf.b+="?"}this.buf.b+=Std.string(a.name);this.addType(a.t)}this.buf.b+=")";this.addType(ret);this.buf.b+=" ";this.expr(e8);break;case 15:let e9=e.e;this.buf.b+="return";if(e9!=null){this.buf.b+=" ";this.expr(e9)}break;case 16:let e10=e.e;let index=e.index;this.expr(e10);this.buf.b+="[";this.expr(index);this.buf.b+="]";break;case 17:let el1=e.e;this.buf.b+="[";let first2=true;let _g2=0;while(_g2<el1.length){let e20=el1[_g2];++_g2;if(first2){first2=false}else{this.buf.b+=", "}this.expr(e20)}this.buf.b+="]";break;case 18:let cl=e.cl;let args1=e.params;this.buf.b+=Std.string("new "+cl+"(");let first3=true;let _g3=0;while(_g3<args1.length){let e20=args1[_g3];++_g3;if(first3){first3=false}else{this.buf.b+=", "}this.expr(e20)}this.buf.b+=")";break;case 19:let e13=e.e;this.buf.b+="throw ";this.expr(e13);break;case 20:let e14=e.e;let v2=e.v;let t1=e.t;let ecatch=e.ecatch;this.buf.b+="try ";this.expr(e14);this.buf.b+=Std.string(" catch( "+v2);this.addType(t1);this.buf.b+=") ";this.expr(ecatch);break;case 21:let fl=e.fl;if(fl.length==0){this.buf.b+="{}"}else{this.tabs+="\t";this.buf.b+="{\n";let _g5=0;while(_g5<fl.length){let f=fl[_g5];++_g5;this.buf.b+=Std.string(this.tabs);this.buf.b+=Std.string(f.name+" : ");this.expr(f.e);this.buf.b+=",\n"}this.tabs=HxOverrides.substr(this.tabs,1,null);this.buf.b+="}"}break;case 22:let c1=e.cond;let e15=e.e1;let e23=e.e2;this.expr(c1);this.buf.b+=" ? ";this.expr(e15);this.buf.b+=" : ";this.expr(e23);break;case 23:let e16=e.e;let cases=e.cases;let def=e.defaultExpr;this.buf.b+="switch( ";this.expr(e16);this.buf.b+=") {";let _g4=0;while(_g4<cases.length){let c2=cases[_g4];++_g4;this.buf.b+="case ";let first4=true;let _g5=0;let _g12=c2.values;while(_g5<_g12.length){let v3=_g12[_g5];++_g5;if(first4){first4=false}else{this.buf.b+=", "}this.expr(v3)}this.buf.b+=": ";this.expr(c2.expr);this.buf.b+=";\n"}if(def!=null){this.buf.b+="default: ";this.expr(def);this.buf.b+=";\n"}this.buf.b+="}";break;case 24:let cond2=e.cond;let e17=e.e;this.buf.b+="do ";this.expr(e17);this.buf.b+=" while ( ";this.expr(cond2);this.buf.b+=" )";break;case 25:let name1=e.name;let args2=e.args;let e18=e.e;this.buf.b+="@";this.buf.b+=name1==null?"null":""+name1;if(args2!=null&&args2.length>0){this.buf.b+="(";let first4=true;let _g5=0;while(_g5<args2.length){let a=args2[_g5];++_g5;if(first4){first4=false}else{this.buf.b+=", "}this.expr(e18)}this.buf.b+=")"}this.buf.b+=" ";this.expr(e18);break;case 26:let e19=e.e;let t2=e.t;this.buf.b+="(";this.expr(e19);this.buf.b+=" : ";this.addType(t2);this.buf.b+=")";break}}static toString(e){return(new hscript_Printer).exprToString(e)}static errorToString(e){let message;switch(e._hx_index){case 0:let c=e.c;message="Invalid character: '"+(c!=c?"EOF":String.fromCodePoint(c))+"' ("+c+")";break;case 1:let s=e.s;message='Unexpected token: "'+s+'"';break;case 2:message="Unterminated string";break;case 3:message="Unterminated comment";break;case 4:let str=e.msg;message="Invalid preprocessor ("+str+")";break;case 5:let v=e.v;message="Unknown variable: "+v;break;case 6:let v1=e.v;message="Invalid iterator: "+v1;break;case 7:let op=e.op;message="Invalid operator: "+op;break;case 8:let f=e.f;message="Invalid access to field "+f;break;case 9:let msg=e.msg;message=msg;break}return message}}hscript_Printer.__name__="hscript.Printer";Object.assign(hscript_Printer.prototype,{__class__:hscript_Printer});class js_Boot{static getClass(o){if(o==null){return null}else if(o instanceof Array){return Array}else{let cl=o.__class__;if(cl!=null){return cl}let name=js_Boot.__nativeClassName(o);if(name!=null){return js_Boot.__resolveNativeClass(name)}return null}}static __string_rec(o,s){if(o==null){return"null"}if(s.length>=5){return"<...>"}let t=typeof o;if(t=="function"&&(o.__name__||o.__ename__)){t="object"}switch(t){case"function":return"<function>";case"object":if(o.__enum__){let e=$hxEnums[o.__enum__];let con=e.__constructs__[o._hx_index];let n=con._hx_name;if(o.__params__){s=s+"\t";let params=o.__params__();let _g=0;let _g1=params.length;while(true){if(!(_g<_g1)){break}let i=function($this){var $r;_g=_g+1;$r=_g-1;return $r}(this);params[i]=js_Boot.__string_rec(params[i],s)}return(n==null?"null":""+n)+"("+params.join(",")+")"}else{return n}}if(o instanceof Array){let str2="[";s+="\t";let _g=0;let _g1=o.length;while(_g<_g1){let i=_g++;str2+=(i>0?",":"")+js_Boot.__string_rec(o[i],s)}str2+="]";return str2}let tostr;try{tostr=o.toString}catch(_g){haxe_NativeStackTrace.lastError=_g;return"???"}if(tostr!=null&&tostr!=Object.toString&&typeof tostr=="function"){let s2=o.toString();if(s2!="[object Object]"){return s2}}let str="{\n";s+="\t";let hasp=o.hasOwnProperty!=null;let k=null;for(k in o){if(hasp&&!o.hasOwnProperty(k)){continue}if(k=="prototype"||k=="__class__"||k=="__super__"||k=="__interfaces__"||k=="__properties__"){continue}if(str.length!=2){str+=", \n"}str+=s+k+" : "+js_Boot.__string_rec(o[k],s)}s=s.substring(1);str+="\n"+s+"}";return str;case"string":return o;default:return String(o)}}static __interfLoop(cc,cl){if(cc==null){return false}if(cc==cl){return true}let intf=cc.__interfaces__;if(intf!=null&&(cc.__super__==null||cc.__super__.__interfaces__!=intf)){let _g=0;let _g1=intf.length;while(_g<_g1){let i=_g++;let i1=intf[i];if(i1==cl||js_Boot.__interfLoop(i1,cl)){return true}}}return js_Boot.__interfLoop(cc.__super__,cl)}static __instanceof(o,cl){if(cl==null){return false}switch(cl){case Array:return o instanceof Array;case Bool:return typeof o=="boolean";case Dynamic:return o!=null;case Float:return typeof o=="number";case Int:return typeof o=="number"&&(o|0)===o;case String:return typeof o=="string";default:if(o!=null){if(typeof cl=="function"){if(js_Boot.__downcastCheck(o,cl)){return true}}else if(typeof cl=="object"&&js_Boot.__isNativeObj(cl)){if(o instanceof cl){return true}}}else{return false}if(cl==Class?o.__name__!=null:false){return true}if(cl==Enum?o.__ename__!=null:false){return true}return o.__enum__!=null?$hxEnums[o.__enum__]==cl:false}}static __downcastCheck(o,cl){return o instanceof cl||cl.__isInterface__&&js_Boot.__interfLoop(js_Boot.getClass(o),cl)}static __nativeClassName(o){let name=js_Boot.__toStr.call(o).slice(8,-1);if(name=="Object"||name=="Function"||name=="Math"||name=="JSON"){return null}return name}static __isNativeObj(o){return js_Boot.__nativeClassName(o)!=null}static __resolveNativeClass(name){return $global[name]}}js_Boot.__name__="js.Boot";var js_node_ChildProcess=require("child_process");var js_node_Dns=require("dns");var js_node_Fs=require("fs");class js_node_KeyValue{static get_key(this1){return this1[0]}static get_value(this1){return this1[1]}}var js_node_Path=require("path");var js_node_buffer_Buffer=require("buffer").Buffer;class js_node_buffer__$Buffer_Helper{static bytesOfBuffer(b){let o=Object.create(haxe_io_Bytes.prototype);o.length=b.byteLength;o.b=b;b.bufferValue=b;b.hxBytes=o;b.bytes=b;return o}}js_node_buffer__$Buffer_Helper.__name__="js.node.buffer._Buffer.Helper";var js_node_net_Socket=require("net").Socket;class js_node_stream_WritableNewOptionsAdapter{static from(options){if(!Object.prototype.hasOwnProperty.call(options,"final")){Object.defineProperty(options,"final",{get:function(){return options.final_}})}return options}}class js_node_url_URLSearchParamsEntry{static _hx_new(name,value){return[name,value]}static get_name(this1){return this1[0]}static get_value(this1){return this1[1]}}class sys_FileSystem{static exists(path){try{js_node_Fs.accessSync(path);return true}catch(_g){haxe_NativeStackTrace.lastError=_g;return false}}}sys_FileSystem.__name__="sys.FileSystem";class sys_io_FileInput extends haxe_io_Input{constructor(fd){super();this.hasReachedEof=false;this.fd=fd;this.pos=0}throwEof(){this.hasReachedEof=true;throw haxe_Exception.thrown(new haxe_io_Eof)}readByte(){let buf=js_node_buffer_Buffer.alloc(1);let bytesRead;try{bytesRead=js_node_Fs.readSync(this.fd,buf,0,1,this.pos)}catch(_g){haxe_NativeStackTrace.lastError=_g;let e=haxe_Exception.caught(_g).unwrap();if(e.code=="EOF"){this.hasReachedEof=true;throw haxe_Exception.thrown(new haxe_io_Eof)}throw haxe_Exception.thrown(haxe_io_Error.Custom(e))}if(bytesRead==0){this.hasReachedEof=true;throw haxe_Exception.thrown(new haxe_io_Eof)}this.pos++;return buf[0]}readBytes(s,pos,len){let data=s.b;let buf=js_node_buffer_Buffer.from(data.buffer,data.byteOffset,s.length);let bytesRead;try{bytesRead=js_node_Fs.readSync(this.fd,buf,pos,len,this.pos)}catch(_g){haxe_NativeStackTrace.lastError=_g;let e=haxe_Exception.caught(_g).unwrap();if(e.code=="EOF"){this.hasReachedEof=true;throw haxe_Exception.thrown(new haxe_io_Eof)}throw haxe_Exception.thrown(haxe_io_Error.Custom(e))}if(bytesRead==0){this.hasReachedEof=true;throw haxe_Exception.thrown(new haxe_io_Eof)}this.pos+=bytesRead;return bytesRead}close(){js_node_Fs.closeSync(this.fd)}seek(p,pos){this.hasReachedEof=false;switch(pos._hx_index){case 0:this.pos=p;break;case 1:this.pos+=p;break;case 2:this.pos=js_node_Fs.fstatSync(this.fd).size+p;break}}tell(){return this.pos}eof(){return this.hasReachedEof}}sys_io_FileInput.__name__="sys.io.FileInput";sys_io_FileInput.__super__=haxe_io_Input;Object.assign(sys_io_FileInput.prototype,{__class__:sys_io_FileInput});class sys_io_FileOutput extends haxe_io_Output{constructor(fd){super();this.fd=fd;this.pos=0}writeByte(b){let buf=js_node_buffer_Buffer.alloc(1);buf[0]=b;js_node_Fs.writeSync(this.fd,buf,0,1,this.pos);this.pos++}writeBytes(s,pos,len){let data=s.b;let buf=js_node_buffer_Buffer.from(data.buffer,data.byteOffset,s.length);let wrote=js_node_Fs.writeSync(this.fd,buf,pos,len,this.pos);this.pos+=wrote;return wrote}close(){js_node_Fs.closeSync(this.fd)}seek(p,pos){switch(pos._hx_index){case 0:this.pos=p;break;case 1:this.pos+=p;break;case 2:this.pos=js_node_Fs.fstatSync(this.fd).size+p;break}}tell(){return this.pos}}sys_io_FileOutput.__name__="sys.io.FileOutput";sys_io_FileOutput.__super__=haxe_io_Output;Object.assign(sys_io_FileOutput.prototype,{__class__:sys_io_FileOutput});var sys_io_FileSeek=$hxEnums["sys.io.FileSeek"]={__ename__:true,__constructs__:null,SeekBegin:{_hx_name:"SeekBegin",_hx_index:0,__enum__:"sys.io.FileSeek",toString:$estr},SeekCur:{_hx_name:"SeekCur",_hx_index:1,__enum__:"sys.io.FileSeek",toString:$estr},SeekEnd:{_hx_name:"SeekEnd",_hx_index:2,__enum__:"sys.io.FileSeek",toString:$estr}};sys_io_FileSeek.__constructs__=[sys_io_FileSeek.SeekBegin,sys_io_FileSeek.SeekCur,sys_io_FileSeek.SeekEnd];var vscode_debugAdapter_StoppedEvent=require_main().StoppedEvent;var vscode_debugAdapter_ContinuedEvent=require_main().ContinuedEvent;var vscode_debugAdapter_InitializedEvent=require_main().InitializedEvent;var vscode_debugAdapter_TerminatedEvent=require_main().TerminatedEvent;var vscode_debugAdapter_OutputEvent=require_main().OutputEvent;var vscode_debugAdapter_ThreadEvent=require_main().ThreadEvent;function $getIterator(o){if(o instanceof Array)return new haxe_iterators_ArrayIterator(o);else return o.iterator()}function $bind(o,m){if(m==null)return null;if(m.__id__==null)m.__id__=$global.$haxeUID++;var f;if(o.hx__closures__==null)o.hx__closures__={};else f=o.hx__closures__[m.__id__];if(f==null){f=m.bind(o);o.hx__closures__[m.__id__]=f}return f}$global.$haxeUID|=0;if(typeof performance!="undefined"?typeof performance.now=="function":false){HxOverrides.now=performance.now.bind(performance)}{Object.defineProperty(String.prototype,"__class__",{value:String,enumerable:false,writable:true});String.__name__="String";Array.__name__="Array";Date.prototype.__class__=Date;Date.__name__="Date";var Int={};var Dynamic={};var Float=Number;var Bool=Boolean;var Class={};var Enum={}}js_Boot.__toStr={}.toString;HLAdapter.UID=0;HLAdapter.DEBUG=false;HLAdapter.DEFAULT_PORT=6112;HLAdapter.CONNECTION_TIMEOUT=2;HLAdapter.isWindows=Sys.systemName()=="Windows";HLAdapter.isMac=Sys.systemName()=="Mac";HLAdapter.r_trace=new EReg("^([A-Za-z0-9_./]+):([0-9]+): ","");HLAdapter.r_call=new EReg("^Called from [^(]+\\(([A-Za-z0-9_./\\\\:]+) line ([0-9]+)\\)","");HLAdapter.KEYWORDS=function($this){var $r;let _g=new haxe_ds_StringMap;{let _g1=0;let _g2=["function","class","static","var","if","else","while","do","for","break","return","continue","extends","implements","import","switch","case","default","private","public","try","catch","new","throw","extern","enum","in","interface","untyped","cast","override","typedef","dynamic","package","inline","using","abstract","macro","final","operator","overload"];while(_g1<_g2.length){let k=_g2[_g1];++_g1;_g.m.set(k,true)}}$r=_g;return $r}(this);format_hl_Reader.OP_ARGS=[2,2,2,2,2,2,1,3,3,3,3,3,3,3,3,3,3,3,3,3,2,2,1,1,2,3,4,5,6,-1,-1,-1,-1,2,3,3,2,2,3,3,2,2,3,3,2,2,2,2,3,3,3,3,3,3,3,3,3,3,1,2,2,2,2,2,2,2,0,1,1,1,-1,1,2,1,3,3,3,3,3,3,3,3,1,2,2,2,2,2,2,2,-1,2,2,4,3,0,2,3,0,3,3,1];haxe_io_FPHelper.i64tmp=new haxe__$Int64__$_$_$Int64(0,0);haxe_io_FPHelper.helper=new DataView(new ArrayBuffer(8));hld_Register.Esp=0;hld_Register.Ebp=1;hld_Register.Eip=2;hld_Register.EFlags=3;hld_Register.Dr0=4;hld_Register.Dr1=5;hld_Register.Dr2=6;hld_Register.Dr3=7;hld_Register.Dr6=8;hld_Register.Dr7=9;hld_Register.Eax=10;hld_Register.Xmm0=11;hld_Debugger.INT3=204;hld_Debugger.HW_REGS=[4,5,6,7];hld_Debugger.DEBUG=false;hld_Debugger.IGNORED_ROOTS=["hl","sys","haxe","Date","EReg","Math","Reflect","Std","String","StringBuf","Sys","Type","Xml","IntIterator","ArrayObj"];hld_NativeReg.Eax=0;hld_NativeReg.Ecx=1;hld_NativeReg.Edx=2;hld_NativeReg.Ebx=3;hld_NativeReg.Esp=4;hld_NativeReg.Ebp=5;hld_NativeReg.Esi=6;hld_NativeReg.Edi=7;hld_NativeReg.R8=8;hld_NativeReg.R9=9;hld_NativeReg.R10=10;hld_NativeReg.R11=11;hld_NativeReg.R12=12;hld_NativeReg.R13=13;hld_NativeReg.R14=14;hld_NativeReg.R15=15;hld_Eval.HASH_PREFIX="$_h$";hld_Value.INTBASE="0123456789ABCDEF";hld_Value.GUIDBASE="#&0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";hscript_Parser.p1=0;hscript_Parser.tokenMin=0;hscript_Parser.tokenMax=0;HLAdapter.main()})(typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:exports);